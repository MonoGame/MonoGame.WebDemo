Bridge.assembly("MonoGame.Framework",function($asm,globals){"use strict";Bridge.define("Microsoft.Xna.Framework.Audio.AudioCategory",{inherits:function(){return[System.IEquatable$1(Microsoft.Xna.Framework.Audio.AudioCategory)]},$kind:"struct",statics:{methods:{op_Equality:function(first,second){return Bridge.referenceEquals(first._engine,second._engine)&&System.String.equals(first._name,second._name,4)},op_Inequality:function(first,second){return!Bridge.referenceEquals(first._engine,second._engine)||!System.String.equals(first._name,second._name,4)},getDefaultValue:function(){return new Microsoft.Xna.Framework.Audio.AudioCategory}}},fields:{_name:null,_engine:null,_sounds:null,_volume:null,isBackgroundMusic:!1,isPublic:!1,instanceLimit:!1,maxInstances:0,InstanceBehavior:0,fadeType:0,fadeIn:0,fadeOut:0},props:{Name:{get:function(){return this._name}}},alias:["equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Audio$AudioCategory$equalsT"],ctors:{$ctor1:function(audioengine,name,reader){var instanceFlags,volume,visibilityFlags;this.$initialize();this._sounds=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Audio.XactSound).ctor);this._name=name;this._engine=audioengine;this.maxInstances=reader.ReadByte();this.instanceLimit=this.maxInstances!==255;this.fadeIn=reader.ReadUInt16()/1e3;this.fadeOut=reader.ReadUInt16()/1e3;instanceFlags=reader.ReadByte();this.fadeType=instanceFlags&7;this.InstanceBehavior=instanceFlags>>3;reader.ReadUInt16();volume=Microsoft.Xna.Framework.Audio.XactHelpers.ParseVolumeFromDecibels(reader.ReadByte());this._volume=System.Array.init([volume],System.Single);visibilityFlags=reader.ReadByte();this.isBackgroundMusic=(visibilityFlags&1)!=0;this.isPublic=(visibilityFlags&2)!=0},ctor:function(){this.$initialize()}},methods:{AddSound:function(sound){this._sounds.add(sound)},GetPlayingInstanceCount:function(){for(var sum=0,i=0;i<this._sounds.Count;i=i+1|0)this._sounds.getItem(i).Playing&&(sum=sum+1|0);return sum},GetOldestInstance:function(){for(var i=0;i<this._sounds.Count;i=i+1|0)if(this._sounds.getItem(i).Playing)return this._sounds.getItem(i);return null},Pause:function(){var $t,sound;$t=Bridge.getEnumerator(this._sounds);try{while($t.moveNext())sound=$t.Current,sound.Pause()}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}},Resume:function(){var $t,sound;$t=Bridge.getEnumerator(this._sounds);try{while($t.moveNext())sound=$t.Current,sound.Resume()}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}},Stop:function(options){var $t,sound;$t=Bridge.getEnumerator(this._sounds);try{while($t.moveNext())sound=$t.Current,sound.Stop(options)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}},SetVolume:function(volume){var $t,sound;if(volume<0)throw new System.ArgumentException.$ctor1("The volume must be positive.");if(this._volume[System.Array.index(0,this._volume)]!==volume){this._volume[System.Array.index(0,this._volume)]=volume;$t=Bridge.getEnumerator(this._sounds);try{while($t.moveNext())sound=$t.Current,sound.UpdateCategoryVolume(volume)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}},equalsT:function(other){return Bridge.referenceEquals(this._engine,other._engine)&&System.String.equals(this._name,other._name,4)},equals:function(obj){if(Bridge.is(obj,Microsoft.Xna.Framework.Audio.AudioCategory)){var other=System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Audio.AudioCategory),Microsoft.Xna.Framework.Audio.AudioCategory));return Bridge.referenceEquals(this._engine,other._engine)&&System.String.equals(this._name,other._name,4)}return!1},getHashCode:function(){return Bridge.getHashCode(this._name)^Bridge.getHashCode(this._engine)},toString:function(){return this._name},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Audio.AudioCategory;return s._name=this._name,s._engine=this._engine,s._sounds=this._sounds,s._volume=this._volume,s.isBackgroundMusic=this.isBackgroundMusic,s.isPublic=this.isPublic,s.instanceLimit=this.instanceLimit,s.maxInstances=this.maxInstances,s.InstanceBehavior=this.InstanceBehavior,s.fadeType=this.fadeType,s.fadeIn=this.fadeIn,s.fadeOut=this.fadeOut,s}}});Bridge.define("Microsoft.Xna.Framework.Audio.AudioChannels",{$kind:"enum",statics:{fields:{Mono:1,Stereo:2}}});Bridge.define("Microsoft.Xna.Framework.Audio.AudioEmitter",{fields:{_dopplerScale:0,Forward:null,Position:null,Up:null,Velocity:null},props:{DopplerScale:{get:function(){return this._dopplerScale},set:function(value){if(value<0)throw new System.ArgumentOutOfRangeException.$ctor1("AudioEmitter.DopplerScale must be greater than or equal to 0.0f");this._dopplerScale=value}}},ctors:{init:function(){this.Forward=new Microsoft.Xna.Framework.Vector3;this.Position=new Microsoft.Xna.Framework.Vector3;this.Up=new Microsoft.Xna.Framework.Vector3;this.Velocity=new Microsoft.Xna.Framework.Vector3},ctor:function(){this.$initialize();this._dopplerScale=1;this.Forward=Microsoft.Xna.Framework.Vector3.Forward.$clone();this.Position=Microsoft.Xna.Framework.Vector3.Zero.$clone();this.Up=Microsoft.Xna.Framework.Vector3.Up.$clone();this.Velocity=Microsoft.Xna.Framework.Vector3.Zero.$clone()}}});Bridge.define("Microsoft.Xna.Framework.Audio.AudioEngine",{inherits:[System.IDisposable],statics:{fields:{ContentVersion:0},ctors:{init:function(){this.ContentVersion=39}},methods:{OpenStream:function(filePath,useMemoryStream){var stream,memStream;return useMemoryStream===void 0&&(useMemoryStream=!1),stream=Microsoft.Xna.Framework.TitleContainer.OpenStream(filePath),useMemoryStream&&(memStream=new System.IO.MemoryStream.ctor,stream.CopyTo(memStream),memStream.Seek(System.Int64(0),0),stream.Dispose(),stream=memStream),stream},ReadNullTerminatedStrings:function(count,reader){for(var s,ret=System.Array.init(count,null,System.String),i=0;System.Int64(i).lt(System.Int64(count));i=i+1|0){for(s=new(System.Collections.Generic.List$1(System.Char).ctor);reader.PeekChar()!==0;)s.add(reader.ReadChar());reader.ReadChar();ret[System.Array.index(i,ret)]=System.String.fromCharArray(s.ToArray())}return ret}}},fields:{_categories:null,_categoryLookup:null,_variables:null,_variableLookup:null,_cueVariables:null,_stopwatch:null,_lastUpdateTime:null,_reverbSettings:null,_reverbCurves:null,ActiveCues:null,Wavebanks:null,RpcCurves:null,UpdateLock:null,IsDisposed:!1},events:{Disposing:null},props:{Categories:{get:function(){return this._categories}}},alias:["Dispose","System$IDisposable$Dispose"],ctors:{init:function(){this._lastUpdateTime=new System.TimeSpan;this._categoryLookup=new(System.Collections.Generic.Dictionary$2(System.String,System.Int32));this._variableLookup=new(System.Collections.Generic.Dictionary$2(System.String,System.Int32));this.ActiveCues=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Audio.Cue).ctor);this.Wavebanks=new(System.Collections.Generic.Dictionary$2(System.String,Microsoft.Xna.Framework.Audio.WaveBank));this.UpdateLock={}},ctor:function(settingsFile){Microsoft.Xna.Framework.Audio.AudioEngine.$ctor1.call(this,settingsFile,System.TimeSpan.zero,"")},$ctor1:function(settingsFile,lookAheadTime,rendererId){var stream,reader,magic,formatVersion,numCats,numVars,dspParamsOffset,categoryNames,i,i1,v,reverbCurves,i2,curve,variable,pointCount,j,dspParameter;if(this.$initialize(),System.String.isNullOrEmpty(settingsFile))throw new System.ArgumentNullException.$ctor1("settingsFile");stream=Microsoft.Xna.Framework.Audio.AudioEngine.OpenStream(settingsFile);try{reader=new System.IO.BinaryReader.ctor(stream);try{if(magic=reader.ReadUInt32(),magic!==1179862872)throw new System.ArgumentException.$ctor1("XGS format not recognized");reader.ReadUInt16();formatVersion=reader.ReadUInt16();formatVersion!==42;reader.ReadUInt16();reader.ReadUInt32();reader.ReadUInt32();reader.ReadByte();numCats=reader.ReadUInt16();numVars=reader.ReadUInt16();reader.ReadUInt16();reader.ReadUInt16();var numRpc=reader.ReadUInt16(),numDspPresets=reader.ReadUInt16(),numDspParams=reader.ReadUInt16(),catsOffset=reader.ReadUInt32(),varsOffset=reader.ReadUInt32();reader.ReadUInt32();reader.ReadUInt32();reader.ReadUInt32();reader.ReadUInt32();var catNamesOffset=reader.ReadUInt32(),varNamesOffset=reader.ReadUInt32(),rpcOffset=reader.ReadUInt32();for(reader.ReadUInt32(),dspParamsOffset=reader.ReadUInt32(),reader.BaseStream.Seek(System.Int64(catNamesOffset),0),categoryNames=Microsoft.Xna.Framework.Audio.AudioEngine.ReadNullTerminatedStrings(numCats,reader),this._categories=System.Array.init(numCats,function(){return new Microsoft.Xna.Framework.Audio.AudioCategory},Microsoft.Xna.Framework.Audio.AudioCategory),reader.BaseStream.Seek(System.Int64(catsOffset),0),i=0;System.Int64(i).lt(System.Int64(numCats));i=i+1|0)this._categories[System.Array.index(i,this._categories)]=new Microsoft.Xna.Framework.Audio.AudioCategory.$ctor1(this,categoryNames[System.Array.index(i,categoryNames)],reader),this._categoryLookup.add(categoryNames[System.Array.index(i,categoryNames)],i);reader.BaseStream.Seek(System.Int64(varNamesOffset),0);var varNames=Microsoft.Xna.Framework.Audio.AudioEngine.ReadNullTerminatedStrings(numVars,reader),variables=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Audio.RpcVariable).ctor),cueVariables=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Audio.RpcVariable).ctor),globalVariables=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Audio.RpcVariable).ctor);for(reader.BaseStream.Seek(System.Int64(varsOffset),0),i1=0;System.Int64(i1).lt(System.Int64(numVars));i1=i1+1|0)v=new Microsoft.Xna.Framework.Audio.RpcVariable,v.Name=varNames[System.Array.index(i1,varNames)],v.Flags=reader.ReadByte(),v.InitValue=reader.ReadSingle(),v.MinValue=reader.ReadSingle(),v.MaxValue=reader.ReadSingle(),v.Value=v.InitValue,variables.add(v.$clone()),v.IsGlobal?(globalVariables.add(v.$clone()),this._variableLookup.add(v.Name,globalVariables.Count-1|0)):cueVariables.add(v.$clone());if(this._cueVariables=cueVariables.ToArray(),this._variables=globalVariables.ToArray(),reverbCurves=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Audio.RpcCurve).ctor),this.RpcCurves=System.Array.init(numRpc,function(){return new Microsoft.Xna.Framework.Audio.RpcCurve},Microsoft.Xna.Framework.Audio.RpcCurve),numRpc>0)for(reader.BaseStream.Seek(System.Int64(rpcOffset),0),i2=0;System.Int64(i2).lt(System.Int64(numRpc));i2=i2+1|0){for(curve=new Microsoft.Xna.Framework.Audio.RpcCurve,curve.FileOffset=System.Int64.clipu32(reader.BaseStream.Position),variable={v:variables.getItem(reader.ReadUInt16()).$clone()},variable.v.IsGlobal?(curve.IsGlobal=!0,curve.Variable=globalVariables.FindIndex$2(function($me,variable){return function(e){return Bridge.referenceEquals(e.Name,variable.v.Name)}}(this,variable))):(curve.IsGlobal=!1,curve.Variable=cueVariables.FindIndex$2(function($me,variable){return function(e){return Bridge.referenceEquals(e.Name,variable.v.Name)}}(this,variable))),pointCount=reader.ReadByte(),curve.Parameter=reader.ReadUInt16(),curve.Points=System.Array.init(pointCount,function(){return new Microsoft.Xna.Framework.Audio.RpcPoint},Microsoft.Xna.Framework.Audio.RpcPoint),j=0;j<pointCount;j=j+1|0)curve.Points[System.Array.index(j,curve.Points)].Position=reader.ReadSingle(),curve.Points[System.Array.index(j,curve.Points)].Value=reader.ReadSingle(),curve.Points[System.Array.index(j,curve.Points)].Type=reader.ReadByte();dspParameter=curve.Parameter-Microsoft.Xna.Framework.Audio.RpcParameter.NumParameters|0;dspParameter>=0&&variable.v.IsGlobal&&reverbCurves.add(curve.$clone());this.RpcCurves[System.Array.index(i2,this.RpcCurves)]=curve.$clone()}if(this._reverbCurves=reverbCurves.ToArray(),numDspPresets>0){if(numDspPresets!==1)throw new System.Exception("Unexpected number of DSP presets!");if(numDspParams!==22)throw new System.Exception("Unexpected number of DSP parameters!");reader.BaseStream.Seek(System.Int64(dspParamsOffset),0);this._reverbSettings=new Microsoft.Xna.Framework.Audio.ReverbSettings(reader)}}finally{Bridge.hasValue(reader)&&reader.System$IDisposable$Dispose()}}finally{Bridge.hasValue(stream)&&stream.System$IDisposable$Dispose()}this._stopwatch=new System.Diagnostics.Stopwatch;this._stopwatch.start()}},methods:{CreateCueVariables:function(){var clone=System.Array.init(this._cueVariables.length,function(){return new Microsoft.Xna.Framework.Audio.RpcVariable},Microsoft.Xna.Framework.Audio.RpcVariable);return System.Array.copy(this._cueVariables,0,clone,0,this._cueVariables.length),clone},GetRpcIndex:function(fileOffset){for(var i=0;i<this.RpcCurves.length;i=i+1|0)if(this.RpcCurves[System.Array.index(i,this.RpcCurves)].FileOffset===fileOffset)return i;return-1},Update:function(){var cur=this._stopwatch.timeSpan(),elapsed=System.TimeSpan.sub(cur,this._lastUpdateTime),dt,x,cue,i;for(this._lastUpdateTime=cur,dt=elapsed.getTotalSeconds(),this.UpdateLock,x=0;x<this.ActiveCues.Count;){if(cue=this.ActiveCues.getItem(x),cue.Update(dt),cue.IsStopped||cue.IsDisposed){this.ActiveCues.remove(cue);continue}x=x+1|0}if(this._reverbSettings!=null){for(i=0;i<this._reverbCurves.length;i=i+1|0){var curve=this._reverbCurves[System.Array.index(i,this._reverbCurves)].$clone(),result=curve.Evaluate(this._variables[System.Array.index(curve.Variable,this._variables)].Value),parameter=curve.Parameter-Microsoft.Xna.Framework.Audio.RpcParameter.NumParameters|0;this._reverbSettings.setItem(parameter,result)}Microsoft.Xna.Framework.Audio.SoundEffect.PlatformSetReverbSettings(this._reverbSettings)}},GetCategory:function(name){if(System.String.isNullOrEmpty(name))throw new System.ArgumentNullException.$ctor1("name");var i={};if(!this._categoryLookup.tryGetValue(name,i))throw new System.InvalidOperationException.$ctor1("This resource could not be created.");return this._categories[System.Array.index(i.v,this._categories)].$clone()},GetGlobalVariable:function(name){if(System.String.isNullOrEmpty(name))throw new System.ArgumentNullException.$ctor1("name");var i={};if(!this._variableLookup.tryGetValue(name,i)||!this._variables[System.Array.index(i.v,this._variables)].IsPublic)throw new System.IndexOutOfRangeException.$ctor1("The specified variable index is invalid.");return this.UpdateLock,this._variables[System.Array.index(i.v,this._variables)].Value},GetGlobalVariable$1:function(index){return this.UpdateLock,this._variables[System.Array.index(index,this._variables)].Value},SetGlobalVariable:function(name,value){if(System.String.isNullOrEmpty(name))throw new System.ArgumentNullException.$ctor1("name");var i={};if(!this._variableLookup.tryGetValue(name,i)||!this._variables[System.Array.index(i.v,this._variables)].IsPublic)throw new System.IndexOutOfRangeException.$ctor1("The specified variable index is invalid.");this.UpdateLock;this._variables[System.Array.index(i.v,this._variables)].SetValue(value)},Dispose:function(){this.Dispose$1(!0);System.GC.SuppressFinalize(this)},Dispose$1:function(disposing){this.IsDisposed||(this.IsDisposed=!0,disposing&&Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.Disposing,{}))}}});Bridge.define("Microsoft.Xna.Framework.Audio.AudioListener",{fields:{Forward:null,Position:null,Up:null,Velocity:null},ctors:{init:function(){this.Forward=new Microsoft.Xna.Framework.Vector3;this.Position=new Microsoft.Xna.Framework.Vector3;this.Up=new Microsoft.Xna.Framework.Vector3;this.Velocity=new Microsoft.Xna.Framework.Vector3},ctor:function(){this.$initialize();this.Forward=Microsoft.Xna.Framework.Vector3.Forward.$clone();this.Position=Microsoft.Xna.Framework.Vector3.Zero.$clone();this.Up=Microsoft.Xna.Framework.Vector3.Up.$clone();this.Velocity=Microsoft.Xna.Framework.Vector3.Zero.$clone()}}});Bridge.define("Microsoft.Xna.Framework.Audio.AudioStopOptions",{$kind:"enum",statics:{fields:{AsAuthored:0,Immediate:1}}});Bridge.define("Microsoft.Xna.Framework.Audio.ClipEvent",{fields:{_clip:null,RandomOffset:0,TimeStamp:0},ctors:{ctor:function(clip,timeStamp,randomOffset){this.$initialize();this._clip=clip;this.TimeStamp=timeStamp;this.RandomOffset=randomOffset}}});Bridge.define("Microsoft.Xna.Framework.Audio.CrossfadeType",{$kind:"enum",statics:{fields:{Linear:0,Logarithmic:1,EqualPower:2}}});Bridge.define("Microsoft.Xna.Framework.Audio.Cue",{inherits:[System.IDisposable],fields:{_engine:null,_name:null,_sounds:null,_probs:null,_variables:null,_curSound:null,_applied3D:!1,_played:!1,IsPrepared:!1,IsCreated:!1,IsDisposed:!1},events:{Disposing:null},props:{IsPaused:{get:function(){return this._curSound!=null?this._curSound.IsPaused:!1}},IsPlaying:{get:function(){return this._curSound!=null?this._curSound.Playing:!1}},IsStopped:{get:function(){return this._curSound!=null?this._curSound.Stopped:!this.IsDisposed&&!this.IsPrepared}},IsStopping:{get:function(){return!1}},IsPreparing:{get:function(){return!1}},Name:{get:function(){return this._name}}},alias:["Dispose","System$IDisposable$Dispose"],ctors:{ctor:function(engine,cuename,sound){this.$initialize();this._engine=engine;this._name=cuename;this._sounds=System.Array.init(1,null,Microsoft.Xna.Framework.Audio.XactSound);this._sounds[System.Array.index(0,this._sounds)]=sound;this._probs=System.Array.init(1,0,System.Single);this._probs[System.Array.index(0,this._probs)]=1;this._variables=engine.CreateCueVariables()},$ctor1:function(engine,cuename,sounds,probs){this.$initialize();this._engine=engine;this._name=cuename;this._sounds=sounds;this._probs=probs;this._variables=engine.CreateCueVariables()}},methods:{Prepare:function(){this.IsDisposed=!1;this.IsCreated=!1;this.IsPrepared=!0;this._curSound=null},Pause:function(){this._engine.UpdateLock;this._curSound!=null&&this._curSound.Pause()},Play:function(){var index,volume;this._engine.UpdateLock;this._engine.ActiveCues.contains(this)||this._engine.ActiveCues.add(this);index=Microsoft.Xna.Framework.Audio.XactHelpers.Random.Next$1(this._sounds.length);this._curSound=this._sounds[System.Array.index(index,this._sounds)];volume=this.UpdateRpcCurves();this._curSound.Play(volume,this._engine);this._played=!0;this.IsPrepared=!1},Resume:function(){this._engine.UpdateLock;this._curSound!=null&&this._curSound.Resume()},Stop:function(options){this._engine.UpdateLock;this._engine.ActiveCues.remove(this);this._curSound!=null&&this._curSound.Stop(options);this.IsPrepared=!1},FindVariable:function(name){for(var i=0;i<this._variables.length;i=i+1|0)if(Bridge.referenceEquals(this._variables[System.Array.index(i,this._variables)].Name,name))return i;return-1},SetVariable:function(name,value){if(System.String.isNullOrEmpty(name))throw new System.ArgumentNullException.$ctor1("name");var i=this.FindVariable(name);if(i===-1||!this._variables[System.Array.index(i,this._variables)].IsPublic)throw new System.IndexOutOfRangeException.$ctor1("The specified variable index is invalid.");this._variables[System.Array.index(i,this._variables)].SetValue(value)},GetVariable:function(name){if(System.String.isNullOrEmpty(name))throw new System.ArgumentNullException.$ctor1("name");var i=this.FindVariable(name);if(i===-1||!this._variables[System.Array.index(i,this._variables)].IsPublic)throw new System.IndexOutOfRangeException.$ctor1("The specified variable index is invalid.");return this._variables[System.Array.index(i,this._variables)].Value},Apply3D:function(listener,emitter){var direction,distance,i,relativeVelocity;if(listener==null)throw new System.ArgumentNullException.$ctor1("listener");if(emitter==null)throw new System.ArgumentNullException.$ctor1("emitter");if(this._played&&!this._applied3D)throw new System.InvalidOperationException.$ctor1("You must call Apply3D on a Cue before calling Play to be able to call Apply3D after calling Play.");direction=Microsoft.Xna.Framework.Vector3.op_Subtraction(listener.Position.$clone(),emitter.Position.$clone());this._engine.UpdateLock;distance=direction.Length();i=this.FindVariable("Distance");this._variables[System.Array.index(i,this._variables)].SetValue(distance);distance>0&&(direction=Microsoft.Xna.Framework.Vector3.op_Division$1(direction.$clone(),distance));var right=Microsoft.Xna.Framework.Vector3.Cross(listener.Up.$clone(),listener.Forward.$clone()),slope=Microsoft.Xna.Framework.Vector3.Dot(direction.$clone(),listener.Forward.$clone()),angle=Microsoft.Xna.Framework.MathHelper.ToDegrees(Math.acos(slope)),j=this.FindVariable("OrientationAngle");this._variables[System.Array.index(j,this._variables)].SetValue(angle);this._curSound!=null&&this._curSound.SetCuePan(Microsoft.Xna.Framework.Vector3.Dot(direction.$clone(),right.$clone()));relativeVelocity=Microsoft.Xna.Framework.Vector3.op_Subtraction(emitter.Velocity.$clone(),listener.Velocity.$clone());relativeVelocity=Microsoft.Xna.Framework.Vector3.op_Multiply$1(relativeVelocity.$clone(),emitter.DopplerScale);this._applied3D=!0},Update:function(dt){this._curSound!=null&&(this._curSound.Update(dt),this.UpdateRpcCurves())},UpdateRpcCurves:function(){var $t,volume=1,rpcCurves=this._curSound.RpcCurves,i,rpcCurve,value;if(rpcCurves.length>0){var pitch=0,reverbMix=1,filterFrequency=null,filterQFactor=null;for(i=0;i<rpcCurves.length;i=i+1|0){rpcCurve=($t=this._engine.RpcCurves)[System.Array.index(rpcCurves[System.Array.index(i,rpcCurves)],$t)].$clone();value=rpcCurve.IsGlobal?rpcCurve.Evaluate(this._engine.GetGlobalVariable$1(rpcCurve.Variable)):rpcCurve.Evaluate(this._variables[System.Array.index(rpcCurve.Variable,this._variables)].Value);switch(rpcCurve.Parameter){case Microsoft.Xna.Framework.Audio.RpcParameter.Volume:volume*=Microsoft.Xna.Framework.Audio.XactHelpers.ParseVolumeFromDecibels$1(value/100);break;case Microsoft.Xna.Framework.Audio.RpcParameter.Pitch:pitch+=value/1e3;break;case Microsoft.Xna.Framework.Audio.RpcParameter.ReverbSend:reverbMix*=Microsoft.Xna.Framework.Audio.XactHelpers.ParseVolumeFromDecibels$1(value/100);break;case Microsoft.Xna.Framework.Audio.RpcParameter.FilterFrequency:filterFrequency=value;break;case Microsoft.Xna.Framework.Audio.RpcParameter.FilterQFactor:filterQFactor=value;break;default:throw new System.ArgumentOutOfRangeException.$ctor1("rpcCurve.Parameter");}}pitch=Microsoft.Xna.Framework.MathHelper.Clamp$1(pitch,-1,1);volume<0&&(volume=0);this._curSound.UpdateState(this._engine,volume,pitch,reverbMix,filterFrequency,filterQFactor)}return volume},Dispose:function(){this.Dispose$1(!0)},Dispose$1:function(disposing){this.IsDisposed||(this.IsDisposed=!0,disposing&&(this.IsCreated=!1,this.IsPrepared=!1,Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.Disposing,{})))}}});Bridge.define("Microsoft.Xna.Framework.Audio.DspParameter",{$kind:"struct",statics:{methods:{getDefaultValue:function(){return new Microsoft.Xna.Framework.Audio.DspParameter}}},fields:{Value:0,MinValue:0,MaxValue:0},ctors:{$ctor1:function(reader){this.$initialize();reader.ReadByte();this.Value=reader.ReadSingle();this.MinValue=reader.ReadSingle();this.MaxValue=reader.ReadSingle();reader.ReadUInt16()},ctor:function(){this.$initialize()}},methods:{SetValue:function(value){this.Value=value<this.MinValue?this.MinValue:value>this.MaxValue?this.MaxValue:value},toString:function(){return"Value:"+System.Single.format(this.Value)+" MinValue:"+System.Single.format(this.MinValue)+" MaxValue:"+System.Single.format(this.MaxValue)},getHashCode:function(){return Bridge.addHash([5103901194,this.Value,this.MinValue,this.MaxValue])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Audio.DspParameter)?Bridge.equals(this.Value,o.Value)&&Bridge.equals(this.MinValue,o.MinValue)&&Bridge.equals(this.MaxValue,o.MaxValue):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Audio.DspParameter;return s.Value=this.Value,s.MinValue=this.MinValue,s.MaxValue=this.MaxValue,s}}});Bridge.define("Microsoft.Xna.Framework.Audio.SoundEffectInstance",{inherits:[System.IDisposable],statics:{fields:{Context:null},ctors:{init:function(){this.Context=new AudioContext}}},fields:{_isDisposed:!1,_isPooled:!1,_isXAct:!1,_isDynamic:!1,_effect:null,_pan:0,_volume:0,_pitch:0,_buffer:null,_source:null,_pannerNode:null,_biquadFilterNode:null,_stereoPannerNode:null,_gainNode:null,_state:0,_endTime:0,_startTime:0},props:{IsLooped:{get:function(){return this.PlatformGetIsLooped()},set:function(value){this.PlatformSetIsLooped(value)}},Pan:{get:function(){return this._pan},set:function(value){if(value<-1||value>1)throw new System.ArgumentOutOfRangeException.ctor;this._pan=value;this.PlatformSetPan(value)}},Pitch:{get:function(){return this._pitch},set:function(value){if(!this._isXAct&&(value<-1||value>1))throw new System.ArgumentOutOfRangeException.ctor;this._pitch=value;this.PlatformSetPitch(value)}},Volume:{get:function(){return this._volume},set:function(value){if(!this._isXAct&&(value<0||value>1))throw new System.ArgumentOutOfRangeException.ctor;this._volume=value;this._isXAct?this.PlatformSetVolume(value):this.PlatformSetVolume(value*Microsoft.Xna.Framework.Audio.SoundEffect.MasterVolume)}},State:{get:function(){return this.PlatformGetState()}},IsDisposed:{get:function(){return this._isDisposed}}},alias:["Dispose","System$IDisposable$Dispose"],ctors:{init:function(){this._isDisposed=!1;this._isPooled=!0},ctor:function(){this.$initialize();this._pan=0;this._volume=1;this._pitch=0},$ctor1:function(buffer,sampleRate,channels){Microsoft.Xna.Framework.Audio.SoundEffectInstance.ctor.call(this);this.PlatformInitialize$1(buffer,sampleRate,channels)}},methods:{Apply3D:function(listener,emitter){this.PlatformApply3D(listener,emitter)},Apply3D$1:function(listeners,emitter){var $t,l;$t=Bridge.getEnumerator(listeners);try{while($t.moveNext())l=$t.Current,this.PlatformApply3D(l,emitter)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}},Pause:function(){this.PlatformPause()},Play:function(){if(this._isDisposed)throw new System.ObjectDisposedException.$ctor1("SoundEffectInstance");if(this.State!==Microsoft.Xna.Framework.Audio.SoundState.Playing){if(this.State!==Microsoft.Xna.Framework.Audio.SoundState.Paused){if(!Microsoft.Xna.Framework.Audio.SoundEffectInstancePool.SoundsAvailable)throw new Microsoft.Xna.Framework.Audio.InstancePlayLimitException;Microsoft.Xna.Framework.Audio.SoundEffectInstancePool.Remove(this)}this._isXAct||this.PlatformSetVolume(this._volume*Microsoft.Xna.Framework.Audio.SoundEffect.MasterVolume);this.PlatformPlay()}},Resume:function(){this.PlatformResume()},Stop:function(){this.PlatformStop(!0)},Stop$1:function(immediate){this.PlatformStop(immediate)},Dispose:function(){this.Dispose$1(!0);System.GC.SuppressFinalize(this)},Dispose$1:function(disposing){this._isDisposed||(this.PlatformDispose(disposing),this._isDisposed=!0)},PlatformInitialize$1:function(buffer,sampleRate,channels){throw new System.NotImplementedException.ctor;},PlatformInitialize:function(buffer){this._buffer=buffer;this._state=Microsoft.Xna.Framework.Audio.SoundState.Stopped;this._stereoPannerNode=Microsoft.Xna.Framework.Audio.SoundEffectInstance.Context.createStereoPanner();this._pannerNode=Microsoft.Xna.Framework.Audio.SoundEffectInstance.Context.createPanner();this._gainNode=Microsoft.Xna.Framework.Audio.SoundEffectInstance.Context.createGain();this._stereoPannerNode.connect(this._pannerNode);this._pannerNode.connect(this._gainNode);this._gainNode.connect(Microsoft.Xna.Framework.Audio.SoundEffectInstance.Context.destination)},PlatformApply3D:function(listener,emitter){},PlatformPause:function(){this._state===Microsoft.Xna.Framework.Audio.SoundState.Playing&&(this._endTime=Microsoft.Xna.Framework.Audio.SoundEffectInstance.Context.currentTime,this.PlatformStop(!0),this._state=Microsoft.Xna.Framework.Audio.SoundState.Paused)},PlatformPlay:function(){this._state!==Microsoft.Xna.Framework.Audio.SoundState.Playing&&(this._state=Microsoft.Xna.Framework.Audio.SoundState.Stopped,this.PlatformResume(),this._startTime=Microsoft.Xna.Framework.Audio.SoundEffectInstance.Context.currentTime)},PlatformResume:function(){if(this._state!==Microsoft.Xna.Framework.Audio.SoundState.Playing){var startPos=this._state===Microsoft.Xna.Framework.Audio.SoundState.Paused?this._endTime-this._startTime:0;this._startTime=Microsoft.Xna.Framework.Audio.SoundEffectInstance.Context.currentTime-startPos;this._source=Microsoft.Xna.Framework.Audio.SoundEffectInstance.Context.createBufferSource();this._source.buffer=this._buffer;this._source.connect(this._stereoPannerNode);this._source.start(0,startPos);this._state=Microsoft.Xna.Framework.Audio.SoundState.Playing}},PlatformStop:function(immediate){this._state===Microsoft.Xna.Framework.Audio.SoundState.Playing&&(this._source.stop(),this._source.disconnect(),this._state=Microsoft.Xna.Framework.Audio.SoundState.Stopped)},PlatformSetIsLooped:function(value){this._source.loop=value},PlatformGetIsLooped:function(){return this._source.loop},PlatformSetPan:function(value){this._stereoPannerNode.pan.value=value},PlatformSetPitch:function(value){},PlatformGetState:function(){return this._state},PlatformSetVolume:function(value){this._gainNode.gain.value=value},PlatformSetReverbMix:function(mix){},PlatformSetFilter:function(mode,filterQ,frequency){this._biquadFilterNode.frequency.value=frequency;this._biquadFilterNode.Q.value=filterQ;switch(mode){case Microsoft.Xna.Framework.Audio.FilterMode.BandPass:this._biquadFilterNode.type="bandpass";break;case Microsoft.Xna.Framework.Audio.FilterMode.HighPass:this._biquadFilterNode.type="highpass";break;case Microsoft.Xna.Framework.Audio.FilterMode.LowPass:this._biquadFilterNode.type="lowpass";break}this._stereoPannerNode.disconnect();this._biquadFilterNode.disconnect();this._stereoPannerNode.connect(this._biquadFilterNode);this._biquadFilterNode.connect(this._pannerNode)},PlatformClearFilter:function(){this._stereoPannerNode.disconnect();this._biquadFilterNode.disconnect();this._stereoPannerNode.connect(this._pannerNode)},PlatformDispose:function(disposing){this.PlatformStop(!0)}}});Bridge.define("Microsoft.Xna.Framework.Audio.DynamicSoundEffectInstanceManager",{statics:{fields:{_playingInstances:null},ctors:{ctor:function(){Microsoft.Xna.Framework.Audio.DynamicSoundEffectInstanceManager._playingInstances=new(System.Collections.Generic.List$1(System.WeakReference).ctor)}},methods:{AddInstance:function(instance){var weakRef=new System.WeakReference(instance);Microsoft.Xna.Framework.Audio.DynamicSoundEffectInstanceManager._playingInstances.add(weakRef)},RemoveInstance:function(instance){for(var i=Microsoft.Xna.Framework.Audio.DynamicSoundEffectInstanceManager._playingInstances.Count-1|0;i>=0;i=i-1|0)if(Bridge.referenceEquals(Microsoft.Xna.Framework.Audio.DynamicSoundEffectInstanceManager._playingInstances.getItem(i).Target,instance)){Microsoft.Xna.Framework.Audio.DynamicSoundEffectInstanceManager._playingInstances.removeAt(i);return}},UpdatePlayingInstances:function(){for(var target,i=Microsoft.Xna.Framework.Audio.DynamicSoundEffectInstanceManager._playingInstances.Count-1|0;i>=0;i=i-1|0)target=Bridge.as(Microsoft.Xna.Framework.Audio.DynamicSoundEffectInstanceManager._playingInstances.getItem(i).Target,Microsoft.Xna.Framework.Audio.DynamicSoundEffectInstance),target!=null?target.IsDisposed||target.UpdateQueue():Microsoft.Xna.Framework.Audio.DynamicSoundEffectInstanceManager._playingInstances.removeAt(i)}}}});Bridge.define("Microsoft.Xna.Framework.Audio.FilterMode",{$kind:"enum",statics:{fields:{LowPass:0,BandPass:1,HighPass:2}}});Bridge.define("Microsoft.Xna.Framework.Audio.InstancePlayLimitException",{inherits:[System.Exception]});Bridge.define("Microsoft.Xna.Framework.Audio.MaxInstanceBehavior",{$kind:"enum",statics:{fields:{FailToPlay:0,Queue:1,ReplaceOldest:2,ReplaceQuietest:3,ReplaceLowestPriority:4}}});Bridge.define("Microsoft.Xna.Framework.Audio.Microphone",{statics:{fields:{_isHeadset:!1,_allMicrophones:null,_default:null},props:{All:{get:function(){return Microsoft.Xna.Framework.Audio.Microphone._allMicrophones==null&&(Microsoft.Xna.Framework.Audio.Microphone._allMicrophones=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Audio.Microphone).ctor)),new(System.Collections.ObjectModel.ReadOnlyCollection$1(Microsoft.Xna.Framework.Audio.Microphone))(Microsoft.Xna.Framework.Audio.Microphone._allMicrophones)}},Default:{get:function(){return Microsoft.Xna.Framework.Audio.Microphone._default}}},ctors:{init:function(){this._isHeadset=!1}},methods:{UpdateMicrophones:function(){if(Microsoft.Xna.Framework.Audio.Microphone._allMicrophones!=null)for(var i=0;i<Microsoft.Xna.Framework.Audio.Microphone._allMicrophones.Count;i=i+1|0)Microsoft.Xna.Framework.Audio.Microphone._allMicrophones.getItem(i).Update()},StopMicrophones:function(){if(Microsoft.Xna.Framework.Audio.Microphone._allMicrophones!=null)for(var i=0;i<Microsoft.Xna.Framework.Audio.Microphone._allMicrophones.Count;i=i+1|0)Microsoft.Xna.Framework.Audio.Microphone._allMicrophones.getItem(i).Stop()}}},fields:{Name:null,_bufferDuration:null,_sampleRate:0,_state:0},events:{BufferReady:null},props:{BufferDuration:{get:function(){return this._bufferDuration},set:function(value){if(value.getTotalMilliseconds()<100||value.getTotalMilliseconds()>1e3)throw new System.ArgumentOutOfRangeException.$ctor1("Buffer duration must be a value between 100 and 1000 milliseconds.");if(value.getTotalMilliseconds()%10!=0)throw new System.ArgumentOutOfRangeException.$ctor1("Buffer duration must be 10ms aligned (BufferDuration % 10 == 0)");this._bufferDuration=value}},IsHeadset:{get:function(){return Microsoft.Xna.Framework.Audio.Microphone._isHeadset}},SampleRate:{get:function(){return this._sampleRate}},State:{get:function(){return this._state}}},ctors:{init:function(){this._bufferDuration=new System.TimeSpan;this._bufferDuration=System.TimeSpan.fromMilliseconds(1e3);this._sampleRate=44100;this._state=Microsoft.Xna.Framework.Audio.MicrophoneState.Stopped},ctor:function(){this.$initialize()},$ctor1:function(name){this.$initialize();this.Name=name}},methods:{GetSampleDuration:function(sizeInBytes){return Microsoft.Xna.Framework.Audio.SoundEffect.GetSampleDuration(sizeInBytes,this._sampleRate,Microsoft.Xna.Framework.Audio.AudioChannels.Mono)},GetSampleSizeInBytes:function(duration){return Microsoft.Xna.Framework.Audio.SoundEffect.GetSampleSizeInBytes(duration,this._sampleRate,Microsoft.Xna.Framework.Audio.AudioChannels.Mono)},Start:function(){this.PlatformStart()},Stop:function(){this.PlatformStop()},GetData:function(buffer){return this.GetData$1(buffer,0,buffer.length)},GetData$1:function(buffer,offset,count){return this.PlatformGetData(buffer,offset,count)},PlatformStart:function(){throw new System.NotImplementedException.ctor;},PlatformStop:function(){throw new System.NotImplementedException.ctor;},Update:function(){throw new System.NotImplementedException.ctor;},PlatformGetData:function(buffer,offset,count){throw new System.NotImplementedException.ctor;}}});Bridge.define("Microsoft.Xna.Framework.Audio.MicrophoneState",{$kind:"enum",statics:{fields:{Started:0,Stopped:1}}});Bridge.define("Microsoft.Xna.Framework.Audio.MiniFormatTag",{$kind:"enum",statics:{fields:{Pcm:0,Xma:1,Adpcm:2,Wma:3,PlatformSpecific:0},ctors:{init:function(){this.PlatformSpecific=Microsoft.Xna.Framework.Audio.MiniFormatTag.Xma}}}});Bridge.define("Microsoft.Xna.Framework.Audio.NoAudioHardwareException",{inherits:[System.Exception],ctors:{ctor:function(msg){this.$initialize();System.Exception.ctor.call(this,msg)},$ctor1:function(msg,innerException){this.$initialize();System.Exception.ctor.call(this,msg,innerException)}}});Bridge.define("Microsoft.Xna.Framework.Audio.NoMicrophoneConnectedException",{inherits:[System.Exception],ctors:{ctor:function(msg){this.$initialize();System.Exception.ctor.call(this,msg)},$ctor1:function(msg,innerException){this.$initialize();System.Exception.ctor.call(this,msg,innerException)}}});Bridge.define("Microsoft.Xna.Framework.Audio.ReverbSettings",{fields:{_parameters:null},props:{ReflectionsDelayMs:{get:function(){return this._parameters[System.Array.index(0,this._parameters)].Value}},ReverbDelayMs:{get:function(){return this._parameters[System.Array.index(1,this._parameters)].Value}},PositionLeft:{get:function(){return this._parameters[System.Array.index(2,this._parameters)].Value}},PositionRight:{get:function(){return this._parameters[System.Array.index(3,this._parameters)].Value}},PositionLeftMatrix:{get:function(){return this._parameters[System.Array.index(4,this._parameters)].Value}},PositionRightMatrix:{get:function(){return this._parameters[System.Array.index(5,this._parameters)].Value}},EarlyDiffusion:{get:function(){return this._parameters[System.Array.index(6,this._parameters)].Value}},LateDiffusion:{get:function(){return this._parameters[System.Array.index(7,this._parameters)].Value}},LowEqGain:{get:function(){return this._parameters[System.Array.index(8,this._parameters)].Value}},LowEqCutoff:{get:function(){return this._parameters[System.Array.index(9,this._parameters)].Value}},HighEqGain:{get:function(){return this._parameters[System.Array.index(10,this._parameters)].Value}},HighEqCutoff:{get:function(){return this._parameters[System.Array.index(11,this._parameters)].Value}},RearDelayMs:{get:function(){return this._parameters[System.Array.index(12,this._parameters)].Value}},RoomFilterFrequencyHz:{get:function(){return this._parameters[System.Array.index(13,this._parameters)].Value}},RoomFilterMainDb:{get:function(){return this._parameters[System.Array.index(14,this._parameters)].Value}},RoomFilterHighFrequencyDb:{get:function(){return this._parameters[System.Array.index(15,this._parameters)].Value}},ReflectionsGainDb:{get:function(){return this._parameters[System.Array.index(16,this._parameters)].Value}},ReverbGainDb:{get:function(){return this._parameters[System.Array.index(17,this._parameters)].Value}},DecayTimeSec:{get:function(){return this._parameters[System.Array.index(18,this._parameters)].Value}},DensityPct:{get:function(){return this._parameters[System.Array.index(19,this._parameters)].Value}},RoomSizeFeet:{get:function(){return this._parameters[System.Array.index(20,this._parameters)].Value}},WetDryMixPct:{get:function(){return this._parameters[System.Array.index(21,this._parameters)].Value}}},ctors:{init:function(){this._parameters=System.Array.init(22,function(){return new Microsoft.Xna.Framework.Audio.DspParameter},Microsoft.Xna.Framework.Audio.DspParameter)},ctor:function(reader){this.$initialize();this._parameters[System.Array.index(0,this._parameters)]=new Microsoft.Xna.Framework.Audio.DspParameter.$ctor1(reader);this._parameters[System.Array.index(1,this._parameters)]=new Microsoft.Xna.Framework.Audio.DspParameter.$ctor1(reader);this._parameters[System.Array.index(2,this._parameters)]=new Microsoft.Xna.Framework.Audio.DspParameter.$ctor1(reader);this._parameters[System.Array.index(3,this._parameters)]=new Microsoft.Xna.Framework.Audio.DspParameter.$ctor1(reader);this._parameters[System.Array.index(4,this._parameters)]=new Microsoft.Xna.Framework.Audio.DspParameter.$ctor1(reader);this._parameters[System.Array.index(5,this._parameters)]=new Microsoft.Xna.Framework.Audio.DspParameter.$ctor1(reader);this._parameters[System.Array.index(6,this._parameters)]=new Microsoft.Xna.Framework.Audio.DspParameter.$ctor1(reader);this._parameters[System.Array.index(7,this._parameters)]=new Microsoft.Xna.Framework.Audio.DspParameter.$ctor1(reader);this._parameters[System.Array.index(8,this._parameters)]=new Microsoft.Xna.Framework.Audio.DspParameter.$ctor1(reader);this._parameters[System.Array.index(9,this._parameters)]=new Microsoft.Xna.Framework.Audio.DspParameter.$ctor1(reader);this._parameters[System.Array.index(10,this._parameters)]=new Microsoft.Xna.Framework.Audio.DspParameter.$ctor1(reader);this._parameters[System.Array.index(11,this._parameters)]=new Microsoft.Xna.Framework.Audio.DspParameter.$ctor1(reader);this._parameters[System.Array.index(12,this._parameters)]=new Microsoft.Xna.Framework.Audio.DspParameter.$ctor1(reader);this._parameters[System.Array.index(13,this._parameters)]=new Microsoft.Xna.Framework.Audio.DspParameter.$ctor1(reader);this._parameters[System.Array.index(14,this._parameters)]=new Microsoft.Xna.Framework.Audio.DspParameter.$ctor1(reader);this._parameters[System.Array.index(15,this._parameters)]=new Microsoft.Xna.Framework.Audio.DspParameter.$ctor1(reader);this._parameters[System.Array.index(16,this._parameters)]=new Microsoft.Xna.Framework.Audio.DspParameter.$ctor1(reader);this._parameters[System.Array.index(17,this._parameters)]=new Microsoft.Xna.Framework.Audio.DspParameter.$ctor1(reader);this._parameters[System.Array.index(18,this._parameters)]=new Microsoft.Xna.Framework.Audio.DspParameter.$ctor1(reader);this._parameters[System.Array.index(19,this._parameters)]=new Microsoft.Xna.Framework.Audio.DspParameter.$ctor1(reader);this._parameters[System.Array.index(20,this._parameters)]=new Microsoft.Xna.Framework.Audio.DspParameter.$ctor1(reader);this._parameters[System.Array.index(21,this._parameters)]=new Microsoft.Xna.Framework.Audio.DspParameter.$ctor1(reader)}},methods:{getItem:function(index){return this._parameters[System.Array.index(index,this._parameters)].Value},setItem:function(index,value){this._parameters[System.Array.index(index,this._parameters)].SetValue(value)}}});Bridge.define("Microsoft.Xna.Framework.Audio.RpcCurve",{$kind:"struct",statics:{methods:{getDefaultValue:function(){return new Microsoft.Xna.Framework.Audio.RpcCurve}}},fields:{FileOffset:0,Variable:0,IsGlobal:!1,Parameter:0,Points:null},ctors:{ctor:function(){this.$initialize()}},methods:{Evaluate:function(position){var first=this.Points[System.Array.index(0,this.Points)].$clone(),second,i,t;if(position<=first.Position)return first.Value;if(second=this.Points[System.Array.index(this.Points.length-1|0,this.Points)].$clone(),position>=second.Position)return second.Value;for(i=1;i<this.Points.length;i=i+1|0){if(second=this.Points[System.Array.index(i,this.Points)].$clone(),second.Position>=position)break;first=second.$clone()}switch(first.Type){default:case Microsoft.Xna.Framework.Audio.RpcPointType.Linear:return t=(position-first.Position)/(second.Position-first.Position),first.Value+(second.Value-first.Value)*t}},getHashCode:function(){return Bridge.addHash([2832851655,this.FileOffset,this.Variable,this.IsGlobal,this.Parameter,this.Points])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Audio.RpcCurve)?Bridge.equals(this.FileOffset,o.FileOffset)&&Bridge.equals(this.Variable,o.Variable)&&Bridge.equals(this.IsGlobal,o.IsGlobal)&&Bridge.equals(this.Parameter,o.Parameter)&&Bridge.equals(this.Points,o.Points):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Audio.RpcCurve;return s.FileOffset=this.FileOffset,s.Variable=this.Variable,s.IsGlobal=this.IsGlobal,s.Parameter=this.Parameter,s.Points=this.Points,s}}});Bridge.define("Microsoft.Xna.Framework.Audio.RpcParameter",{$kind:"enum",statics:{fields:{Volume:0,Pitch:1,ReverbSend:2,FilterFrequency:3,FilterQFactor:4,NumParameters:5}}});Bridge.define("Microsoft.Xna.Framework.Audio.RpcPoint",{$kind:"struct",statics:{methods:{getDefaultValue:function(){return new Microsoft.Xna.Framework.Audio.RpcPoint}}},fields:{Type:0,Position:0,Value:0},ctors:{ctor:function(){this.$initialize()}},methods:{getHashCode:function(){return Bridge.addHash([3302087105,this.Type,this.Position,this.Value])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Audio.RpcPoint)?Bridge.equals(this.Type,o.Type)&&Bridge.equals(this.Position,o.Position)&&Bridge.equals(this.Value,o.Value):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Audio.RpcPoint;return s.Type=this.Type,s.Position=this.Position,s.Value=this.Value,s}}});Bridge.define("Microsoft.Xna.Framework.Audio.RpcPointType",{$kind:"enum",statics:{fields:{Linear:0,Fast:1,Slow:2,SinCos:3}}});Bridge.define("Microsoft.Xna.Framework.Audio.RpcVariable",{$kind:"struct",statics:{methods:{getDefaultValue:function(){return new Microsoft.Xna.Framework.Audio.RpcVariable}}},fields:{Name:null,Value:0,Flags:0,InitValue:0,MaxValue:0,MinValue:0},props:{IsPublic:{get:function(){return(this.Flags&1)!=0}},IsReadOnly:{get:function(){return(this.Flags&2)!=0}},IsGlobal:{get:function(){return(this.Flags&4)==0}},IsReserved:{get:function(){return(this.Flags&8)!=0}}},ctors:{ctor:function(){this.$initialize()}},methods:{SetValue:function(value){this.Value=value<this.MinValue?this.MinValue:value>this.MaxValue?this.MaxValue:value},getHashCode:function(){return Bridge.addHash([3090304789,this.Name,this.Value,this.Flags,this.InitValue,this.MaxValue,this.MinValue])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Audio.RpcVariable)?Bridge.equals(this.Name,o.Name)&&Bridge.equals(this.Value,o.Value)&&Bridge.equals(this.Flags,o.Flags)&&Bridge.equals(this.InitValue,o.InitValue)&&Bridge.equals(this.MaxValue,o.MaxValue)&&Bridge.equals(this.MinValue,o.MinValue):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Audio.RpcVariable;return s.Name=this.Name,s.Value=this.Value,s.Flags=this.Flags,s.InitValue=this.InitValue,s.MaxValue=this.MaxValue,s.MinValue=this.MinValue,s}}});Bridge.define("Microsoft.Xna.Framework.Audio.SoundBank",{inherits:[System.IDisposable],fields:{_audioengine:null,_waveBankNames:null,_waveBanks:null,defaultProbability:null,_sounds:null,_probabilities:null,IsInUse:!1,IsDisposed:!1},events:{Disposing:null},alias:["Dispose","System$IDisposable$Dispose"],ctors:{init:function(){this.defaultProbability=System.Array.init([1],System.Single);this._sounds=new(System.Collections.Generic.Dictionary$2(System.String,System.Array.type(Microsoft.Xna.Framework.Audio.XactSound)));this._probabilities=new(System.Collections.Generic.Dictionary$2(System.String,System.Array.type(System.Single)))},ctor:function(audioEngine,fileName){var stream,reader,magic,formatVersion,numSimpleCues,numComplexCues,numWaveBanks,cueNameTableLen,waveBankNameTableOffset,i,cueNames,i1,soundOffset,oldPosition,sound,i2,flags,soundOffset1,oldPosition1,sound1,variationTableOffset,savepos,numEntries,variationflags,j,trackIndex,waveBankIndex,soundOffset2,oldPosition2,soundOffset3,oldPosition3,trackIndex1,waveBankIndex1;if(this.$initialize(),audioEngine==null)throw new System.ArgumentNullException.$ctor1("audioEngine");if(System.String.isNullOrEmpty(fileName))throw new System.ArgumentNullException.$ctor1("fileName");this._audioengine=audioEngine;stream=Microsoft.Xna.Framework.Audio.AudioEngine.OpenStream(fileName,!0);try{reader=new System.IO.BinaryReader.ctor(stream);try{if(magic=reader.ReadUInt32(),magic!==1262634067)throw new System.Exception("Bad soundbank format");reader.ReadUInt16();formatVersion=reader.ReadUInt16();formatVersion!==43;reader.ReadUInt16();reader.ReadUInt32();reader.ReadUInt32();reader.ReadByte();numSimpleCues=reader.ReadUInt16();numComplexCues=reader.ReadUInt16();reader.ReadUInt16();reader.ReadUInt16();numWaveBanks=reader.ReadByte();reader.ReadUInt16();cueNameTableLen=reader.ReadUInt16();reader.ReadUInt16();var simpleCuesOffset=reader.ReadUInt32(),complexCuesOffset=reader.ReadUInt32(),cueNamesOffset=reader.ReadUInt32();for(reader.ReadUInt32(),reader.ReadUInt32(),reader.ReadUInt32(),waveBankNameTableOffset=reader.ReadUInt32(),reader.ReadUInt32(),reader.ReadUInt32(),reader.ReadUInt32(),stream.Seek(System.Int64(waveBankNameTableOffset),0),this._waveBanks=System.Array.init(numWaveBanks,null,Microsoft.Xna.Framework.Audio.WaveBank),this._waveBankNames=System.Array.init(numWaveBanks,null,System.String),i=0;System.Int64(i).lt(System.Int64(numWaveBanks));i=i+1|0)this._waveBankNames[System.Array.index(i,this._waveBankNames)]=System.String.replaceAll(System.Text.Encoding.UTF8.GetString$1(reader.ReadBytes(64),0,64),"\x00","");if(stream.Seek(System.Int64(cueNamesOffset),0),cueNames=System.String.split(System.Text.Encoding.UTF8.GetString$1(reader.ReadBytes(cueNameTableLen|0),0,cueNameTableLen|0),[0].map(function(i){return String.fromCharCode(i)})),numSimpleCues>0)for(stream.Seek(System.Int64(simpleCuesOffset),0),i1=0;System.Int64(i1).lt(System.Int64(numSimpleCues));i1=i1+1|0)reader.ReadByte(),soundOffset=reader.ReadUInt32(),oldPosition=stream.Position,stream.Seek(System.Int64(soundOffset),0),sound=new Microsoft.Xna.Framework.Audio.XactSound.ctor(audioEngine,this,reader),stream.Seek(oldPosition,0),this._sounds.add(cueNames[System.Array.index(i1,cueNames)],System.Array.init([sound],Microsoft.Xna.Framework.Audio.XactSound)),this._probabilities.add(cueNames[System.Array.index(i1,cueNames)],this.defaultProbability);if(numComplexCues>0)for(stream.Seek(System.Int64(complexCuesOffset),0),i2=0;System.Int64(i2).lt(System.Int64(numComplexCues));i2=i2+1|0){if(flags=reader.ReadByte(),(flags>>2&1)!=0)soundOffset1=reader.ReadUInt32(),reader.ReadUInt32(),oldPosition1=stream.Position,stream.Seek(System.Int64(soundOffset1),0),sound1=new Microsoft.Xna.Framework.Audio.XactSound.ctor(audioEngine,this,reader),stream.Seek(oldPosition1,0),this._sounds.add(cueNames[System.Array.index(System.Int64.toNumber(System.Int64(numSimpleCues).add(System.Int64(i2))),cueNames)],System.Array.init([sound1],Microsoft.Xna.Framework.Audio.XactSound)),this._probabilities.add(cueNames[System.Array.index(System.Int64.toNumber(System.Int64(numSimpleCues).add(System.Int64(i2))),cueNames)],this.defaultProbability);else{variationTableOffset=reader.ReadUInt32();reader.ReadUInt32();savepos=stream.Position;stream.Seek(System.Int64(variationTableOffset),0);numEntries=reader.ReadUInt16();variationflags=reader.ReadUInt16();reader.ReadByte();reader.ReadUInt16();reader.ReadByte();var cueSounds=System.Array.init(numEntries,null,Microsoft.Xna.Framework.Audio.XactSound),probs=System.Array.init(numEntries,0,System.Single),tableType=(variationflags>>>3&7)>>>0;for(j=0;System.Int64(j).lt(System.Int64(numEntries));j=j+1|0)switch(tableType){case 0:trackIndex=reader.ReadUInt16();waveBankIndex=reader.ReadByte();reader.ReadByte();reader.ReadByte();cueSounds[System.Array.index(j,cueSounds)]=new Microsoft.Xna.Framework.Audio.XactSound.$ctor1(this,waveBankIndex,trackIndex);break;case 1:soundOffset2=reader.ReadUInt32();reader.ReadByte();reader.ReadByte();oldPosition2=stream.Position;stream.Seek(System.Int64(soundOffset2),0);cueSounds[System.Array.index(j,cueSounds)]=new Microsoft.Xna.Framework.Audio.XactSound.ctor(audioEngine,this,reader);stream.Seek(oldPosition2,0);break;case 3:soundOffset3=reader.ReadUInt32();reader.ReadSingle();reader.ReadSingle();reader.ReadUInt32();oldPosition3=stream.Position;stream.Seek(System.Int64(soundOffset3),0);cueSounds[System.Array.index(j,cueSounds)]=new Microsoft.Xna.Framework.Audio.XactSound.ctor(audioEngine,this,reader);stream.Seek(oldPosition3,0);break;case 4:trackIndex1=reader.ReadUInt16();waveBankIndex1=reader.ReadByte();cueSounds[System.Array.index(j,cueSounds)]=new Microsoft.Xna.Framework.Audio.XactSound.$ctor1(this,waveBankIndex1,trackIndex1);break;default:throw new System.NotSupportedException.ctor;}stream.Seek(savepos,0);this._sounds.add(cueNames[System.Array.index(System.Int64.toNumber(System.Int64(numSimpleCues).add(System.Int64(i2))),cueNames)],cueSounds);this._probabilities.add(cueNames[System.Array.index(System.Int64.toNumber(System.Int64(numSimpleCues).add(System.Int64(i2))),cueNames)],probs)}reader.ReadByte();reader.ReadUInt16();reader.ReadUInt16();reader.ReadByte()}}finally{Bridge.hasValue(reader)&&reader.System$IDisposable$Dispose()}}finally{Bridge.hasValue(stream)&&stream.System$IDisposable$Dispose()}}},methods:{GetSoundEffectInstance:function(waveBankIndex,trackIndex,streaming){var waveBank={v:this._waveBanks[System.Array.index(waveBankIndex,this._waveBanks)]},name;if(waveBank.v==null){if(name=this._waveBankNames[System.Array.index(waveBankIndex,this._waveBankNames)],!this._audioengine.Wavebanks.tryGetValue(name,waveBank))throw new System.Exception("The wave bank '"+(name||"")+"' was not found!");this._waveBanks[System.Array.index(waveBankIndex,this._waveBanks)]=waveBank.v}return waveBank.v.GetSoundEffectInstance(trackIndex,streaming)},GetCue:function(name){var sounds,probs,cue;if(System.String.isNullOrEmpty(name))throw new System.ArgumentNullException.$ctor1("name");if(sounds={},!this._sounds.tryGetValue(name,sounds))throw new System.ArgumentException.ctor;if(probs={},!this._probabilities.tryGetValue(name,probs))throw new System.ArgumentException.ctor;return this.IsInUse=!0,cue=new Microsoft.Xna.Framework.Audio.Cue.$ctor1(this._audioengine,name,sounds.v,probs.v),cue.Prepare(),cue},PlayCue:function(name){var sounds,probs,cue;if(System.String.isNullOrEmpty(name))throw new System.ArgumentNullException.$ctor1("name");if(sounds={},!this._sounds.tryGetValue(name,sounds))throw new System.ArgumentException.ctor;if(probs={},!this._probabilities.tryGetValue(name,probs))throw new System.ArgumentException.ctor;this.IsInUse=!0;cue=new Microsoft.Xna.Framework.Audio.Cue.$ctor1(this._audioengine,name,sounds.v,probs.v);cue.Prepare();cue.Play()},PlayCue$1:function(name,listener,emitter){var sounds,probs,cue;if(System.String.isNullOrEmpty(name))throw new System.ArgumentNullException.$ctor1("name");if(sounds={},!this._sounds.tryGetValue(name,sounds))throw new System.InvalidOperationException.ctor;if(probs={},!this._probabilities.tryGetValue(name,probs))throw new System.ArgumentException.ctor;this.IsInUse=!0;cue=new Microsoft.Xna.Framework.Audio.Cue.$ctor1(this._audioengine,name,sounds.v,probs.v);cue.Prepare();cue.Apply3D(listener,emitter);cue.Play()},Dispose:function(){this.Dispose$1(!0);System.GC.SuppressFinalize(this)},Dispose$1:function(disposing){this.IsDisposed||(this.IsDisposed=!0,disposing&&(this.IsInUse=!1,Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.Disposing,{})))}}});Bridge.define("Microsoft.Xna.Framework.Audio.SoundEffect",{inherits:[System.IDisposable],statics:{fields:{_masterVolume:0,_distanceScale:0,_dopplerScale:0,speedOfSound:0,MAX_PLAYING_INSTANCES:0},props:{MasterVolume:{get:function(){return Microsoft.Xna.Framework.Audio.SoundEffect._masterVolume},set:function(value){if(value<0||value>1)throw new System.ArgumentOutOfRangeException.ctor;Microsoft.Xna.Framework.Audio.SoundEffect._masterVolume!==value&&(Microsoft.Xna.Framework.Audio.SoundEffect._masterVolume=value,Microsoft.Xna.Framework.Audio.SoundEffectInstancePool.UpdateMasterVolume())}},DistanceScale:{get:function(){return Microsoft.Xna.Framework.Audio.SoundEffect._distanceScale},set:function(value){if(value<=0)throw new System.ArgumentOutOfRangeException.$ctor1("value of DistanceScale");Microsoft.Xna.Framework.Audio.SoundEffect._distanceScale=value}},DopplerScale:{get:function(){return Microsoft.Xna.Framework.Audio.SoundEffect._dopplerScale},set:function(value){if(value<0)throw new System.ArgumentOutOfRangeException.$ctor1("value of DopplerScale");Microsoft.Xna.Framework.Audio.SoundEffect._dopplerScale=value}},SpeedOfSound:{get:function(){return Microsoft.Xna.Framework.Audio.SoundEffect.speedOfSound},set:function(value){if(value<=0)throw new System.ArgumentOutOfRangeException.ctor;Microsoft.Xna.Framework.Audio.SoundEffect.speedOfSound=value}}},ctors:{init:function(){this._masterVolume=1;this._distanceScale=1;this._dopplerScale=1;this.speedOfSound=343.5;this.MAX_PLAYING_INSTANCES=2147483647}},methods:{FromStream:function(stream){if(stream==null)throw new System.ArgumentNullException.$ctor1("stream");return new Microsoft.Xna.Framework.Audio.SoundEffect.$ctor5(stream)},GetSampleDuration:function(sizeInBytes,sampleRate,channels){var numChannels,dur,duration;if(sizeInBytes<0)throw new System.ArgumentException.$ctor3("Buffer size cannot be negative.","sizeInBytes");if(sampleRate<8e3||sampleRate>48e3)throw new System.ArgumentOutOfRangeException.$ctor1("sampleRate");if(numChannels=channels,numChannels!==1&&numChannels!==2)throw new System.ArgumentOutOfRangeException.$ctor1("channels");return sizeInBytes===0?System.TimeSpan.zero:(dur=sizeInBytes/(Bridge.Int.mul(sampleRate,numChannels)*2),duration=System.TimeSpan.fromSeconds(dur),duration)},GetSampleSizeInBytes:function(duration,sampleRate,channels){var numChannels,sizeInBytes;if(System.TimeSpan.lt(duration,System.TimeSpan.zero)||System.TimeSpan.gt(duration,System.TimeSpan.fromMilliseconds(134217727)))throw new System.ArgumentOutOfRangeException.$ctor1("duration");if(sampleRate<8e3||sampleRate>48e3)throw new System.ArgumentOutOfRangeException.$ctor1("sampleRate");if(numChannels=channels,numChannels!==1&&numChannels!==2)throw new System.ArgumentOutOfRangeException.$ctor1("channels");return sizeInBytes=duration.getTotalSeconds()*Bridge.Int.mul(sampleRate,numChannels)*2,Bridge.Int.clip32(sizeInBytes)},FromURL:function(url){var $step=0,$task1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,ret,loaded,request,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1,2,3,4],$step);switch($step){case 0:ret=new Microsoft.Xna.Framework.Audio.SoundEffect.ctor;loaded=!1;request=new XMLHttpRequest;request.open("GET",url,!0);request.responseType="arraybuffer";request.onload=Bridge.fn.combine(request.onload,function(a){Microsoft.Xna.Framework.Audio.SoundEffectInstance.Context.decodeAudioData(Bridge.unbox(request.response),function(buffer){ret._buffer=buffer;loaded=!0})});request.send();$step=1;continue;case 1:if(!loaded){$step=2;continue}$step=4;continue;case 2:$task1=System.Threading.Tasks.Task.delay(10);$step=3;$task1.continueWith($asyncBody);return;case 3:$task1.getAwaitedResult();$step=1;continue;case 4:$tcs.setResult(ret);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},PlatformSetReverbSettings:function(reverbSettings){},InitializeSoundEffect:function(){},PlatformShutdown:function(){}}},fields:{_name:null,_isDisposed:!1,_duration:null,_buffer:null},props:{Duration:{get:function(){return this._duration}},Name:{get:function(){return this._name},set:function(value){this._name=value}},IsDisposed:{get:function(){return this._isDisposed}}},alias:["Dispose","System$IDisposable$Dispose"],ctors:{init:function(){this._duration=new System.TimeSpan;this._name="";this._isDisposed=!1},$ctor5:function(stream){this.$initialize();this.PlatformLoadAudioStream(stream,Bridge.ref(this,"_duration"))},$ctor2:function(header,buffer,bufferSize,durationMs,loopStart,loopLength){var format;if(this.$initialize(),this._duration=System.TimeSpan.fromMilliseconds(durationMs),format=System.BitConverter.toInt16(header,0),format===1){var channels=System.BitConverter.toInt16(header,2),sampleRate=System.BitConverter.toInt32(header,4),bitsPerSample=System.BitConverter.toInt16(header,14);this.PlatformInitializePcm(buffer,0,bufferSize,bitsPerSample,sampleRate,channels,loopStart,loopLength);return}this.PlatformInitializeFormat(header,buffer,bufferSize,loopStart,loopLength)},$ctor1:function(codec,buffer,channels,sampleRate,blockAlignment,loopStart,loopLength){if(this.$initialize(),codec===Microsoft.Xna.Framework.Audio.MiniFormatTag.Pcm){this._duration=System.TimeSpan.fromSeconds(buffer.length/Bridge.Int.mul(sampleRate,blockAlignment));this.PlatformInitializePcm(buffer,0,buffer.length,16,sampleRate,channels,loopStart,loopLength);return}this.PlatformInitializeXact(codec,buffer,channels,sampleRate,blockAlignment,loopStart,loopLength,Bridge.ref(this,"_duration"))},$ctor3:function(buffer,sampleRate,channels){Microsoft.Xna.Framework.Audio.SoundEffect.$ctor4.call(this,buffer,0,buffer!=null?buffer.length:0,sampleRate,channels,0,0)},$ctor4:function(buffer,offset,count,sampleRate,channels,loopStart,loopLength){var blockAlign,totalSamples;if(this.$initialize(),sampleRate<8e3||sampleRate>48e3)throw new System.ArgumentOutOfRangeException.$ctor1("sampleRate");if(channels!==1&&channels!==2)throw new System.ArgumentOutOfRangeException.$ctor1("channels");if(buffer==null||buffer.length===0)throw new System.ArgumentException.$ctor3("Ensure that the buffer length is non-zero.","buffer");if(blockAlign=Bridge.Int.mul(channels,2),buffer.length%blockAlign!=0)throw new System.ArgumentException.$ctor3("Ensure that the buffer meets the block alignment requirements for the number of channels.","buffer");if(count<=0)throw new System.ArgumentException.$ctor3("Ensure that the count is greater than zero.","count");if(count%blockAlign!=0)throw new System.ArgumentException.$ctor3("Ensure that the count meets the block alignment requirements for the number of channels.","count");if(offset<0)throw new System.ArgumentException.$ctor3("The offset cannot be negative.","offset");if(Bridge.Int.clipu64(count).add(Bridge.Int.clipu64(offset)).gt(Bridge.Int.clipu64(buffer.length)))throw new System.ArgumentException.$ctor3("Ensure that the offset+count region lines within the buffer.","offset");if(totalSamples=Bridge.Int.div(buffer.length,blockAlign)|0,loopStart<0)throw new System.ArgumentException.$ctor3("The loopStart cannot be negative.","loopStart");if(loopStart>totalSamples)throw new System.ArgumentException.$ctor3("The loopStart cannot be greater than the total number of samples.","loopStart");if(loopLength===0&&(loopLength=totalSamples-loopStart|0),loopLength<0)throw new System.ArgumentException.$ctor3("The loopLength cannot be negative.","loopLength");if(Bridge.Int.clipu64(loopStart).add(Bridge.Int.clipu64(loopLength)).gt(Bridge.Int.clipu64(totalSamples)))throw new System.ArgumentException.$ctor3("Ensure that the loopStart+loopLength region lies within the sample range.","loopLength");this._duration=Microsoft.Xna.Framework.Audio.SoundEffect.GetSampleDuration(count,sampleRate,channels);this.PlatformInitializePcm(buffer,offset,count,16,sampleRate,channels,loopStart,loopLength)},ctor:function(){this.$initialize()}},methods:{CreateInstance:function(){var inst=new Microsoft.Xna.Framework.Audio.SoundEffectInstance.ctor;return this.PlatformSetupInstance(inst),inst._isPooled=!1,inst._effect=this,inst},Play:function(){var inst=this.GetPooledInstance(!1);return inst==null?!1:(inst.Play(),!0)},Play$1:function(volume,pitch,pan){var inst=this.GetPooledInstance(!1);return inst==null?!1:(inst.Volume=volume,inst.Pitch=pitch,inst.Pan=pan,inst.Play(),!0)},GetPooledInstance:function(forXAct){if(!Microsoft.Xna.Framework.Audio.SoundEffectInstancePool.SoundsAvailable)return null;var inst=Microsoft.Xna.Framework.Audio.SoundEffectInstancePool.GetInstance(forXAct);return inst._effect=this,this.PlatformSetupInstance(inst),inst},Dispose:function(){this.Dispose$1(!0);System.GC.SuppressFinalize(this)},Dispose$1:function(disposing){this._isDisposed||(Microsoft.Xna.Framework.Audio.SoundEffectInstancePool.StopPooledInstances(this),this.PlatformDispose(disposing),this._isDisposed=!0)},PlatformLoadAudioStream:function(s,duration){throw new System.NotImplementedException.ctor;},PlatformInitializePcm:function(buffer,offset,count,sampleBits,sampleRate,channels,loopStart,loopLength){throw new System.NotImplementedException.ctor;},PlatformInitializeFormat:function(header,buffer,bufferSize,loopStart,loopLength){throw new System.NotImplementedException.ctor;},PlatformInitializeXact:function(codec,buffer,channels,sampleRate,blockAlignment,loopStart,loopLength,duration){throw new System.NotSupportedException.$ctor1("Unsupported sound format!");},PlatformSetupInstance:function(instance){instance.PlatformInitialize(this._buffer)},PlatformDispose:function(disposing){}}});Bridge.define("Microsoft.Xna.Framework.Audio.SoundEffectInstancePool",{statics:{fields:{_playingInstances:null,_pooledInstances:null,_locker:null},props:{SoundsAvailable:{get:function(){return Microsoft.Xna.Framework.Audio.SoundEffectInstancePool._locker,Microsoft.Xna.Framework.Audio.SoundEffectInstancePool._playingInstances.Count<Microsoft.Xna.Framework.Audio.SoundEffect.MAX_PLAYING_INSTANCES}}},ctors:{ctor:function(){Microsoft.Xna.Framework.Audio.SoundEffectInstancePool._locker={};var maxInstances=1024;Microsoft.Xna.Framework.Audio.SoundEffectInstancePool._playingInstances=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Audio.SoundEffectInstance).$ctor2)(maxInstances);Microsoft.Xna.Framework.Audio.SoundEffectInstancePool._pooledInstances=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Audio.SoundEffectInstance).$ctor2)(maxInstances)}},methods:{Add:function(inst){Microsoft.Xna.Framework.Audio.SoundEffectInstancePool._locker;inst._isPooled&&(Microsoft.Xna.Framework.Audio.SoundEffectInstancePool._pooledInstances.add(inst),inst._effect=null);Microsoft.Xna.Framework.Audio.SoundEffectInstancePool._playingInstances.remove(inst)},Remove:function(inst){Microsoft.Xna.Framework.Audio.SoundEffectInstancePool._locker;Microsoft.Xna.Framework.Audio.SoundEffectInstancePool._playingInstances.add(inst)},GetInstance:function(forXAct){Microsoft.Xna.Framework.Audio.SoundEffectInstancePool._locker;var inst=null,count=Microsoft.Xna.Framework.Audio.SoundEffectInstancePool._pooledInstances.Count;return count>0?(inst=Microsoft.Xna.Framework.Audio.SoundEffectInstancePool._pooledInstances.getItem(count-1|0),Microsoft.Xna.Framework.Audio.SoundEffectInstancePool._pooledInstances.removeAt(count-1|0),inst._isPooled=!0,inst._isXAct=forXAct,inst.Volume=1,inst.Pan=0,inst.Pitch=0,inst.IsLooped=!1,inst.PlatformSetReverbMix(0),inst.PlatformClearFilter()):(inst=new Microsoft.Xna.Framework.Audio.SoundEffectInstance.ctor,inst._isPooled=!0,inst._isXAct=forXAct),inst},Update:function(){var inst,x;for(Microsoft.Xna.Framework.Audio.SoundEffectInstancePool._locker,inst=null,x=0;x<Microsoft.Xna.Framework.Audio.SoundEffectInstancePool._playingInstances.Count;){if(inst=Microsoft.Xna.Framework.Audio.SoundEffectInstancePool._playingInstances.getItem(x),inst._isXAct){x=x+1|0;continue}if(inst.IsDisposed||inst.State===Microsoft.Xna.Framework.Audio.SoundState.Stopped||inst._effect==null&&!inst._isDynamic){Microsoft.Xna.Framework.Audio.SoundEffectInstancePool.Add(inst);continue}x=x+1|0}},StopPooledInstances:function(effect){var inst,x;for(Microsoft.Xna.Framework.Audio.SoundEffectInstancePool._locker,inst=null,x=0;x<Microsoft.Xna.Framework.Audio.SoundEffectInstancePool._playingInstances.Count;){if(inst=Microsoft.Xna.Framework.Audio.SoundEffectInstancePool._playingInstances.getItem(x),Bridge.referenceEquals(inst._effect,effect)){inst.Stop$1(!0);Microsoft.Xna.Framework.Audio.SoundEffectInstancePool.Add(inst);continue}x=x+1|0}},UpdateMasterVolume:function(){var $t,inst;Microsoft.Xna.Framework.Audio.SoundEffectInstancePool._locker;$t=Bridge.getEnumerator(Microsoft.Xna.Framework.Audio.SoundEffectInstancePool._playingInstances);try{while($t.moveNext())(inst=$t.Current,inst._isXAct)||(inst.Volume=inst.Volume)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}}}});Bridge.define("Microsoft.Xna.Framework.Audio.SoundState",{$kind:"enum",statics:{fields:{Playing:0,Paused:1,Stopped:2}}});Bridge.define("Microsoft.Xna.Framework.Audio.VariationType",{$kind:"enum",statics:{fields:{Ordered:0,OrderedFromRandom:1,Random:2,RandomNoImmediateRepeats:3,Shuffle:4}}});Bridge.define("Microsoft.Xna.Framework.Audio.WaveBank",{inherits:[System.IDisposable],statics:{fields:{Flag_EntryNames:0,Flag_Compact:0,Flag_SyncDisabled:0,Flag_SeekTables:0,Flag_Mask:0},ctors:{init:function(){this.Flag_EntryNames=65536;this.Flag_Compact=131072;this.Flag_SyncDisabled=262144;this.Flag_SeekTables=524288;this.Flag_Mask=983040}}},fields:{_sounds:null,_streams:null,_bankName:null,_waveBankFileName:null,_streaming:!1,_offset:0,_packetSize:0,_version:0,_playRegionOffset:0,IsInUse:!1,IsPrepared:!1,IsDisposed:!1},events:{Disposing:null},alias:["Dispose","System$IDisposable$Dispose"],ctors:{ctor:function(audioEngine,nonStreamingWaveBankFilename){Microsoft.Xna.Framework.Audio.WaveBank.$ctor1.call(this,audioEngine,nonStreamingWaveBankFilename,!1,0,0)},$ctor1:function(audioEngine,waveBankFilename,streaming,offset,packetsize){var wavebankheader,wavebankdata,wavebank_offset,reader,last_segment,i,segidx_entry_name,entry_name,isCompactFormat,i1,len,i2,nextOffset,i3,info,flagsAndDuration,i4,info1;if(this.$initialize(),audioEngine==null)throw new System.ArgumentNullException.$ctor1("audioEngine");if(System.String.isNullOrEmpty(waveBankFilename))throw new System.ArgumentNullException.$ctor1("nonStreamingWaveBankFilename");if(streaming){if(offset!==0)throw new System.ArgumentException.$ctor3("We only support a zero offset in streaming banks.","offset");if(packetsize<2)throw new System.ArgumentException.$ctor3("The packet size must be greater than 2.","packetsize");this._streaming=!0;this._offset=offset;this._packetSize=packetsize}for(wavebankheader=new Microsoft.Xna.Framework.Audio.WaveBank.WaveBankHeader,wavebankdata=new Microsoft.Xna.Framework.Audio.WaveBank.WaveBankData,wavebankdata.EntryNameElementSize=0,wavebankdata.CompactFormat=0,wavebankdata.Alignment=0,wavebankdata.BuildTime=0,wavebank_offset=0,this._waveBankFileName=waveBankFilename,reader=new System.IO.BinaryReader.ctor(Microsoft.Xna.Framework.Audio.AudioEngine.OpenStream(waveBankFilename)),reader.ReadBytes(4),this._version=wavebankheader.Version=reader.ReadInt32(),last_segment=4,wavebankheader.Version<=3&&(last_segment=3),wavebankheader.Version>=42&&reader.ReadInt32(),wavebankheader.Segments=System.Array.init(5,function(){return new Microsoft.Xna.Framework.Audio.WaveBank.Segment},Microsoft.Xna.Framework.Audio.WaveBank.Segment),i=0;i<=last_segment;i=i+1|0)wavebankheader.Segments[System.Array.index(i,wavebankheader.Segments)].Offset=reader.ReadInt32(),wavebankheader.Segments[System.Array.index(i,wavebankheader.Segments)].Length=reader.ReadInt32();if(reader.BaseStream.Seek(System.Int64(wavebankheader.Segments[System.Array.index(0,wavebankheader.Segments)].Offset),0),wavebankdata.Flags=reader.ReadInt32(),wavebankdata.EntryCount=reader.ReadInt32(),wavebankdata.BankName=wavebankheader.Version===2||wavebankheader.Version===3?System.String.replaceAll(System.Text.Encoding.UTF8.GetString$1(reader.ReadBytes(16),0,16),"\x00",""):System.String.replaceAll(System.Text.Encoding.UTF8.GetString$1(reader.ReadBytes(64),0,64),"\x00",""),this._bankName=wavebankdata.BankName,wavebankheader.Version===1?wavebankdata.EntryMetaDataElementSize=20:(wavebankdata.EntryMetaDataElementSize=reader.ReadInt32(),wavebankdata.EntryNameElementSize=reader.ReadInt32(),wavebankdata.Alignment=reader.ReadInt32(),wavebank_offset=wavebankheader.Segments[System.Array.index(1,wavebankheader.Segments)].Offset),(wavebankdata.Flags&Microsoft.Xna.Framework.Audio.WaveBank.Flag_Compact)!=0&&reader.ReadInt32(),this._playRegionOffset=wavebankheader.Segments[System.Array.index(last_segment,wavebankheader.Segments)].Offset,this._playRegionOffset===0&&(this._playRegionOffset=wavebank_offset+Bridge.Int.mul(wavebankdata.EntryCount,wavebankdata.EntryMetaDataElementSize)|0),segidx_entry_name=2,wavebankheader.Version>=42&&(segidx_entry_name=3),wavebankheader.Segments[System.Array.index(segidx_entry_name,wavebankheader.Segments)].Offset!==0&&wavebankheader.Segments[System.Array.index(segidx_entry_name,wavebankheader.Segments)].Length!==0&&(wavebankdata.EntryNameElementSize===-1&&(wavebankdata.EntryNameElementSize=0),entry_name=System.Array.init(wavebankdata.EntryNameElementSize+1|0,0,System.Byte),entry_name[System.Array.index(wavebankdata.EntryNameElementSize,entry_name)]=0),this._sounds=System.Array.init(wavebankdata.EntryCount,null,Microsoft.Xna.Framework.Audio.SoundEffect),this._streams=System.Array.init(wavebankdata.EntryCount,function(){return new Microsoft.Xna.Framework.Audio.WaveBank.StreamInfo},Microsoft.Xna.Framework.Audio.WaveBank.StreamInfo),reader.BaseStream.Seek(System.Int64(wavebank_offset),0),isCompactFormat=(wavebankdata.Flags&Microsoft.Xna.Framework.Audio.WaveBank.Flag_Compact)!=0,isCompactFormat){for(i1=0;i1<wavebankdata.EntryCount;i1=i1+1|0)len=reader.ReadInt32(),this._streams[System.Array.index(i1,this._streams)].Format=wavebankdata.CompactFormat,this._streams[System.Array.index(i1,this._streams)].FileOffset=Bridge.Int.mul(len&2097151,wavebankdata.Alignment);for(i2=0;i2<wavebankdata.EntryCount;i2=i2+1|0)nextOffset=i2===(wavebankdata.EntryCount-1|0)?wavebankheader.Segments[System.Array.index(last_segment,wavebankheader.Segments)].Length:this._streams[System.Array.index(i2+1|0,this._streams)].FileOffset,this._streams[System.Array.index(i2,this._streams)].FileLength=nextOffset-this._streams[System.Array.index(i2,this._streams)].FileOffset|0}else for(i3=0;i3<wavebankdata.EntryCount;i3=i3+1|0)info=new Microsoft.Xna.Framework.Audio.WaveBank.StreamInfo,wavebankheader.Version===1?(info.Format=reader.ReadInt32(),info.FileOffset=reader.ReadInt32(),info.FileLength=reader.ReadInt32(),info.LoopStart=reader.ReadInt32(),info.LoopLength=reader.ReadInt32()):(flagsAndDuration=reader.ReadInt32(),wavebankdata.EntryMetaDataElementSize>=8&&(info.Format=reader.ReadInt32()),wavebankdata.EntryMetaDataElementSize>=12&&(info.FileOffset=reader.ReadInt32()),wavebankdata.EntryMetaDataElementSize>=16&&(info.FileLength=reader.ReadInt32()),wavebankdata.EntryMetaDataElementSize>=20&&(info.LoopStart=reader.ReadInt32()),wavebankdata.EntryMetaDataElementSize>=24&&(info.LoopLength=reader.ReadInt32())),wavebankdata.EntryMetaDataElementSize<24&&info.FileLength!==0&&(info.FileLength=wavebankheader.Segments[System.Array.index(last_segment,wavebankheader.Segments)].Length),this._streams[System.Array.index(i3,this._streams)]=info.$clone();if(!this._streaming){for(i4=0;i4<this._streams.length;i4=i4+1|0){info1=this._streams[System.Array.index(i4,this._streams)].$clone();reader.BaseStream.Seek(System.Int64(info1.FileOffset+this._playRegionOffset),0);var audiodata=reader.ReadBytes(info1.FileLength),codec={v:new Microsoft.Xna.Framework.Audio.MiniFormatTag},channels={},rate={},alignment={};this.DecodeFormat(info1.Format,codec,channels,rate,alignment);this._sounds[System.Array.index(i4,this._sounds)]=new Microsoft.Xna.Framework.Audio.SoundEffect.$ctor1(codec.v,audiodata,channels.v,rate.v,alignment.v,info1.LoopStart,info1.LoopLength)}this._streams=null}audioEngine.Wavebanks.set(this._bankName,this);this.IsPrepared=!0},$ctor2:function(audioEngine,streamingWaveBankFilename,offset,packetsize){Microsoft.Xna.Framework.Audio.WaveBank.$ctor1.call(this,audioEngine,streamingWaveBankFilename,!0,offset,packetsize)}},methods:{DecodeFormat:function(format,codec,channels,rate,alignment){this._version===1?(codec.v=format&1,channels.v=format>>1&7,rate.v=format>>5&262143,alignment.v=format>>23&255):(codec.v=format&3,channels.v=format>>2&7,rate.v=format>>5&262143,alignment.v=format>>23&255)},GetSoundEffectInstance:function(trackIndex,streaming){var stream,sound;return this._streaming?(streaming.v=!0,stream=this._streams[System.Array.index(trackIndex,this._streams)].$clone(),this.PlatformCreateStream(stream.$clone())):(streaming.v=!1,sound=this._sounds[System.Array.index(trackIndex,this._sounds)],sound.GetPooledInstance(!0))},Dispose:function(){this.Dispose$1(!0);System.GC.SuppressFinalize(this)},Dispose$1:function(disposing){var $t,s;if(!this.IsDisposed&&(this.IsDisposed=!0,disposing)){$t=Bridge.getEnumerator(this._sounds);try{while($t.moveNext())s=$t.Current,s.Dispose()}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}this.IsPrepared=!1;this.IsInUse=!1;Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.Disposing,{})}},PlatformCreateStream:function(stream){throw new System.NotImplementedException.$ctor1("XACT streaming is not implemented on this platform.");}}});Bridge.define("Microsoft.Xna.Framework.Audio.WaveBank.Segment",{$kind:"nested struct",statics:{methods:{getDefaultValue:function(){return new Microsoft.Xna.Framework.Audio.WaveBank.Segment}}},fields:{Offset:0,Length:0},ctors:{ctor:function(){this.$initialize()}},methods:{getHashCode:function(){return Bridge.addHash([1843123128,this.Offset,this.Length])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Audio.WaveBank.Segment)?Bridge.equals(this.Offset,o.Offset)&&Bridge.equals(this.Length,o.Length):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Audio.WaveBank.Segment;return s.Offset=this.Offset,s.Length=this.Length,s}}});Bridge.define("Microsoft.Xna.Framework.Audio.WaveBank.StreamInfo",{$kind:"nested struct",statics:{methods:{getDefaultValue:function(){return new Microsoft.Xna.Framework.Audio.WaveBank.StreamInfo}}},fields:{Format:0,FileOffset:0,FileLength:0,LoopStart:0,LoopLength:0},ctors:{ctor:function(){this.$initialize()}},methods:{getHashCode:function(){return Bridge.addHash([3552334106,this.Format,this.FileOffset,this.FileLength,this.LoopStart,this.LoopLength])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Audio.WaveBank.StreamInfo)?Bridge.equals(this.Format,o.Format)&&Bridge.equals(this.FileOffset,o.FileOffset)&&Bridge.equals(this.FileLength,o.FileLength)&&Bridge.equals(this.LoopStart,o.LoopStart)&&Bridge.equals(this.LoopLength,o.LoopLength):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Audio.WaveBank.StreamInfo;return s.Format=this.Format,s.FileOffset=this.FileOffset,s.FileLength=this.FileLength,s.LoopStart=this.LoopStart,s.LoopLength=this.LoopLength,s}}});Bridge.define("Microsoft.Xna.Framework.Audio.WaveBank.WaveBankData",{$kind:"nested struct",statics:{methods:{getDefaultValue:function(){return new Microsoft.Xna.Framework.Audio.WaveBank.WaveBankData}}},fields:{Flags:0,EntryCount:0,BankName:null,EntryMetaDataElementSize:0,EntryNameElementSize:0,Alignment:0,CompactFormat:0,BuildTime:0},ctors:{ctor:function(){this.$initialize()}},methods:{getHashCode:function(){return Bridge.addHash([5139669981,this.Flags,this.EntryCount,this.BankName,this.EntryMetaDataElementSize,this.EntryNameElementSize,this.Alignment,this.CompactFormat,this.BuildTime])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Audio.WaveBank.WaveBankData)?Bridge.equals(this.Flags,o.Flags)&&Bridge.equals(this.EntryCount,o.EntryCount)&&Bridge.equals(this.BankName,o.BankName)&&Bridge.equals(this.EntryMetaDataElementSize,o.EntryMetaDataElementSize)&&Bridge.equals(this.EntryNameElementSize,o.EntryNameElementSize)&&Bridge.equals(this.Alignment,o.Alignment)&&Bridge.equals(this.CompactFormat,o.CompactFormat)&&Bridge.equals(this.BuildTime,o.BuildTime):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Audio.WaveBank.WaveBankData;return s.Flags=this.Flags,s.EntryCount=this.EntryCount,s.BankName=this.BankName,s.EntryMetaDataElementSize=this.EntryMetaDataElementSize,s.EntryNameElementSize=this.EntryNameElementSize,s.Alignment=this.Alignment,s.CompactFormat=this.CompactFormat,s.BuildTime=this.BuildTime,s}}});Bridge.define("Microsoft.Xna.Framework.Audio.WaveBank.WaveBankHeader",{$kind:"nested struct",statics:{methods:{getDefaultValue:function(){return new Microsoft.Xna.Framework.Audio.WaveBank.WaveBankHeader}}},fields:{Version:0,Segments:null},ctors:{ctor:function(){this.$initialize()}},methods:{getHashCode:function(){return Bridge.addHash([5188786758,this.Version,this.Segments])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Audio.WaveBank.WaveBankHeader)?Bridge.equals(this.Version,o.Version)&&Bridge.equals(this.Segments,o.Segments):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Audio.WaveBank.WaveBankHeader;return s.Version=this.Version,s.Segments=this.Segments,s}}});Bridge.define("Microsoft.Xna.Framework.Audio.XactClip",{fields:{_defaultVolume:0,_volumeScale:0,_volume:0,_events:null,_time:0,_nextEvent:0,FilterEnabled:!1,FilterMode:0,FilterQ:0,FilterFrequency:0,UseReverb:!1,State:0},ctors:{ctor:function(soundBank,clipReader,useReverb){var volumeDb,clipOffset,filterQAndFlags,oldPosition,numEvents,i,j,minWeight,maxWeight,variationFlags,pitchVar,volumeVar,filterVar,variationFlags1,pitchVar1,volumeVar1,filterVar1,j1,minWeight1,maxWeight1;for(this.$initialize(),this.State=Microsoft.Xna.Framework.Audio.SoundState.Stopped,this.UseReverb=useReverb,volumeDb=Microsoft.Xna.Framework.Audio.XactHelpers.ParseDecibels(clipReader.ReadByte()),this._defaultVolume=Microsoft.Xna.Framework.Audio.XactHelpers.ParseVolumeFromDecibels$1(volumeDb),clipOffset=clipReader.ReadUInt32(),filterQAndFlags=clipReader.ReadUInt16(),this.FilterEnabled=(filterQAndFlags&1)==1,this.FilterMode=filterQAndFlags>>1&3,this.FilterQ=(filterQAndFlags>>3)*.01,this.FilterFrequency=clipReader.ReadUInt16(),oldPosition=clipReader.BaseStream.Position,clipReader.BaseStream.Seek(System.Int64(clipOffset),0),numEvents=clipReader.ReadByte(),this._events=System.Array.init(numEvents,null,Microsoft.Xna.Framework.Audio.ClipEvent),i=0;i<numEvents;i=i+1|0){var eventInfo=clipReader.ReadUInt32(),randomOffset=clipReader.ReadUInt16()*.001,eventId=(eventInfo&31)>>>0,timeStamp=((eventInfo>>>5&65535)>>>0)*.001,unknown=eventInfo>>>21;switch(eventId){case 0:throw new System.NotImplementedException.$ctor1("Stop event");case 1:clipReader.ReadByte();var eventFlags=clipReader.ReadByte(),playRelease=(eventFlags&1)==1,panEnabled=(eventFlags&2)==2,useCenterSpeaker=(eventFlags&4)==4,trackIndex=clipReader.ReadUInt16(),waveBankIndex=clipReader.ReadByte(),loopCount=clipReader.ReadByte(),panAngle=clipReader.ReadUInt16()/100,panArc=clipReader.ReadUInt16()/100;this._events[System.Array.index(i,this._events)]=new Microsoft.Xna.Framework.Audio.PlayWaveEvent(this,timeStamp,randomOffset,soundBank,System.Array.init([waveBankIndex],System.Int32),System.Array.init([trackIndex],System.Int32),null,0,Microsoft.Xna.Framework.Audio.VariationType.Ordered,null,null,null,loopCount,!1);break;case 3:clipReader.ReadByte();var eventFlags1=clipReader.ReadByte(),playRelease1=(eventFlags1&1)==1,panEnabled1=(eventFlags1&2)==2,useCenterSpeaker1=(eventFlags1&4)==4,loopCount1=clipReader.ReadByte(),panAngle1=clipReader.ReadUInt16()/100,panArc1=clipReader.ReadUInt16()/100,numTracks=clipReader.ReadUInt16(),moreFlags=clipReader.ReadByte(),newWaveOnLoop=(moreFlags&64)==64,variationType=moreFlags&15;clipReader.ReadBytes(5);var waveBanks=System.Array.init(numTracks,0,System.Int32),tracks=System.Array.init(numTracks,0,System.Int32),weights=System.Array.init(numTracks,0,System.Byte),totalWeights=0;for(j=0;j<numTracks;j=j+1|0)tracks[System.Array.index(j,tracks)]=clipReader.ReadUInt16(),waveBanks[System.Array.index(j,waveBanks)]=clipReader.ReadByte(),minWeight=clipReader.ReadByte(),maxWeight=clipReader.ReadByte(),weights[System.Array.index(j,weights)]=(maxWeight-minWeight|0)&255,totalWeights=totalWeights+weights[System.Array.index(j,weights)]|0;this._events[System.Array.index(i,this._events)]=new Microsoft.Xna.Framework.Audio.PlayWaveEvent(this,timeStamp,randomOffset,soundBank,waveBanks,tracks,weights,totalWeights,variationType,null,null,null,loopCount1,newWaveOnLoop);break;case 4:clipReader.ReadByte();var eventFlags2=clipReader.ReadByte(),playRelease2=(eventFlags2&1)==1,panEnabled2=(eventFlags2&2)==2,useCenterSpeaker2=(eventFlags2&4)==4,trackIndex1=clipReader.ReadUInt16(),waveBankIndex1=clipReader.ReadByte(),loopCount2=clipReader.ReadByte(),panAngle2=clipReader.ReadUInt16()/100,panArc2=clipReader.ReadUInt16()/100,minPitch=clipReader.ReadInt16()/1e3,maxPitch=clipReader.ReadInt16()/1e3,minVolume=Microsoft.Xna.Framework.Audio.XactHelpers.ParseVolumeFromDecibels(clipReader.ReadByte()),maxVolume=Microsoft.Xna.Framework.Audio.XactHelpers.ParseVolumeFromDecibels(clipReader.ReadByte()),minFrequency=clipReader.ReadSingle(),maxFrequency=clipReader.ReadSingle(),minQ=clipReader.ReadSingle(),maxQ=clipReader.ReadSingle();clipReader.ReadByte();variationFlags=clipReader.ReadByte();pitchVar=null;(variationFlags&16)==16&&(pitchVar=new Microsoft.Xna.Framework.Vector2.$ctor2(minPitch,maxPitch-minPitch));volumeVar=null;(variationFlags&32)==32&&(volumeVar=new Microsoft.Xna.Framework.Vector2.$ctor2(minVolume,maxVolume-minVolume));filterVar=null;(variationFlags&64)==64&&(filterVar=new Microsoft.Xna.Framework.Vector4.$ctor4(minFrequency,maxFrequency-minFrequency,minQ,maxQ-minQ));this._events[System.Array.index(i,this._events)]=new Microsoft.Xna.Framework.Audio.PlayWaveEvent(this,timeStamp,randomOffset,soundBank,System.Array.init([waveBankIndex1],System.Int32),System.Array.init([trackIndex1],System.Int32),null,0,Microsoft.Xna.Framework.Audio.VariationType.Ordered,System.Nullable.lift1("$clone",volumeVar),System.Nullable.lift1("$clone",pitchVar),System.Nullable.lift1("$clone",filterVar),loopCount2,!1);break;case 6:clipReader.ReadByte();var eventFlags3=clipReader.ReadByte(),playRelease3=(eventFlags3&1)==1,panEnabled3=(eventFlags3&2)==2,useCenterSpeaker3=(eventFlags3&4)==4,loopCount3=clipReader.ReadByte(),panAngle3=clipReader.ReadUInt16()/100,panArc3=clipReader.ReadUInt16()/100,minPitch1=clipReader.ReadInt16()/1e3,maxPitch1=clipReader.ReadInt16()/1e3,minVolume1=Microsoft.Xna.Framework.Audio.XactHelpers.ParseVolumeFromDecibels(clipReader.ReadByte()),maxVolume1=Microsoft.Xna.Framework.Audio.XactHelpers.ParseVolumeFromDecibels(clipReader.ReadByte()),minFrequency1=clipReader.ReadSingle(),maxFrequency1=clipReader.ReadSingle(),minQ1=clipReader.ReadSingle(),maxQ1=clipReader.ReadSingle();clipReader.ReadByte();variationFlags1=clipReader.ReadByte();pitchVar1=null;(variationFlags1&16)==16&&(pitchVar1=new Microsoft.Xna.Framework.Vector2.$ctor2(minPitch1,maxPitch1-minPitch1));volumeVar1=null;(variationFlags1&32)==32&&(volumeVar1=new Microsoft.Xna.Framework.Vector2.$ctor2(minVolume1,maxVolume1-minVolume1));filterVar1=null;(variationFlags1&64)==64&&(filterVar1=new Microsoft.Xna.Framework.Vector4.$ctor4(minFrequency1,maxFrequency1-minFrequency1,minQ1,maxQ1-minQ1));var numTracks1=clipReader.ReadUInt16(),moreFlags1=clipReader.ReadByte(),newWaveOnLoop1=(moreFlags1&64)==64,variationType1=moreFlags1&15;clipReader.ReadBytes(5);var waveBanks1=System.Array.init(numTracks1,0,System.Int32),tracks1=System.Array.init(numTracks1,0,System.Int32),weights1=System.Array.init(numTracks1,0,System.Byte),totalWeights1=0;for(j1=0;j1<numTracks1;j1=j1+1|0)tracks1[System.Array.index(j1,tracks1)]=clipReader.ReadUInt16(),waveBanks1[System.Array.index(j1,waveBanks1)]=clipReader.ReadByte(),minWeight1=clipReader.ReadByte(),maxWeight1=clipReader.ReadByte(),weights1[System.Array.index(j1,weights1)]=(maxWeight1-minWeight1|0)&255,totalWeights1=totalWeights1+weights1[System.Array.index(j1,weights1)]|0;this._events[System.Array.index(i,this._events)]=new Microsoft.Xna.Framework.Audio.PlayWaveEvent(this,timeStamp,randomOffset,soundBank,waveBanks1,tracks1,weights1,totalWeights1,variationType1,System.Nullable.lift1("$clone",volumeVar1),System.Nullable.lift1("$clone",pitchVar1),System.Nullable.lift1("$clone",filterVar1),loopCount3,newWaveOnLoop1);break;case 7:throw new System.NotImplementedException.$ctor1("Pitch event");case 8:clipReader.ReadBytes(2);var eventFlags4=clipReader.ReadByte(),isAdd=(eventFlags4&1)==1,decibles=clipReader.ReadSingle()/100,volume=Microsoft.Xna.Framework.Audio.XactHelpers.ParseVolumeFromDecibels$1(decibles+(isAdd?volumeDb:0));clipReader.ReadBytes(9);this._events[System.Array.index(i,this._events)]=new Microsoft.Xna.Framework.Audio.VolumeEvent(this,timeStamp,randomOffset,volume);break;case 17:throw new System.NotImplementedException.$ctor1("Volume repeat event");case 9:throw new System.NotImplementedException.$ctor1("Marker event");default:throw new System.NotSupportedException.$ctor1("Unknown event "+eventId);}}clipReader.BaseStream.Seek(oldPosition,0)}},methods:{Update:function(dt){var evt,isPlaying,i,evt1;if(this.State===Microsoft.Xna.Framework.Audio.SoundState.Playing){for(this._time+=dt;this._nextEvent<this._events.length;){if(evt=this._events[System.Array.index(this._nextEvent,this._events)],this._time<evt.TimeStamp)break;evt.Play();this._nextEvent=this._nextEvent+1|0}for(isPlaying=this._nextEvent<this._events.length,i=0;i<this._nextEvent;i=i+1|0)evt1=this._events[System.Array.index(i,this._events)],isPlaying=!!(isPlaying|evt1.Update(dt));isPlaying||(this.State=Microsoft.Xna.Framework.Audio.SoundState.Stopped)}},SetFade:function(fadeInDuration,fadeOutDuration){var $t,evt;$t=Bridge.getEnumerator(this._events);try{while($t.moveNext())evt=$t.Current,Bridge.is(evt,Microsoft.Xna.Framework.Audio.PlayWaveEvent)&&evt.SetFade(fadeInDuration,fadeOutDuration)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}},UpdateState:function(volume,pitch,reverbMix,filterFrequency,filterQFactor){var $t,trackVolume,evt;this._volumeScale=volume;trackVolume=this._volume*this._volumeScale;$t=Bridge.getEnumerator(this._events);try{while($t.moveNext())evt=$t.Current,evt.SetState(trackVolume,pitch,reverbMix,filterFrequency,filterQFactor)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}},Play:function(){this._time=0;this._nextEvent=0;this.SetVolume(this._defaultVolume);this.State=Microsoft.Xna.Framework.Audio.SoundState.Playing;this.Update(0)},Resume:function(){var $t,evt;$t=Bridge.getEnumerator(this._events);try{while($t.moveNext())evt=$t.Current,evt.Resume()}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}this.State=Microsoft.Xna.Framework.Audio.SoundState.Playing},Stop:function(){var $t,evt;$t=Bridge.getEnumerator(this._events);try{while($t.moveNext())evt=$t.Current,evt.Stop()}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}this.State=Microsoft.Xna.Framework.Audio.SoundState.Stopped},Pause:function(){var $t,evt;$t=Bridge.getEnumerator(this._events);try{while($t.moveNext())evt=$t.Current,evt.Pause()}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}this.State=Microsoft.Xna.Framework.Audio.SoundState.Paused},SetVolumeScale:function(volume){this._volumeScale=volume;this.UpdateVolumes()},SetVolume:function(volume){this._volume=volume;this.UpdateVolumes()},UpdateVolumes:function(){var $t,volume=this._volume*this._volumeScale,evt;$t=Bridge.getEnumerator(this._events);try{while($t.moveNext())evt=$t.Current,evt.SetTrackVolume(volume)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}},SetPan:function(pan){var $t,evt;$t=Bridge.getEnumerator(this._events);try{while($t.moveNext())evt=$t.Current,evt.SetTrackPan(pan)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}}});Bridge.define("Microsoft.Xna.Framework.Audio.XactHelpers",{statics:{fields:{Random:null},ctors:{init:function(){this.Random=new System.Random.ctor}},methods:{ParseDecibels:function(decibles){var a=-96,b=.432254984608615,c=80.1748600297963,d=67.7385212334047;return-163.7385212334047/(1+Math.pow(decibles/c,b))+d},ParseVolumeFromDecibels:function(decibles){var a=-96,b=.432254984608615,c=80.1748600297963,d=67.7385212334047,dB=-163.7385212334047/(1+Math.pow(decibles/c,b))+d;return Microsoft.Xna.Framework.Audio.XactHelpers.ParseVolumeFromDecibels$1(dB)},ParseVolumeFromDecibels$1:function(decibles){return Math.pow(10,decibles/20)}}}});Bridge.define("Microsoft.Xna.Framework.Audio.XactSound",{fields:{_complexSound:!1,_soundClips:null,_waveBankIndex:0,_trackIndex:0,_volume:0,_pitch:0,_categoryID:0,_soundBank:null,_useReverb:!1,_wave:null,_streaming:!1,_cueVolume:0,_cuePitch:0,_cueReverbMix:0,_cueFilterFrequency:null,_cueFilterQFactor:null,RpcCurves:null},props:{Playing:{get:function(){var $t,clip;if(this._complexSound){$t=Bridge.getEnumerator(this._soundClips);try{while($t.moveNext())if(clip=$t.Current,clip.State===Microsoft.Xna.Framework.Audio.SoundState.Playing)return!0}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return!1}return this._wave!=null&&this._wave.State===Microsoft.Xna.Framework.Audio.SoundState.Playing}},Stopped:{get:function(){var $t,notStopped,clip;if(this._complexSound){notStopped=!1;$t=Bridge.getEnumerator(this._soundClips);try{while($t.moveNext())clip=$t.Current,clip.State!==Microsoft.Xna.Framework.Audio.SoundState.Stopped&&(notStopped=!0)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return!notStopped}return this._wave==null}},IsPaused:{get:function(){var $t,clip;if(this._complexSound){$t=Bridge.getEnumerator(this._soundClips);try{while($t.moveNext())if(clip=$t.Current,clip.State===Microsoft.Xna.Framework.Audio.SoundState.Paused)return!0}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return!1}return this._wave!=null&&this._wave.State===Microsoft.Xna.Framework.Audio.SoundState.Paused}}},ctors:{init:function(){this._cueVolume=1;this._cuePitch=0;this._cueReverbMix=0},$ctor1:function(soundBank,waveBankIndex,trackIndex){this.$initialize();this._complexSound=!1;this._soundBank=soundBank;this._waveBankIndex=waveBankIndex;this._trackIndex=trackIndex;this.RpcCurves=System.Array.init(0,0,System.Int32)},ctor:function(engine,soundBank,soundReader){var $t,flags,hasRPCs,hasDSPs,numClips,i,i1,category;if(this.$initialize(),this._soundBank=soundBank,flags=soundReader.ReadByte(),this._complexSound=(flags&1)!=0,hasRPCs=(flags&14)!=0,hasDSPs=(flags&16)!=0,this._categoryID=soundReader.ReadUInt16(),this._volume=Microsoft.Xna.Framework.Audio.XactHelpers.ParseVolumeFromDecibels(soundReader.ReadByte()),this._pitch=soundReader.ReadInt16()/1e3,soundReader.ReadByte(),soundReader.ReadUInt16(),numClips=0,this._complexSound?numClips=soundReader.ReadByte():(this._trackIndex=soundReader.ReadUInt16(),this._waveBankIndex=soundReader.ReadByte()),hasRPCs){var current=soundReader.BaseStream.Position,dataLength=soundReader.ReadUInt16(),numPresets=soundReader.ReadByte();for(this.RpcCurves=System.Array.init(numPresets,0,System.Int32),i=0;i<numPresets;i=i+1|0)this.RpcCurves[System.Array.index(i,this.RpcCurves)]=engine.GetRpcIndex(soundReader.ReadUInt32());soundReader.BaseStream.Seek(current.add(System.Int64(dataLength)),0)}else this.RpcCurves=System.Array.init(0,0,System.Int32);if(hasDSPs?(this._useReverb=!0,soundReader.BaseStream.Seek(System.Int64(7),1)):this._useReverb=!1,this._complexSound)for(this._soundClips=System.Array.init(numClips,null,Microsoft.Xna.Framework.Audio.XactClip),i1=0;i1<numClips;i1=i1+1|0)this._soundClips[System.Array.index(i1,this._soundClips)]=new Microsoft.Xna.Framework.Audio.XactClip(soundBank,soundReader,this._useReverb);category=($t=engine.Categories)[System.Array.index(this._categoryID,$t)].$clone();category.AddSound(this)}},methods:{SetFade:function(fadeInTime,fadeOutTime){var $t,sound;if((fadeInTime!==0||fadeOutTime!==0)&&this._complexSound){$t=Bridge.getEnumerator(this._soundClips);try{while($t.moveNext())sound=$t.Current,sound.SetFade(fadeInTime,fadeOutTime)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}},Play:function(volume,engine){var $t,$t1,category,curInstances,prevSound,clip;this._cueVolume=volume;category=($t=engine.Categories)[System.Array.index(this._categoryID,$t)].$clone();curInstances=category.GetPlayingInstanceCount();curInstances>=category.maxInstances&&(prevSound=category.GetOldestInstance(),prevSound!=null&&(prevSound.SetFade(0,category.fadeOut),prevSound.Stop(Microsoft.Xna.Framework.Audio.AudioStopOptions.Immediate),this.SetFade(category.fadeIn,0)));var finalVolume=this._volume*this._cueVolume*category._volume[System.Array.index(0,category._volume)],finalPitch=this._pitch+this._cuePitch,finalMix=this._useReverb?this._cueReverbMix:0;if(this._complexSound){$t1=Bridge.getEnumerator(this._soundClips);try{while($t1.moveNext())clip=$t1.Current,clip.UpdateState(finalVolume,finalPitch,finalMix,this._cueFilterFrequency,this._cueFilterQFactor),clip.Play()}finally{Bridge.is($t1,System.IDisposable)&&$t1.System$IDisposable$Dispose()}}else{if(this._wave!=null&&(this._streaming?this._wave.Dispose():this._wave._isXAct=!1,this._wave=null),this._wave=this._soundBank.GetSoundEffectInstance(this._waveBankIndex,this._trackIndex,Bridge.ref(this,"_streaming")),this._wave==null)return;this._wave.Pitch=finalPitch;this._wave.Volume=finalVolume;this._wave.PlatformSetReverbMix(finalMix);this._wave.Play()}},Update:function(dt){var $t,sound;if(this._complexSound){$t=Bridge.getEnumerator(this._soundClips);try{while($t.moveNext())sound=$t.Current,sound.Update(dt)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}else this._wave!=null&&this._wave.State===Microsoft.Xna.Framework.Audio.SoundState.Stopped&&(this._streaming?this._wave.Dispose():this._wave._isXAct=!1,this._wave=null)},StopAll:function(options){var $t,clip;if(this._complexSound){$t=Bridge.getEnumerator(this._soundClips);try{while($t.moveNext())clip=$t.Current,clip.Stop()}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}else this._wave!=null&&(this._wave.Stop(),this._streaming?this._wave.Dispose():this._wave._isXAct=!1,this._wave=null)},Stop:function(options){var $t,sound;if(this._complexSound){$t=Bridge.getEnumerator(this._soundClips);try{while($t.moveNext())sound=$t.Current,sound.Stop()}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}else this._wave!=null&&(this._wave.Stop(),this._streaming?this._wave.Dispose():this._wave._isXAct=!1,this._wave=null)},Pause:function(){var $t,sound;if(this._complexSound){$t=Bridge.getEnumerator(this._soundClips);try{while($t.moveNext())sound=$t.Current,sound.State===Microsoft.Xna.Framework.Audio.SoundState.Playing&&sound.Pause()}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}else this._wave!=null&&this._wave.State===Microsoft.Xna.Framework.Audio.SoundState.Playing&&this._wave.Pause()},Resume:function(){var $t,sound;if(this._complexSound){$t=Bridge.getEnumerator(this._soundClips);try{while($t.moveNext())sound=$t.Current,sound.State===Microsoft.Xna.Framework.Audio.SoundState.Paused&&sound.Resume()}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}else this._wave!=null&&this._wave.State===Microsoft.Xna.Framework.Audio.SoundState.Paused&&this._wave.Resume()},UpdateCategoryVolume:function(categoryVolume){var $t,volume=this._volume*this._cueVolume*categoryVolume,clip;if(this._complexSound){$t=Bridge.getEnumerator(this._soundClips);try{while($t.moveNext())clip=$t.Current,clip.SetVolumeScale(volume)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}else this._wave!=null&&(this._wave.Volume=volume)},UpdateState:function(engine,volume,pitch,reverbMix,filterFrequency,filterQFactor){var $t,$t1,$t2,finalVolume,finalPitch,clip;if(this._cueVolume=volume,finalVolume=this._volume*this._cueVolume*($t=($t1=engine.Categories)[System.Array.index(this._categoryID,$t1)]._volume)[System.Array.index(0,$t)],this._cueReverbMix=reverbMix,this._cueFilterFrequency=filterFrequency,this._cueFilterQFactor=filterQFactor,this._cuePitch=pitch,finalPitch=this._pitch+this._cuePitch,this._complexSound){$t2=Bridge.getEnumerator(this._soundClips);try{while($t2.moveNext())clip=$t2.Current,clip.UpdateState(finalVolume,finalPitch,this._useReverb?this._cueReverbMix:0,this._cueFilterFrequency,this._cueFilterQFactor)}finally{Bridge.is($t2,System.IDisposable)&&$t2.System$IDisposable$Dispose()}}else this._wave!=null&&(this._wave.PlatformSetReverbMix(this._useReverb?this._cueReverbMix:0),this._wave.Pitch=finalPitch,this._wave.Volume=finalVolume)},SetCuePan:function(pan){var $t,clip;if(this._complexSound){$t=Bridge.getEnumerator(this._soundClips);try{while($t.moveNext())clip=$t.Current,clip.SetPan(pan)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}else this._wave!=null&&(this._wave.Pan=pan)}}});Bridge.define("Microsoft.Xna.Framework.BoundingBox",{inherits:function(){return[System.IEquatable$1(Microsoft.Xna.Framework.BoundingBox)]},$kind:"struct",statics:{fields:{CornerCount:0,MaxVector3:null,MinVector3:null},ctors:{init:function(){this.MaxVector3=new Microsoft.Xna.Framework.Vector3;this.MinVector3=new Microsoft.Xna.Framework.Vector3;this.CornerCount=8;this.MaxVector3=new Microsoft.Xna.Framework.Vector3.$ctor2(340282347e30);this.MinVector3=new Microsoft.Xna.Framework.Vector3.$ctor2(-340282347e30)}},methods:{CreateFromPoints:function(points){var $t,ptVector;if(points==null)throw new System.ArgumentNullException.ctor;var empty=!0,minVec=Microsoft.Xna.Framework.BoundingBox.MaxVector3.$clone(),maxVec=Microsoft.Xna.Framework.BoundingBox.MinVector3.$clone();$t=Bridge.getEnumerator(points,Microsoft.Xna.Framework.Vector3);try{while($t.moveNext())ptVector=$t.Current.$clone(),minVec.X=minVec.X<ptVector.X?minVec.X:ptVector.X,minVec.Y=minVec.Y<ptVector.Y?minVec.Y:ptVector.Y,minVec.Z=minVec.Z<ptVector.Z?minVec.Z:ptVector.Z,maxVec.X=maxVec.X>ptVector.X?maxVec.X:ptVector.X,maxVec.Y=maxVec.Y>ptVector.Y?maxVec.Y:ptVector.Y,maxVec.Z=maxVec.Z>ptVector.Z?maxVec.Z:ptVector.Z,empty=!1}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}if(empty)throw new System.ArgumentException.ctor;return new Microsoft.Xna.Framework.BoundingBox.$ctor1(minVec.$clone(),maxVec.$clone())},CreateFromSphere:function(sphere){sphere={v:sphere};var result={v:new Microsoft.Xna.Framework.BoundingBox};return Microsoft.Xna.Framework.BoundingBox.CreateFromSphere$1(sphere,result),result.v.$clone()},CreateFromSphere$1:function(sphere,result){var corner=new Microsoft.Xna.Framework.Vector3.$ctor2(sphere.v.Radius);result.v.Min=Microsoft.Xna.Framework.Vector3.op_Subtraction(sphere.v.Center.$clone(),corner.$clone());result.v.Max=Microsoft.Xna.Framework.Vector3.op_Addition(sphere.v.Center.$clone(),corner.$clone())},CreateMerged:function(original,additional){original={v:original};additional={v:additional};var result={v:new Microsoft.Xna.Framework.BoundingBox};return Microsoft.Xna.Framework.BoundingBox.CreateMerged$1(original,additional,result),result.v.$clone()},CreateMerged$1:function(original,additional,result){result.v.Min.X=Math.min(original.v.Min.X,additional.v.Min.X);result.v.Min.Y=Math.min(original.v.Min.Y,additional.v.Min.Y);result.v.Min.Z=Math.min(original.v.Min.Z,additional.v.Min.Z);result.v.Max.X=Math.max(original.v.Max.X,additional.v.Max.X);result.v.Max.Y=Math.max(original.v.Max.Y,additional.v.Max.Y);result.v.Max.Z=Math.max(original.v.Max.Z,additional.v.Max.Z)},op_Equality:function(a,b){return a.equalsT(b.$clone())},op_Inequality:function(a,b){return!a.equalsT(b.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.BoundingBox}}},fields:{Min:null,Max:null},props:{DebugDisplayString:{get:function(){return System.String.concat(["Min( ",this.Min.DebugDisplayString," )  \r\n","Max( ",this.Max.DebugDisplayString," )"])}}},alias:["equalsT","System$IEquatable$1$Microsoft$Xna$Framework$BoundingBox$equalsT"],ctors:{init:function(){this.Min=new Microsoft.Xna.Framework.Vector3;this.Max=new Microsoft.Xna.Framework.Vector3},$ctor1:function(min,max){this.$initialize();this.Min=min.$clone();this.Max=max.$clone()},ctor:function(){this.$initialize()}},methods:{Contains:function(box){return box.Max.X<this.Min.X||box.Min.X>this.Max.X||box.Max.Y<this.Min.Y||box.Min.Y>this.Max.Y||box.Max.Z<this.Min.Z||box.Min.Z>this.Max.Z?Microsoft.Xna.Framework.ContainmentType.Disjoint:box.Min.X>=this.Min.X&&box.Max.X<=this.Max.X&&box.Min.Y>=this.Min.Y&&box.Max.Y<=this.Max.Y&&box.Min.Z>=this.Min.Z&&box.Max.Z<=this.Max.Z?Microsoft.Xna.Framework.ContainmentType.Contains:Microsoft.Xna.Framework.ContainmentType.Intersects},Contains$4:function(box,result){result.v=this.Contains(box.v.$clone())},Contains$1:function(frustum){for(var contained={v:new Microsoft.Xna.Framework.ContainmentType},corners=frustum.GetCorners(),i=0;i<corners.length;i=i+1|0)if(this.Contains$6(Bridge.ref(corners,i),contained),contained.v===Microsoft.Xna.Framework.ContainmentType.Disjoint)break;if(i===corners.length)return Microsoft.Xna.Framework.ContainmentType.Contains;if(i!==0)return Microsoft.Xna.Framework.ContainmentType.Intersects;for(i=i+1|0;i<corners.length;i=i+1|0)if(this.Contains$6(Bridge.ref(corners,i),contained),contained.v!==Microsoft.Xna.Framework.ContainmentType.Contains)return Microsoft.Xna.Framework.ContainmentType.Intersects;return Microsoft.Xna.Framework.ContainmentType.Contains},Contains$2:function(sphere){if(sphere.Center.X-this.Min.X>=sphere.Radius&&sphere.Center.Y-this.Min.Y>=sphere.Radius&&sphere.Center.Z-this.Min.Z>=sphere.Radius&&this.Max.X-sphere.Center.X>=sphere.Radius&&this.Max.Y-sphere.Center.Y>=sphere.Radius&&this.Max.Z-sphere.Center.Z>=sphere.Radius)return Microsoft.Xna.Framework.ContainmentType.Contains;var dmin=0,e=sphere.Center.X-this.Min.X;if(e<0){if(e<-sphere.Radius)return Microsoft.Xna.Framework.ContainmentType.Disjoint;dmin+=e*e}else if(e=sphere.Center.X-this.Max.X,e>0){if(e>sphere.Radius)return Microsoft.Xna.Framework.ContainmentType.Disjoint;dmin+=e*e}if(e=sphere.Center.Y-this.Min.Y,e<0){if(e<-sphere.Radius)return Microsoft.Xna.Framework.ContainmentType.Disjoint;dmin+=e*e}else if(e=sphere.Center.Y-this.Max.Y,e>0){if(e>sphere.Radius)return Microsoft.Xna.Framework.ContainmentType.Disjoint;dmin+=e*e}if(e=sphere.Center.Z-this.Min.Z,e<0){if(e<-sphere.Radius)return Microsoft.Xna.Framework.ContainmentType.Disjoint;dmin+=e*e}else if(e=sphere.Center.Z-this.Max.Z,e>0){if(e>sphere.Radius)return Microsoft.Xna.Framework.ContainmentType.Disjoint;dmin+=e*e}return dmin<=sphere.Radius*sphere.Radius?Microsoft.Xna.Framework.ContainmentType.Intersects:Microsoft.Xna.Framework.ContainmentType.Disjoint},Contains$5:function(sphere,result){result.v=this.Contains$2(sphere.v.$clone())},Contains$3:function(point){point={v:point};var result={v:new Microsoft.Xna.Framework.ContainmentType};return this.Contains$6(point,result),result.v},Contains$6:function(point,result){result.v=point.v.X<this.Min.X||point.v.X>this.Max.X||point.v.Y<this.Min.Y||point.v.Y>this.Max.Y||point.v.Z<this.Min.Z||point.v.Z>this.Max.Z?Microsoft.Xna.Framework.ContainmentType.Disjoint:Microsoft.Xna.Framework.ContainmentType.Contains},equalsT:function(other){return Microsoft.Xna.Framework.Vector3.op_Equality(this.Min.$clone(),other.Min.$clone())&&Microsoft.Xna.Framework.Vector3.op_Equality(this.Max.$clone(),other.Max.$clone())},equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.BoundingBox)?this.equalsT(System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.BoundingBox),Microsoft.Xna.Framework.BoundingBox))):!1},GetCorners:function(){return System.Array.init([new Microsoft.Xna.Framework.Vector3.$ctor3(this.Min.X,this.Max.Y,this.Max.Z),new Microsoft.Xna.Framework.Vector3.$ctor3(this.Max.X,this.Max.Y,this.Max.Z),new Microsoft.Xna.Framework.Vector3.$ctor3(this.Max.X,this.Min.Y,this.Max.Z),new Microsoft.Xna.Framework.Vector3.$ctor3(this.Min.X,this.Min.Y,this.Max.Z),new Microsoft.Xna.Framework.Vector3.$ctor3(this.Min.X,this.Max.Y,this.Min.Z),new Microsoft.Xna.Framework.Vector3.$ctor3(this.Max.X,this.Max.Y,this.Min.Z),new Microsoft.Xna.Framework.Vector3.$ctor3(this.Max.X,this.Min.Y,this.Min.Z),new Microsoft.Xna.Framework.Vector3.$ctor3(this.Min.X,this.Min.Y,this.Min.Z)],Microsoft.Xna.Framework.Vector3)},GetCorners$1:function(corners){if(corners==null)throw new System.ArgumentNullException.$ctor1("corners");if(corners.length<8)throw new System.ArgumentOutOfRangeException.$ctor4("corners","Not Enought Corners");corners[System.Array.index(0,corners)].X=this.Min.X;corners[System.Array.index(0,corners)].Y=this.Max.Y;corners[System.Array.index(0,corners)].Z=this.Max.Z;corners[System.Array.index(1,corners)].X=this.Max.X;corners[System.Array.index(1,corners)].Y=this.Max.Y;corners[System.Array.index(1,corners)].Z=this.Max.Z;corners[System.Array.index(2,corners)].X=this.Max.X;corners[System.Array.index(2,corners)].Y=this.Min.Y;corners[System.Array.index(2,corners)].Z=this.Max.Z;corners[System.Array.index(3,corners)].X=this.Min.X;corners[System.Array.index(3,corners)].Y=this.Min.Y;corners[System.Array.index(3,corners)].Z=this.Max.Z;corners[System.Array.index(4,corners)].X=this.Min.X;corners[System.Array.index(4,corners)].Y=this.Max.Y;corners[System.Array.index(4,corners)].Z=this.Min.Z;corners[System.Array.index(5,corners)].X=this.Max.X;corners[System.Array.index(5,corners)].Y=this.Max.Y;corners[System.Array.index(5,corners)].Z=this.Min.Z;corners[System.Array.index(6,corners)].X=this.Max.X;corners[System.Array.index(6,corners)].Y=this.Min.Y;corners[System.Array.index(6,corners)].Z=this.Min.Z;corners[System.Array.index(7,corners)].X=this.Min.X;corners[System.Array.index(7,corners)].Y=this.Min.Y;corners[System.Array.index(7,corners)].Z=this.Min.Z},getHashCode:function(){return this.Min.getHashCode()+this.Max.getHashCode()|0},Intersects$1:function(box){box={v:box};var result={};return this.Intersects$5(box,result),result.v},Intersects$5:function(box,result){if(this.Max.X>=box.v.Min.X&&this.Min.X<=box.v.Max.X){if(this.Max.Y<box.v.Min.Y||this.Min.Y>box.v.Max.Y){result.v=!1;return}result.v=this.Max.Z>=box.v.Min.Z&&this.Min.Z<=box.v.Max.Z;return}result.v=!1;return},Intersects$2:function(frustum){return frustum.Intersects$1(this)},Intersects$3:function(sphere){if(sphere.Center.X-this.Min.X>sphere.Radius&&sphere.Center.Y-this.Min.Y>sphere.Radius&&sphere.Center.Z-this.Min.Z>sphere.Radius&&this.Max.X-sphere.Center.X>sphere.Radius&&this.Max.Y-sphere.Center.Y>sphere.Radius&&this.Max.Z-sphere.Center.Z>sphere.Radius)return!0;var dmin=0;return(sphere.Center.X-this.Min.X<=sphere.Radius?dmin+=(sphere.Center.X-this.Min.X)*(sphere.Center.X-this.Min.X):this.Max.X-sphere.Center.X<=sphere.Radius&&(dmin+=(sphere.Center.X-this.Max.X)*(sphere.Center.X-this.Max.X)),sphere.Center.Y-this.Min.Y<=sphere.Radius?dmin+=(sphere.Center.Y-this.Min.Y)*(sphere.Center.Y-this.Min.Y):this.Max.Y-sphere.Center.Y<=sphere.Radius&&(dmin+=(sphere.Center.Y-this.Max.Y)*(sphere.Center.Y-this.Max.Y)),sphere.Center.Z-this.Min.Z<=sphere.Radius?dmin+=(sphere.Center.Z-this.Min.Z)*(sphere.Center.Z-this.Min.Z):this.Max.Z-sphere.Center.Z<=sphere.Radius&&(dmin+=(sphere.Center.Z-this.Max.Z)*(sphere.Center.Z-this.Max.Z)),dmin<=sphere.Radius*sphere.Radius)?!0:!1},Intersects$6:function(sphere,result){result.v=this.Intersects$3(sphere.v.$clone())},Intersects:function(plane){plane={v:plane};var result={v:new Microsoft.Xna.Framework.PlaneIntersectionType};return this.Intersects$7(plane,result),result.v},Intersects$7:function(plane,result){var positiveVertex=new Microsoft.Xna.Framework.Vector3,negativeVertex=new Microsoft.Xna.Framework.Vector3,distance;if(plane.v.Normal.X>=0?(positiveVertex.X=this.Max.X,negativeVertex.X=this.Min.X):(positiveVertex.X=this.Min.X,negativeVertex.X=this.Max.X),plane.v.Normal.Y>=0?(positiveVertex.Y=this.Max.Y,negativeVertex.Y=this.Min.Y):(positiveVertex.Y=this.Min.Y,negativeVertex.Y=this.Max.Y),plane.v.Normal.Z>=0?(positiveVertex.Z=this.Max.Z,negativeVertex.Z=this.Min.Z):(positiveVertex.Z=this.Min.Z,negativeVertex.Z=this.Max.Z),distance=plane.v.Normal.X*negativeVertex.X+plane.v.Normal.Y*negativeVertex.Y+plane.v.Normal.Z*negativeVertex.Z+plane.v.D,distance>0){result.v=Microsoft.Xna.Framework.PlaneIntersectionType.Front;return}if(distance=plane.v.Normal.X*positiveVertex.X+plane.v.Normal.Y*positiveVertex.Y+plane.v.Normal.Z*positiveVertex.Z+plane.v.D,distance<0){result.v=Microsoft.Xna.Framework.PlaneIntersectionType.Back;return}result.v=Microsoft.Xna.Framework.PlaneIntersectionType.Intersecting},Intersects$4:function(ray){return ray.Intersects(this)},Intersects$8:function(ray,result){result.v=this.Intersects$4(ray.v.$clone())},toString:function(){return"{{Min:"+(this.Min.toString()||"")+" Max:"+(this.Max.toString()||"")+"}}"},Deconstruct:function(min,max){min.v=this.Min.$clone();max.v=this.Max.$clone()},$clone:function(to){var s=to||new Microsoft.Xna.Framework.BoundingBox;return s.Min=this.Min.$clone(),s.Max=this.Max.$clone(),s}}});Bridge.define("Microsoft.Xna.Framework.BoundingFrustum",{inherits:function(){return[System.IEquatable$1(Microsoft.Xna.Framework.BoundingFrustum)]},statics:{fields:{PlaneCount:0,CornerCount:0},ctors:{init:function(){this.PlaneCount=6;this.CornerCount=8}},methods:{IntersectionPoint:function(a,b,c,result){var v1={v:new Microsoft.Xna.Framework.Vector3},v2={v:new Microsoft.Xna.Framework.Vector3},v3={v:new Microsoft.Xna.Framework.Vector3},cross={v:new Microsoft.Xna.Framework.Vector3},f;Microsoft.Xna.Framework.Vector3.Cross$1(Bridge.ref(b.v,"Normal"),Bridge.ref(c.v,"Normal"),cross);f={};Microsoft.Xna.Framework.Vector3.Dot$1(Bridge.ref(a.v,"Normal"),cross,f);f.v*=-1;Microsoft.Xna.Framework.Vector3.Cross$1(Bridge.ref(b.v,"Normal"),Bridge.ref(c.v,"Normal"),cross);Microsoft.Xna.Framework.Vector3.Multiply$3(cross,a.v.D,v1);Microsoft.Xna.Framework.Vector3.Cross$1(Bridge.ref(c.v,"Normal"),Bridge.ref(a.v,"Normal"),cross);Microsoft.Xna.Framework.Vector3.Multiply$3(cross,b.v.D,v2);Microsoft.Xna.Framework.Vector3.Cross$1(Bridge.ref(a.v,"Normal"),Bridge.ref(b.v,"Normal"),cross);Microsoft.Xna.Framework.Vector3.Multiply$3(cross,c.v.D,v3);result.v.X=(v1.v.X+v2.v.X+v3.v.X)/f.v;result.v.Y=(v1.v.Y+v2.v.Y+v3.v.Y)/f.v;result.v.Z=(v1.v.Z+v2.v.Z+v3.v.Z)/f.v},op_Equality:function(a,b){return Bridge.equals(a,null)?Bridge.equals(b,null):Bridge.equals(b,null)?Bridge.equals(a,null):Microsoft.Xna.Framework.Matrix.op_Equality(a._matrix.$clone(),b._matrix)},op_Inequality:function(a,b){return!Microsoft.Xna.Framework.BoundingFrustum.op_Equality(a,b)}}},fields:{_matrix:null,_corners:null,_planes:null},props:{Matrix:{get:function(){return this._matrix.$clone()},set:function(value){this._matrix=value.$clone();this.CreatePlanes();this.CreateCorners()}},Near:{get:function(){return this._planes[System.Array.index(0,this._planes)].$clone()}},Far:{get:function(){return this._planes[System.Array.index(1,this._planes)].$clone()}},Left:{get:function(){return this._planes[System.Array.index(2,this._planes)].$clone()}},Right:{get:function(){return this._planes[System.Array.index(3,this._planes)].$clone()}},Top:{get:function(){return this._planes[System.Array.index(4,this._planes)].$clone()}},Bottom:{get:function(){return this._planes[System.Array.index(5,this._planes)].$clone()}},DebugDisplayString:{get:function(){return System.String.concat(["Near( ",this._planes[System.Array.index(0,this._planes)].DebugDisplayString," )  \r\n","Far( ",this._planes[System.Array.index(1,this._planes)].DebugDisplayString," )  \r\n","Left( ",this._planes[System.Array.index(2,this._planes)].DebugDisplayString," )  \r\n","Right( ",this._planes[System.Array.index(3,this._planes)].DebugDisplayString," )  \r\n","Top( ",this._planes[System.Array.index(4,this._planes)].DebugDisplayString," )  \r\n","Bottom( ",this._planes[System.Array.index(5,this._planes)].DebugDisplayString," )  "])}}},alias:["equalsT","System$IEquatable$1$Microsoft$Xna$Framework$BoundingFrustum$equalsT"],ctors:{init:function(){this._matrix=new Microsoft.Xna.Framework.Matrix;this._corners=System.Array.init(Microsoft.Xna.Framework.BoundingFrustum.CornerCount,function(){return new Microsoft.Xna.Framework.Vector3},Microsoft.Xna.Framework.Vector3);this._planes=System.Array.init(Microsoft.Xna.Framework.BoundingFrustum.PlaneCount,function(){return new Microsoft.Xna.Framework.Plane},Microsoft.Xna.Framework.Plane)},ctor:function(value){this.$initialize();this._matrix=value.$clone();this.CreatePlanes();this.CreateCorners()}},methods:{Contains:function(box){box={v:box};var result={v:0};return this.Contains$4(box,result),result.v},Contains$4:function(box,result){for(var planeIntersectionType,intersects=!1,i=0;i<Microsoft.Xna.Framework.BoundingFrustum.PlaneCount;i=i+1|0){planeIntersectionType={v:0};box.v.Intersects$7(Bridge.ref(this._planes,i),planeIntersectionType);switch(planeIntersectionType.v){case Microsoft.Xna.Framework.PlaneIntersectionType.Front:result.v=Microsoft.Xna.Framework.ContainmentType.Disjoint;return;case Microsoft.Xna.Framework.PlaneIntersectionType.Intersecting:intersects=!0;break}}result.v=intersects?Microsoft.Xna.Framework.ContainmentType.Intersects:Microsoft.Xna.Framework.ContainmentType.Contains},Contains$1:function(frustum){var intersects,i,planeIntersectionType;if(Microsoft.Xna.Framework.BoundingFrustum.op_Equality(this,frustum))return Microsoft.Xna.Framework.ContainmentType.Contains;for(intersects=!1,i=0;i<Microsoft.Xna.Framework.BoundingFrustum.PlaneCount;i=i+1|0){planeIntersectionType={v:new Microsoft.Xna.Framework.PlaneIntersectionType};frustum.Intersects$7(Bridge.ref(this._planes,i),planeIntersectionType);switch(planeIntersectionType.v){case Microsoft.Xna.Framework.PlaneIntersectionType.Front:return Microsoft.Xna.Framework.ContainmentType.Disjoint;case Microsoft.Xna.Framework.PlaneIntersectionType.Intersecting:intersects=!0;break}}return intersects?Microsoft.Xna.Framework.ContainmentType.Intersects:Microsoft.Xna.Framework.ContainmentType.Contains},Contains$2:function(sphere){sphere={v:sphere};var result={v:0};return this.Contains$5(sphere,result),result.v},Contains$5:function(sphere,result){for(var planeIntersectionType,intersects=!1,i=0;i<Microsoft.Xna.Framework.BoundingFrustum.PlaneCount;i=i+1|0){planeIntersectionType={v:0};sphere.v.Intersects$6(Bridge.ref(this._planes,i),planeIntersectionType);switch(planeIntersectionType.v){case Microsoft.Xna.Framework.PlaneIntersectionType.Front:result.v=Microsoft.Xna.Framework.ContainmentType.Disjoint;return;case Microsoft.Xna.Framework.PlaneIntersectionType.Intersecting:intersects=!0;break}}result.v=intersects?Microsoft.Xna.Framework.ContainmentType.Intersects:Microsoft.Xna.Framework.ContainmentType.Contains},Contains$3:function(point){point={v:point};var result={v:0};return this.Contains$6(point,result),result.v},Contains$6:function(point,result){for(var i=0;i<Microsoft.Xna.Framework.BoundingFrustum.PlaneCount;i=i+1|0)if(Microsoft.Xna.Framework.PlaneHelper.ClassifyPoint(point,Bridge.ref(this._planes,i))>0){result.v=Microsoft.Xna.Framework.ContainmentType.Disjoint;return}result.v=Microsoft.Xna.Framework.ContainmentType.Contains},equalsT:function(other){return Microsoft.Xna.Framework.BoundingFrustum.op_Equality(this,other)},equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.BoundingFrustum)&&Microsoft.Xna.Framework.BoundingFrustum.op_Equality(this,Bridge.cast(obj,Microsoft.Xna.Framework.BoundingFrustum))},GetCorners:function(){return Bridge.cast(System.Array.clone(this._corners),System.Array.type(Microsoft.Xna.Framework.Vector3))},GetCorners$1:function(corners){var $t;if(corners==null)throw new System.ArgumentNullException.$ctor1("corners");if(corners.length<Microsoft.Xna.Framework.BoundingFrustum.CornerCount)throw new System.ArgumentOutOfRangeException.$ctor1("corners");$t=this._corners;System.Array.copy($t,0,corners,0,$t.length)},getHashCode:function(){return this._matrix.getHashCode()},Intersects$1:function(box){box={v:box};var result={v:!1};return this.Intersects$5(box,result),result.v},Intersects$5:function(box,result){var containment={v:0};this.Contains$4(box,containment);result.v=containment.v!==Microsoft.Xna.Framework.ContainmentType.Disjoint},Intersects$2:function(frustum){return this.Contains$1(frustum)!==Microsoft.Xna.Framework.ContainmentType.Disjoint},Intersects$3:function(sphere){sphere={v:sphere};var result={v:Bridge.getDefaultValue(System.Boolean)};return this.Intersects$6(sphere,result),result.v},Intersects$6:function(sphere,result){var containment={v:0};this.Contains$5(sphere,containment);result.v=containment.v!==Microsoft.Xna.Framework.ContainmentType.Disjoint},Intersects:function(plane){plane={v:plane};var result={v:new Microsoft.Xna.Framework.PlaneIntersectionType};return this.Intersects$7(plane,result),result.v},Intersects$7:function(plane,result){result.v=plane.v.Intersects$5(Bridge.ref(this._corners,0));for(var i=1;i<this._corners.length;i=i+1|0)plane.v.Intersects$5(Bridge.ref(this._corners,i))!==result.v&&(result.v=Microsoft.Xna.Framework.PlaneIntersectionType.Intersecting)},Intersects$4:function(ray){ray={v:ray};var result={};return this.Intersects$8(ray,result),result.v},Intersects$8:function(ray,result){var ctype={v:new Microsoft.Xna.Framework.ContainmentType};this.Contains$6(Bridge.ref(ray.v,"Position"),ctype);switch(ctype.v){case Microsoft.Xna.Framework.ContainmentType.Disjoint:result.v=null;return;case Microsoft.Xna.Framework.ContainmentType.Contains:result.v=0;return;case Microsoft.Xna.Framework.ContainmentType.Intersects:throw new System.NotImplementedException.ctor;default:throw new System.ArgumentOutOfRangeException.ctor;}},toString:function(){return"{Near: "+this._planes[System.Array.index(0,this._planes)]+" Far:"+this._planes[System.Array.index(1,this._planes)]+" Left:"+this._planes[System.Array.index(2,this._planes)]+" Right:"+this._planes[System.Array.index(3,this._planes)]+" Top:"+this._planes[System.Array.index(4,this._planes)]+" Bottom:"+this._planes[System.Array.index(5,this._planes)]+"}"},CreateCorners:function(){Microsoft.Xna.Framework.BoundingFrustum.IntersectionPoint(Bridge.ref(this._planes,0),Bridge.ref(this._planes,2),Bridge.ref(this._planes,4),Bridge.ref(this._corners,0));Microsoft.Xna.Framework.BoundingFrustum.IntersectionPoint(Bridge.ref(this._planes,0),Bridge.ref(this._planes,3),Bridge.ref(this._planes,4),Bridge.ref(this._corners,1));Microsoft.Xna.Framework.BoundingFrustum.IntersectionPoint(Bridge.ref(this._planes,0),Bridge.ref(this._planes,3),Bridge.ref(this._planes,5),Bridge.ref(this._corners,2));Microsoft.Xna.Framework.BoundingFrustum.IntersectionPoint(Bridge.ref(this._planes,0),Bridge.ref(this._planes,2),Bridge.ref(this._planes,5),Bridge.ref(this._corners,3));Microsoft.Xna.Framework.BoundingFrustum.IntersectionPoint(Bridge.ref(this._planes,1),Bridge.ref(this._planes,2),Bridge.ref(this._planes,4),Bridge.ref(this._corners,4));Microsoft.Xna.Framework.BoundingFrustum.IntersectionPoint(Bridge.ref(this._planes,1),Bridge.ref(this._planes,3),Bridge.ref(this._planes,4),Bridge.ref(this._corners,5));Microsoft.Xna.Framework.BoundingFrustum.IntersectionPoint(Bridge.ref(this._planes,1),Bridge.ref(this._planes,3),Bridge.ref(this._planes,5),Bridge.ref(this._corners,6));Microsoft.Xna.Framework.BoundingFrustum.IntersectionPoint(Bridge.ref(this._planes,1),Bridge.ref(this._planes,2),Bridge.ref(this._planes,5),Bridge.ref(this._corners,7))},CreatePlanes:function(){this._planes[System.Array.index(0,this._planes)]=new Microsoft.Xna.Framework.Plane.$ctor4(-this._matrix.M13,-this._matrix.M23,-this._matrix.M33,-this._matrix.M43);this._planes[System.Array.index(1,this._planes)]=new Microsoft.Xna.Framework.Plane.$ctor4(this._matrix.M13-this._matrix.M14,this._matrix.M23-this._matrix.M24,this._matrix.M33-this._matrix.M34,this._matrix.M43-this._matrix.M44);this._planes[System.Array.index(2,this._planes)]=new Microsoft.Xna.Framework.Plane.$ctor4(-this._matrix.M14-this._matrix.M11,-this._matrix.M24-this._matrix.M21,-this._matrix.M34-this._matrix.M31,-this._matrix.M44-this._matrix.M41);this._planes[System.Array.index(3,this._planes)]=new Microsoft.Xna.Framework.Plane.$ctor4(this._matrix.M11-this._matrix.M14,this._matrix.M21-this._matrix.M24,this._matrix.M31-this._matrix.M34,this._matrix.M41-this._matrix.M44);this._planes[System.Array.index(4,this._planes)]=new Microsoft.Xna.Framework.Plane.$ctor4(this._matrix.M12-this._matrix.M14,this._matrix.M22-this._matrix.M24,this._matrix.M32-this._matrix.M34,this._matrix.M42-this._matrix.M44);this._planes[System.Array.index(5,this._planes)]=new Microsoft.Xna.Framework.Plane.$ctor4(-this._matrix.M14-this._matrix.M12,-this._matrix.M24-this._matrix.M22,-this._matrix.M34-this._matrix.M32,-this._matrix.M44-this._matrix.M42);this.NormalizePlane(Bridge.ref(this._planes,0));this.NormalizePlane(Bridge.ref(this._planes,1));this.NormalizePlane(Bridge.ref(this._planes,2));this.NormalizePlane(Bridge.ref(this._planes,3));this.NormalizePlane(Bridge.ref(this._planes,4));this.NormalizePlane(Bridge.ref(this._planes,5))},NormalizePlane:function(p){var factor=1/p.v.Normal.Length();p.v.Normal.X*=factor;p.v.Normal.Y*=factor;p.v.Normal.Z*=factor;p.v.D*=factor}}});Bridge.define("Microsoft.Xna.Framework.BoundingSphere",{inherits:function(){return[System.IEquatable$1(Microsoft.Xna.Framework.BoundingSphere)]},$kind:"struct",statics:{methods:{CreateFromBoundingBox:function(box){box={v:box};var result={v:new Microsoft.Xna.Framework.BoundingSphere};return Microsoft.Xna.Framework.BoundingSphere.CreateFromBoundingBox$1(box,result),result.v.$clone()},CreateFromBoundingBox$1:function(box,result){var center=new Microsoft.Xna.Framework.Vector3.$ctor3((box.v.Min.X+box.v.Max.X)/2,(box.v.Min.Y+box.v.Max.Y)/2,(box.v.Min.Z+box.v.Max.Z)/2),radius=Microsoft.Xna.Framework.Vector3.Distance(center.$clone(),box.v.Max.$clone());result.v=new Microsoft.Xna.Framework.BoundingSphere.$ctor1(center.$clone(),radius)},CreateFromFrustum:function(frustum){return Microsoft.Xna.Framework.BoundingSphere.CreateFromPoints(frustum.GetCorners())},CreateFromPoints:function(points){var $t,$t1,pt;if(points==null)throw new System.ArgumentNullException.$ctor1("points");var minx=new Microsoft.Xna.Framework.Vector3.$ctor3(340282347e30,340282347e30,340282347e30),maxx=Microsoft.Xna.Framework.Vector3.op_UnaryNegation(minx.$clone()),miny=minx.$clone(),maxy=Microsoft.Xna.Framework.Vector3.op_UnaryNegation(minx.$clone()),minz=minx.$clone(),maxz=Microsoft.Xna.Framework.Vector3.op_UnaryNegation(minx.$clone()),numPoints=0;$t=Bridge.getEnumerator(points,Microsoft.Xna.Framework.Vector3);try{while($t.moveNext())pt=$t.Current.$clone(),numPoints=numPoints+1|0,pt.X<minx.X&&(minx=pt.$clone()),pt.X>maxx.X&&(maxx=pt.$clone()),pt.Y<miny.Y&&(miny=pt.$clone()),pt.Y>maxy.Y&&(maxy=pt.$clone()),pt.Z<minz.Z&&(minz=pt.$clone()),pt.Z>maxz.Z&&(maxz=pt.$clone())}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}if(numPoints===0)throw new System.ArgumentException.$ctor1("You should have at least one point in points.");var sqDistX=Microsoft.Xna.Framework.Vector3.DistanceSquared(maxx.$clone(),minx.$clone()),sqDistY=Microsoft.Xna.Framework.Vector3.DistanceSquared(maxy.$clone(),miny.$clone()),sqDistZ=Microsoft.Xna.Framework.Vector3.DistanceSquared(maxz.$clone(),minz.$clone()),min=minx.$clone(),max=maxx.$clone();sqDistY>sqDistX&&sqDistY>sqDistZ&&(max=maxy.$clone(),min=miny.$clone());sqDistZ>sqDistX&&sqDistZ>sqDistY&&(max=maxz.$clone(),min=minz.$clone());var center=Microsoft.Xna.Framework.Vector3.op_Multiply$1(Microsoft.Xna.Framework.Vector3.op_Addition(min.$clone(),max.$clone()),.5),radius=Microsoft.Xna.Framework.Vector3.Distance(max.$clone(),center.$clone()),sqRadius=radius*radius;$t1=Bridge.getEnumerator(points,Microsoft.Xna.Framework.Vector3);try{while($t1.moveNext()){var pt1=$t1.Current.$clone(),diff=Microsoft.Xna.Framework.Vector3.op_Subtraction(pt1.$clone(),center.$clone()),sqDist=diff.LengthSquared();if(sqDist>sqRadius){var distance=Math.sqrt(sqDist),direction=Microsoft.Xna.Framework.Vector3.op_Division$1(diff.$clone(),distance),G=Microsoft.Xna.Framework.Vector3.op_Subtraction(center.$clone(),Microsoft.Xna.Framework.Vector3.op_Multiply$2(radius,direction.$clone()));center=Microsoft.Xna.Framework.Vector3.op_Division$1(Microsoft.Xna.Framework.Vector3.op_Addition(G.$clone(),pt1.$clone()),2);radius=Microsoft.Xna.Framework.Vector3.Distance(pt1.$clone(),center.$clone());sqRadius=radius*radius}}}finally{Bridge.is($t1,System.IDisposable)&&$t1.System$IDisposable$Dispose()}return new Microsoft.Xna.Framework.BoundingSphere.$ctor1(center.$clone(),radius)},CreateMerged:function(original,additional){original={v:original};additional={v:additional};var result={v:new Microsoft.Xna.Framework.BoundingSphere};return Microsoft.Xna.Framework.BoundingSphere.CreateMerged$1(original,additional,result),result.v.$clone()},CreateMerged$1:function(original,additional,result){var ocenterToaCenter=Microsoft.Xna.Framework.Vector3.Subtract(additional.v.Center.$clone(),original.v.Center.$clone()),distance=ocenterToaCenter.Length(),leftRadius,Rightradius;if(distance<=original.v.Radius+additional.v.Radius){if(distance<=original.v.Radius-additional.v.Radius){result.v=original.v.$clone();return}if(distance<=additional.v.Radius-original.v.Radius){result.v=additional.v.$clone();return}}leftRadius=Math.max(original.v.Radius-distance,additional.v.Radius);Rightradius=Math.max(original.v.Radius+distance,additional.v.Radius);ocenterToaCenter=Microsoft.Xna.Framework.Vector3.op_Addition(ocenterToaCenter.$clone(),Microsoft.Xna.Framework.Vector3.op_Multiply$2((leftRadius-Rightradius)/(2*ocenterToaCenter.Length()),ocenterToaCenter.$clone()));result.v=new Microsoft.Xna.Framework.BoundingSphere.ctor;result.v.Center=Microsoft.Xna.Framework.Vector3.op_Addition(original.v.Center.$clone(),ocenterToaCenter.$clone());result.v.Radius=(leftRadius+Rightradius)/2},op_Equality:function(a,b){return a.equalsT(b.$clone())},op_Inequality:function(a,b){return!a.equalsT(b.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.BoundingSphere}}},fields:{Center:null,Radius:0},props:{DebugDisplayString:{get:function(){return System.String.concat(["Center( ",this.Center.DebugDisplayString," )  \r\n","Radius( ",System.Single.format(this.Radius)," )"])}}},alias:["equalsT","System$IEquatable$1$Microsoft$Xna$Framework$BoundingSphere$equalsT"],ctors:{init:function(){this.Center=new Microsoft.Xna.Framework.Vector3},$ctor1:function(center,radius){this.$initialize();this.Center=center.$clone();this.Radius=radius},ctor:function(){this.$initialize()}},methods:{Contains:function(box){var $t,inside=!0,corner,dmin;$t=Bridge.getEnumerator(box.GetCorners());try{while($t.moveNext())if(corner=$t.Current.$clone(),this.Contains$3(corner.$clone())===Microsoft.Xna.Framework.ContainmentType.Disjoint){inside=!1;break}}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return inside?Microsoft.Xna.Framework.ContainmentType.Contains:(dmin=0,this.Center.X<box.Min.X?dmin+=(this.Center.X-box.Min.X)*(this.Center.X-box.Min.X):this.Center.X>box.Max.X&&(dmin+=(this.Center.X-box.Max.X)*(this.Center.X-box.Max.X)),this.Center.Y<box.Min.Y?dmin+=(this.Center.Y-box.Min.Y)*(this.Center.Y-box.Min.Y):this.Center.Y>box.Max.Y&&(dmin+=(this.Center.Y-box.Max.Y)*(this.Center.Y-box.Max.Y)),this.Center.Z<box.Min.Z?dmin+=(this.Center.Z-box.Min.Z)*(this.Center.Z-box.Min.Z):this.Center.Z>box.Max.Z&&(dmin+=(this.Center.Z-box.Max.Z)*(this.Center.Z-box.Max.Z)),dmin<=this.Radius*this.Radius)?Microsoft.Xna.Framework.ContainmentType.Intersects:Microsoft.Xna.Framework.ContainmentType.Disjoint},Contains$4:function(box,result){result.v=this.Contains(box.v.$clone())},Contains$1:function(frustum){var $t,inside=!0,corners=frustum.GetCorners(),corner,dmin;$t=Bridge.getEnumerator(corners);try{while($t.moveNext())if(corner=$t.Current.$clone(),this.Contains$3(corner.$clone())===Microsoft.Xna.Framework.ContainmentType.Disjoint){inside=!1;break}}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return inside?Microsoft.Xna.Framework.ContainmentType.Contains:(dmin=0,dmin<=this.Radius*this.Radius)?Microsoft.Xna.Framework.ContainmentType.Intersects:Microsoft.Xna.Framework.ContainmentType.Disjoint},Contains$5:function(frustum,result){result.v=this.Contains$1(frustum.v)},Contains$2:function(sphere){sphere={v:sphere};var result={v:new Microsoft.Xna.Framework.ContainmentType};return this.Contains$6(sphere,result),result.v},Contains$6:function(sphere,result){var sqDistance={};Microsoft.Xna.Framework.Vector3.DistanceSquared$1(Bridge.ref(sphere.v,"Center"),Bridge.ref(this,"Center"),sqDistance);result.v=sqDistance.v>(sphere.v.Radius+this.Radius)*(sphere.v.Radius+this.Radius)?Microsoft.Xna.Framework.ContainmentType.Disjoint:sqDistance.v<=(this.Radius-sphere.v.Radius)*(this.Radius-sphere.v.Radius)?Microsoft.Xna.Framework.ContainmentType.Contains:Microsoft.Xna.Framework.ContainmentType.Intersects},Contains$3:function(point){point={v:point};var result={v:new Microsoft.Xna.Framework.ContainmentType};return this.Contains$7(point,result),result.v},Contains$7:function(point,result){var sqRadius=this.Radius*this.Radius,sqDistance={};Microsoft.Xna.Framework.Vector3.DistanceSquared$1(point,Bridge.ref(this,"Center"),sqDistance);result.v=sqDistance.v>sqRadius?Microsoft.Xna.Framework.ContainmentType.Disjoint:sqDistance.v<sqRadius?Microsoft.Xna.Framework.ContainmentType.Contains:Microsoft.Xna.Framework.ContainmentType.Intersects},equalsT:function(other){return Microsoft.Xna.Framework.Vector3.op_Equality(this.Center.$clone(),other.Center.$clone())&&this.Radius===other.Radius},equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.BoundingSphere)?this.equalsT(System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.BoundingSphere),Microsoft.Xna.Framework.BoundingSphere))):!1},getHashCode:function(){return this.Center.getHashCode()+System.Single.getHashCode(this.Radius)|0},Intersects$1:function(box){return box.Intersects$3(this)},Intersects$4:function(box,result){box.v.Intersects$6(Bridge.ref(this),result)},Intersects$2:function(sphere){sphere={v:sphere};var result={};return this.Intersects$5(sphere,result),result.v},Intersects$5:function(sphere,result){var sqDistance={};Microsoft.Xna.Framework.Vector3.DistanceSquared$1(Bridge.ref(sphere.v,"Center"),Bridge.ref(this,"Center"),sqDistance);result.v=sqDistance.v>(sphere.v.Radius+this.Radius)*(sphere.v.Radius+this.Radius)?!1:!0},Intersects:function(plane){plane={v:plane};var result={v:0};return this.Intersects$6(plane,result),result.v},Intersects$6:function(plane,result){var distance={v:Bridge.getDefaultValue(System.Single)};Microsoft.Xna.Framework.Vector3.Dot$1(Bridge.ref(plane.v,"Normal"),Bridge.ref(this,"Center"),distance);distance.v+=plane.v.D;result.v=distance.v>this.Radius?Microsoft.Xna.Framework.PlaneIntersectionType.Front:distance.v<-this.Radius?Microsoft.Xna.Framework.PlaneIntersectionType.Back:Microsoft.Xna.Framework.PlaneIntersectionType.Intersecting},Intersects$3:function(ray){return ray.Intersects$1(this)},Intersects$7:function(ray,result){ray.v.Intersects$4(Bridge.ref(this),result)},toString:function(){return"{Center:"+this.Center+" Radius:"+System.Single.format(this.Radius)+"}"},Transform:function(matrix){var sphere=new Microsoft.Xna.Framework.BoundingSphere.ctor;return sphere.Center=Microsoft.Xna.Framework.Vector3.Transform(this.Center.$clone(),matrix.$clone()),sphere.Radius=this.Radius*Math.sqrt(Math.max(matrix.M11*matrix.M11+matrix.M12*matrix.M12+matrix.M13*matrix.M13,Math.max(matrix.M21*matrix.M21+matrix.M22*matrix.M22+matrix.M23*matrix.M23,matrix.M31*matrix.M31+matrix.M32*matrix.M32+matrix.M33*matrix.M33))),sphere.$clone()},Transform$1:function(matrix,result){result.v.Center=Microsoft.Xna.Framework.Vector3.Transform(this.Center.$clone(),matrix.v.$clone());result.v.Radius=this.Radius*Math.sqrt(Math.max(matrix.v.M11*matrix.v.M11+matrix.v.M12*matrix.v.M12+matrix.v.M13*matrix.v.M13,Math.max(matrix.v.M21*matrix.v.M21+matrix.v.M22*matrix.v.M22+matrix.v.M23*matrix.v.M23,matrix.v.M31*matrix.v.M31+matrix.v.M32*matrix.v.M32+matrix.v.M33*matrix.v.M33)))},Deconstruct:function(center,radius){center.v=this.Center.$clone();radius.v=this.Radius},$clone:function(to){var s=to||new Microsoft.Xna.Framework.BoundingSphere;return s.Center=this.Center.$clone(),s.Radius=this.Radius,s}}});Bridge.define("Microsoft.Xna.Framework.Color",{inherits:function(){return[System.IEquatable$1(Microsoft.Xna.Framework.Color)]},$kind:"struct",statics:{fields:{TransparentBlack:null,Transparent:null,AliceBlue:null,AntiqueWhite:null,Aqua:null,Aquamarine:null,Azure:null,Beige:null,Bisque:null,Black:null,BlanchedAlmond:null,Blue:null,BlueViolet:null,Brown:null,BurlyWood:null,CadetBlue:null,Chartreuse:null,Chocolate:null,Coral:null,CornflowerBlue:null,Cornsilk:null,Crimson:null,Cyan:null,DarkBlue:null,DarkCyan:null,DarkGoldenrod:null,DarkGray:null,DarkGreen:null,DarkKhaki:null,DarkMagenta:null,DarkOliveGreen:null,DarkOrange:null,DarkOrchid:null,DarkRed:null,DarkSalmon:null,DarkSeaGreen:null,DarkSlateBlue:null,DarkSlateGray:null,DarkTurquoise:null,DarkViolet:null,DeepPink:null,DeepSkyBlue:null,DimGray:null,DodgerBlue:null,Firebrick:null,FloralWhite:null,ForestGreen:null,Fuchsia:null,Gainsboro:null,GhostWhite:null,Gold:null,Goldenrod:null,Gray:null,Green:null,GreenYellow:null,Honeydew:null,HotPink:null,IndianRed:null,Indigo:null,Ivory:null,Khaki:null,Lavender:null,LavenderBlush:null,LawnGreen:null,LemonChiffon:null,LightBlue:null,LightCoral:null,LightCyan:null,LightGoldenrodYellow:null,LightGray:null,LightGreen:null,LightPink:null,LightSalmon:null,LightSeaGreen:null,LightSkyBlue:null,LightSlateGray:null,LightSteelBlue:null,LightYellow:null,Lime:null,LimeGreen:null,Linen:null,Magenta:null,Maroon:null,MediumAquamarine:null,MediumBlue:null,MediumOrchid:null,MediumPurple:null,MediumSeaGreen:null,MediumSlateBlue:null,MediumSpringGreen:null,MediumTurquoise:null,MediumVioletRed:null,MidnightBlue:null,MintCream:null,MistyRose:null,Moccasin:null,MonoGameOrange:null,NavajoWhite:null,Navy:null,OldLace:null,Olive:null,OliveDrab:null,Orange:null,OrangeRed:null,Orchid:null,PaleGoldenrod:null,PaleGreen:null,PaleTurquoise:null,PaleVioletRed:null,PapayaWhip:null,PeachPuff:null,Peru:null,Pink:null,Plum:null,PowderBlue:null,Purple:null,Red:null,RosyBrown:null,RoyalBlue:null,SaddleBrown:null,Salmon:null,SandyBrown:null,SeaGreen:null,SeaShell:null,Sienna:null,Silver:null,SkyBlue:null,SlateBlue:null,SlateGray:null,Snow:null,SpringGreen:null,SteelBlue:null,Tan:null,Teal:null,Thistle:null,Tomato:null,Turquoise:null,Violet:null,Wheat:null,White:null,WhiteSmoke:null,Yellow:null,YellowGreen:null},ctors:{init:function(){this.TransparentBlack=new Microsoft.Xna.Framework.Color;this.Transparent=new Microsoft.Xna.Framework.Color;this.AliceBlue=new Microsoft.Xna.Framework.Color;this.AntiqueWhite=new Microsoft.Xna.Framework.Color;this.Aqua=new Microsoft.Xna.Framework.Color;this.Aquamarine=new Microsoft.Xna.Framework.Color;this.Azure=new Microsoft.Xna.Framework.Color;this.Beige=new Microsoft.Xna.Framework.Color;this.Bisque=new Microsoft.Xna.Framework.Color;this.Black=new Microsoft.Xna.Framework.Color;this.BlanchedAlmond=new Microsoft.Xna.Framework.Color;this.Blue=new Microsoft.Xna.Framework.Color;this.BlueViolet=new Microsoft.Xna.Framework.Color;this.Brown=new Microsoft.Xna.Framework.Color;this.BurlyWood=new Microsoft.Xna.Framework.Color;this.CadetBlue=new Microsoft.Xna.Framework.Color;this.Chartreuse=new Microsoft.Xna.Framework.Color;this.Chocolate=new Microsoft.Xna.Framework.Color;this.Coral=new Microsoft.Xna.Framework.Color;this.CornflowerBlue=new Microsoft.Xna.Framework.Color;this.Cornsilk=new Microsoft.Xna.Framework.Color;this.Crimson=new Microsoft.Xna.Framework.Color;this.Cyan=new Microsoft.Xna.Framework.Color;this.DarkBlue=new Microsoft.Xna.Framework.Color;this.DarkCyan=new Microsoft.Xna.Framework.Color;this.DarkGoldenrod=new Microsoft.Xna.Framework.Color;this.DarkGray=new Microsoft.Xna.Framework.Color;this.DarkGreen=new Microsoft.Xna.Framework.Color;this.DarkKhaki=new Microsoft.Xna.Framework.Color;this.DarkMagenta=new Microsoft.Xna.Framework.Color;this.DarkOliveGreen=new Microsoft.Xna.Framework.Color;this.DarkOrange=new Microsoft.Xna.Framework.Color;this.DarkOrchid=new Microsoft.Xna.Framework.Color;this.DarkRed=new Microsoft.Xna.Framework.Color;this.DarkSalmon=new Microsoft.Xna.Framework.Color;this.DarkSeaGreen=new Microsoft.Xna.Framework.Color;this.DarkSlateBlue=new Microsoft.Xna.Framework.Color;this.DarkSlateGray=new Microsoft.Xna.Framework.Color;this.DarkTurquoise=new Microsoft.Xna.Framework.Color;this.DarkViolet=new Microsoft.Xna.Framework.Color;this.DeepPink=new Microsoft.Xna.Framework.Color;this.DeepSkyBlue=new Microsoft.Xna.Framework.Color;this.DimGray=new Microsoft.Xna.Framework.Color;this.DodgerBlue=new Microsoft.Xna.Framework.Color;this.Firebrick=new Microsoft.Xna.Framework.Color;this.FloralWhite=new Microsoft.Xna.Framework.Color;this.ForestGreen=new Microsoft.Xna.Framework.Color;this.Fuchsia=new Microsoft.Xna.Framework.Color;this.Gainsboro=new Microsoft.Xna.Framework.Color;this.GhostWhite=new Microsoft.Xna.Framework.Color;this.Gold=new Microsoft.Xna.Framework.Color;this.Goldenrod=new Microsoft.Xna.Framework.Color;this.Gray=new Microsoft.Xna.Framework.Color;this.Green=new Microsoft.Xna.Framework.Color;this.GreenYellow=new Microsoft.Xna.Framework.Color;this.Honeydew=new Microsoft.Xna.Framework.Color;this.HotPink=new Microsoft.Xna.Framework.Color;this.IndianRed=new Microsoft.Xna.Framework.Color;this.Indigo=new Microsoft.Xna.Framework.Color;this.Ivory=new Microsoft.Xna.Framework.Color;this.Khaki=new Microsoft.Xna.Framework.Color;this.Lavender=new Microsoft.Xna.Framework.Color;this.LavenderBlush=new Microsoft.Xna.Framework.Color;this.LawnGreen=new Microsoft.Xna.Framework.Color;this.LemonChiffon=new Microsoft.Xna.Framework.Color;this.LightBlue=new Microsoft.Xna.Framework.Color;this.LightCoral=new Microsoft.Xna.Framework.Color;this.LightCyan=new Microsoft.Xna.Framework.Color;this.LightGoldenrodYellow=new Microsoft.Xna.Framework.Color;this.LightGray=new Microsoft.Xna.Framework.Color;this.LightGreen=new Microsoft.Xna.Framework.Color;this.LightPink=new Microsoft.Xna.Framework.Color;this.LightSalmon=new Microsoft.Xna.Framework.Color;this.LightSeaGreen=new Microsoft.Xna.Framework.Color;this.LightSkyBlue=new Microsoft.Xna.Framework.Color;this.LightSlateGray=new Microsoft.Xna.Framework.Color;this.LightSteelBlue=new Microsoft.Xna.Framework.Color;this.LightYellow=new Microsoft.Xna.Framework.Color;this.Lime=new Microsoft.Xna.Framework.Color;this.LimeGreen=new Microsoft.Xna.Framework.Color;this.Linen=new Microsoft.Xna.Framework.Color;this.Magenta=new Microsoft.Xna.Framework.Color;this.Maroon=new Microsoft.Xna.Framework.Color;this.MediumAquamarine=new Microsoft.Xna.Framework.Color;this.MediumBlue=new Microsoft.Xna.Framework.Color;this.MediumOrchid=new Microsoft.Xna.Framework.Color;this.MediumPurple=new Microsoft.Xna.Framework.Color;this.MediumSeaGreen=new Microsoft.Xna.Framework.Color;this.MediumSlateBlue=new Microsoft.Xna.Framework.Color;this.MediumSpringGreen=new Microsoft.Xna.Framework.Color;this.MediumTurquoise=new Microsoft.Xna.Framework.Color;this.MediumVioletRed=new Microsoft.Xna.Framework.Color;this.MidnightBlue=new Microsoft.Xna.Framework.Color;this.MintCream=new Microsoft.Xna.Framework.Color;this.MistyRose=new Microsoft.Xna.Framework.Color;this.Moccasin=new Microsoft.Xna.Framework.Color;this.MonoGameOrange=new Microsoft.Xna.Framework.Color;this.NavajoWhite=new Microsoft.Xna.Framework.Color;this.Navy=new Microsoft.Xna.Framework.Color;this.OldLace=new Microsoft.Xna.Framework.Color;this.Olive=new Microsoft.Xna.Framework.Color;this.OliveDrab=new Microsoft.Xna.Framework.Color;this.Orange=new Microsoft.Xna.Framework.Color;this.OrangeRed=new Microsoft.Xna.Framework.Color;this.Orchid=new Microsoft.Xna.Framework.Color;this.PaleGoldenrod=new Microsoft.Xna.Framework.Color;this.PaleGreen=new Microsoft.Xna.Framework.Color;this.PaleTurquoise=new Microsoft.Xna.Framework.Color;this.PaleVioletRed=new Microsoft.Xna.Framework.Color;this.PapayaWhip=new Microsoft.Xna.Framework.Color;this.PeachPuff=new Microsoft.Xna.Framework.Color;this.Peru=new Microsoft.Xna.Framework.Color;this.Pink=new Microsoft.Xna.Framework.Color;this.Plum=new Microsoft.Xna.Framework.Color;this.PowderBlue=new Microsoft.Xna.Framework.Color;this.Purple=new Microsoft.Xna.Framework.Color;this.Red=new Microsoft.Xna.Framework.Color;this.RosyBrown=new Microsoft.Xna.Framework.Color;this.RoyalBlue=new Microsoft.Xna.Framework.Color;this.SaddleBrown=new Microsoft.Xna.Framework.Color;this.Salmon=new Microsoft.Xna.Framework.Color;this.SandyBrown=new Microsoft.Xna.Framework.Color;this.SeaGreen=new Microsoft.Xna.Framework.Color;this.SeaShell=new Microsoft.Xna.Framework.Color;this.Sienna=new Microsoft.Xna.Framework.Color;this.Silver=new Microsoft.Xna.Framework.Color;this.SkyBlue=new Microsoft.Xna.Framework.Color;this.SlateBlue=new Microsoft.Xna.Framework.Color;this.SlateGray=new Microsoft.Xna.Framework.Color;this.Snow=new Microsoft.Xna.Framework.Color;this.SpringGreen=new Microsoft.Xna.Framework.Color;this.SteelBlue=new Microsoft.Xna.Framework.Color;this.Tan=new Microsoft.Xna.Framework.Color;this.Teal=new Microsoft.Xna.Framework.Color;this.Thistle=new Microsoft.Xna.Framework.Color;this.Tomato=new Microsoft.Xna.Framework.Color;this.Turquoise=new Microsoft.Xna.Framework.Color;this.Violet=new Microsoft.Xna.Framework.Color;this.Wheat=new Microsoft.Xna.Framework.Color;this.White=new Microsoft.Xna.Framework.Color;this.WhiteSmoke=new Microsoft.Xna.Framework.Color;this.Yellow=new Microsoft.Xna.Framework.Color;this.YellowGreen=new Microsoft.Xna.Framework.Color},ctor:function(){Microsoft.Xna.Framework.Color.TransparentBlack=new Microsoft.Xna.Framework.Color.$ctor10(0);Microsoft.Xna.Framework.Color.Transparent=new Microsoft.Xna.Framework.Color.$ctor10(0);Microsoft.Xna.Framework.Color.AliceBlue=new Microsoft.Xna.Framework.Color.$ctor10(4294965488);Microsoft.Xna.Framework.Color.AntiqueWhite=new Microsoft.Xna.Framework.Color.$ctor10(4292340730);Microsoft.Xna.Framework.Color.Aqua=new Microsoft.Xna.Framework.Color.$ctor10(4294967040);Microsoft.Xna.Framework.Color.Aquamarine=new Microsoft.Xna.Framework.Color.$ctor10(4292149119);Microsoft.Xna.Framework.Color.Azure=new Microsoft.Xna.Framework.Color.$ctor10(4294967280);Microsoft.Xna.Framework.Color.Beige=new Microsoft.Xna.Framework.Color.$ctor10(4292670965);Microsoft.Xna.Framework.Color.Bisque=new Microsoft.Xna.Framework.Color.$ctor10(4291093759);Microsoft.Xna.Framework.Color.Black=new Microsoft.Xna.Framework.Color.$ctor10(4278190080);Microsoft.Xna.Framework.Color.BlanchedAlmond=new Microsoft.Xna.Framework.Color.$ctor10(4291685375);Microsoft.Xna.Framework.Color.Blue=new Microsoft.Xna.Framework.Color.$ctor10(4294901760);Microsoft.Xna.Framework.Color.BlueViolet=new Microsoft.Xna.Framework.Color.$ctor10(4293012362);Microsoft.Xna.Framework.Color.Brown=new Microsoft.Xna.Framework.Color.$ctor10(4280953509);Microsoft.Xna.Framework.Color.BurlyWood=new Microsoft.Xna.Framework.Color.$ctor10(4287084766);Microsoft.Xna.Framework.Color.CadetBlue=new Microsoft.Xna.Framework.Color.$ctor10(4288716383);Microsoft.Xna.Framework.Color.Chartreuse=new Microsoft.Xna.Framework.Color.$ctor10(4278255487);Microsoft.Xna.Framework.Color.Chocolate=new Microsoft.Xna.Framework.Color.$ctor10(4280183250);Microsoft.Xna.Framework.Color.Coral=new Microsoft.Xna.Framework.Color.$ctor10(4283465727);Microsoft.Xna.Framework.Color.CornflowerBlue=new Microsoft.Xna.Framework.Color.$ctor10(4293760356);Microsoft.Xna.Framework.Color.Cornsilk=new Microsoft.Xna.Framework.Color.$ctor10(4292671743);Microsoft.Xna.Framework.Color.Crimson=new Microsoft.Xna.Framework.Color.$ctor10(4282127580);Microsoft.Xna.Framework.Color.Cyan=new Microsoft.Xna.Framework.Color.$ctor10(4294967040);Microsoft.Xna.Framework.Color.DarkBlue=new Microsoft.Xna.Framework.Color.$ctor10(4287299584);Microsoft.Xna.Framework.Color.DarkCyan=new Microsoft.Xna.Framework.Color.$ctor10(4287335168);Microsoft.Xna.Framework.Color.DarkGoldenrod=new Microsoft.Xna.Framework.Color.$ctor10(4278945464);Microsoft.Xna.Framework.Color.DarkGray=new Microsoft.Xna.Framework.Color.$ctor10(4289309097);Microsoft.Xna.Framework.Color.DarkGreen=new Microsoft.Xna.Framework.Color.$ctor10(4278215680);Microsoft.Xna.Framework.Color.DarkKhaki=new Microsoft.Xna.Framework.Color.$ctor10(4285249469);Microsoft.Xna.Framework.Color.DarkMagenta=new Microsoft.Xna.Framework.Color.$ctor10(4287299723);Microsoft.Xna.Framework.Color.DarkOliveGreen=new Microsoft.Xna.Framework.Color.$ctor10(4281297749);Microsoft.Xna.Framework.Color.DarkOrange=new Microsoft.Xna.Framework.Color.$ctor10(4278226175);Microsoft.Xna.Framework.Color.DarkOrchid=new Microsoft.Xna.Framework.Color.$ctor10(4291572377);Microsoft.Xna.Framework.Color.DarkRed=new Microsoft.Xna.Framework.Color.$ctor10(4278190219);Microsoft.Xna.Framework.Color.DarkSalmon=new Microsoft.Xna.Framework.Color.$ctor10(4286224105);Microsoft.Xna.Framework.Color.DarkSeaGreen=new Microsoft.Xna.Framework.Color.$ctor10(4287347855);Microsoft.Xna.Framework.Color.DarkSlateBlue=new Microsoft.Xna.Framework.Color.$ctor10(4287315272);Microsoft.Xna.Framework.Color.DarkSlateGray=new Microsoft.Xna.Framework.Color.$ctor10(4283387695);Microsoft.Xna.Framework.Color.DarkTurquoise=new Microsoft.Xna.Framework.Color.$ctor10(4291939840);Microsoft.Xna.Framework.Color.DarkViolet=new Microsoft.Xna.Framework.Color.$ctor10(4292018324);Microsoft.Xna.Framework.Color.DeepPink=new Microsoft.Xna.Framework.Color.$ctor10(4287829247);Microsoft.Xna.Framework.Color.DeepSkyBlue=new Microsoft.Xna.Framework.Color.$ctor10(4294950656);Microsoft.Xna.Framework.Color.DimGray=new Microsoft.Xna.Framework.Color.$ctor10(4285098345);Microsoft.Xna.Framework.Color.DodgerBlue=new Microsoft.Xna.Framework.Color.$ctor10(4294938654);Microsoft.Xna.Framework.Color.Firebrick=new Microsoft.Xna.Framework.Color.$ctor10(4280427186);Microsoft.Xna.Framework.Color.FloralWhite=new Microsoft.Xna.Framework.Color.$ctor10(4293982975);Microsoft.Xna.Framework.Color.ForestGreen=new Microsoft.Xna.Framework.Color.$ctor10(4280453922);Microsoft.Xna.Framework.Color.Fuchsia=new Microsoft.Xna.Framework.Color.$ctor10(4294902015);Microsoft.Xna.Framework.Color.Gainsboro=new Microsoft.Xna.Framework.Color.$ctor10(4292664540);Microsoft.Xna.Framework.Color.GhostWhite=new Microsoft.Xna.Framework.Color.$ctor10(4294965496);Microsoft.Xna.Framework.Color.Gold=new Microsoft.Xna.Framework.Color.$ctor10(4278245375);Microsoft.Xna.Framework.Color.Goldenrod=new Microsoft.Xna.Framework.Color.$ctor10(4280329690);Microsoft.Xna.Framework.Color.Gray=new Microsoft.Xna.Framework.Color.$ctor10(4286611584);Microsoft.Xna.Framework.Color.Green=new Microsoft.Xna.Framework.Color.$ctor10(4278222848);Microsoft.Xna.Framework.Color.GreenYellow=new Microsoft.Xna.Framework.Color.$ctor10(4281335725);Microsoft.Xna.Framework.Color.Honeydew=new Microsoft.Xna.Framework.Color.$ctor10(4293984240);Microsoft.Xna.Framework.Color.HotPink=new Microsoft.Xna.Framework.Color.$ctor10(4290013695);Microsoft.Xna.Framework.Color.IndianRed=new Microsoft.Xna.Framework.Color.$ctor10(4284243149);Microsoft.Xna.Framework.Color.Indigo=new Microsoft.Xna.Framework.Color.$ctor10(4286709835);Microsoft.Xna.Framework.Color.Ivory=new Microsoft.Xna.Framework.Color.$ctor10(4293984255);Microsoft.Xna.Framework.Color.Khaki=new Microsoft.Xna.Framework.Color.$ctor10(4287424240);Microsoft.Xna.Framework.Color.Lavender=new Microsoft.Xna.Framework.Color.$ctor10(4294633190);Microsoft.Xna.Framework.Color.LavenderBlush=new Microsoft.Xna.Framework.Color.$ctor10(4294308095);Microsoft.Xna.Framework.Color.LawnGreen=new Microsoft.Xna.Framework.Color.$ctor10(4278254716);Microsoft.Xna.Framework.Color.LemonChiffon=new Microsoft.Xna.Framework.Color.$ctor10(4291689215);Microsoft.Xna.Framework.Color.LightBlue=new Microsoft.Xna.Framework.Color.$ctor10(4293318829);Microsoft.Xna.Framework.Color.LightCoral=new Microsoft.Xna.Framework.Color.$ctor10(4286611696);Microsoft.Xna.Framework.Color.LightCyan=new Microsoft.Xna.Framework.Color.$ctor10(4294967264);Microsoft.Xna.Framework.Color.LightGoldenrodYellow=new Microsoft.Xna.Framework.Color.$ctor10(4292016890);Microsoft.Xna.Framework.Color.LightGray=new Microsoft.Xna.Framework.Color.$ctor10(4292072403);Microsoft.Xna.Framework.Color.LightGreen=new Microsoft.Xna.Framework.Color.$ctor10(4287688336);Microsoft.Xna.Framework.Color.LightPink=new Microsoft.Xna.Framework.Color.$ctor10(4290885375);Microsoft.Xna.Framework.Color.LightSalmon=new Microsoft.Xna.Framework.Color.$ctor10(4286226687);Microsoft.Xna.Framework.Color.LightSeaGreen=new Microsoft.Xna.Framework.Color.$ctor10(4289376800);Microsoft.Xna.Framework.Color.LightSkyBlue=new Microsoft.Xna.Framework.Color.$ctor10(4294626951);Microsoft.Xna.Framework.Color.LightSlateGray=new Microsoft.Xna.Framework.Color.$ctor10(4288252023);Microsoft.Xna.Framework.Color.LightSteelBlue=new Microsoft.Xna.Framework.Color.$ctor10(4292789424);Microsoft.Xna.Framework.Color.LightYellow=new Microsoft.Xna.Framework.Color.$ctor10(4292935679);Microsoft.Xna.Framework.Color.Lime=new Microsoft.Xna.Framework.Color.$ctor10(4278255360);Microsoft.Xna.Framework.Color.LimeGreen=new Microsoft.Xna.Framework.Color.$ctor10(4281519410);Microsoft.Xna.Framework.Color.Linen=new Microsoft.Xna.Framework.Color.$ctor10(4293325050);Microsoft.Xna.Framework.Color.Magenta=new Microsoft.Xna.Framework.Color.$ctor10(4294902015);Microsoft.Xna.Framework.Color.Maroon=new Microsoft.Xna.Framework.Color.$ctor10(4278190208);Microsoft.Xna.Framework.Color.MediumAquamarine=new Microsoft.Xna.Framework.Color.$ctor10(4289383782);Microsoft.Xna.Framework.Color.MediumBlue=new Microsoft.Xna.Framework.Color.$ctor10(4291624960);Microsoft.Xna.Framework.Color.MediumOrchid=new Microsoft.Xna.Framework.Color.$ctor10(4292040122);Microsoft.Xna.Framework.Color.MediumPurple=new Microsoft.Xna.Framework.Color.$ctor10(4292571283);Microsoft.Xna.Framework.Color.MediumSeaGreen=new Microsoft.Xna.Framework.Color.$ctor10(4285641532);Microsoft.Xna.Framework.Color.MediumSlateBlue=new Microsoft.Xna.Framework.Color.$ctor10(4293814395);Microsoft.Xna.Framework.Color.MediumSpringGreen=new Microsoft.Xna.Framework.Color.$ctor10(4288346624);Microsoft.Xna.Framework.Color.MediumTurquoise=new Microsoft.Xna.Framework.Color.$ctor10(4291613e3);Microsoft.Xna.Framework.Color.MediumVioletRed=new Microsoft.Xna.Framework.Color.$ctor10(4286911943);Microsoft.Xna.Framework.Color.MidnightBlue=new Microsoft.Xna.Framework.Color.$ctor10(4285536537);Microsoft.Xna.Framework.Color.MintCream=new Microsoft.Xna.Framework.Color.$ctor10(4294639605);Microsoft.Xna.Framework.Color.MistyRose=new Microsoft.Xna.Framework.Color.$ctor10(4292994303);Microsoft.Xna.Framework.Color.Moccasin=new Microsoft.Xna.Framework.Color.$ctor10(4290110719);Microsoft.Xna.Framework.Color.MonoGameOrange=new Microsoft.Xna.Framework.Color.$ctor10(4278205671);Microsoft.Xna.Framework.Color.NavajoWhite=new Microsoft.Xna.Framework.Color.$ctor10(4289584895);Microsoft.Xna.Framework.Color.Navy=new Microsoft.Xna.Framework.Color.$ctor10(4286578688);Microsoft.Xna.Framework.Color.OldLace=new Microsoft.Xna.Framework.Color.$ctor10(4293326333);Microsoft.Xna.Framework.Color.Olive=new Microsoft.Xna.Framework.Color.$ctor10(4278222976);Microsoft.Xna.Framework.Color.OliveDrab=new Microsoft.Xna.Framework.Color.$ctor10(4280520299);Microsoft.Xna.Framework.Color.Orange=new Microsoft.Xna.Framework.Color.$ctor10(4278232575);Microsoft.Xna.Framework.Color.OrangeRed=new Microsoft.Xna.Framework.Color.$ctor10(4278207999);Microsoft.Xna.Framework.Color.Orchid=new Microsoft.Xna.Framework.Color.$ctor10(4292243674);Microsoft.Xna.Framework.Color.PaleGoldenrod=new Microsoft.Xna.Framework.Color.$ctor10(4289390830);Microsoft.Xna.Framework.Color.PaleGreen=new Microsoft.Xna.Framework.Color.$ctor10(4288215960);Microsoft.Xna.Framework.Color.PaleTurquoise=new Microsoft.Xna.Framework.Color.$ctor10(4293848751);Microsoft.Xna.Framework.Color.PaleVioletRed=new Microsoft.Xna.Framework.Color.$ctor10(4287852763);Microsoft.Xna.Framework.Color.PapayaWhip=new Microsoft.Xna.Framework.Color.$ctor10(4292210687);Microsoft.Xna.Framework.Color.PeachPuff=new Microsoft.Xna.Framework.Color.$ctor10(4290370303);Microsoft.Xna.Framework.Color.Peru=new Microsoft.Xna.Framework.Color.$ctor10(4282353101);Microsoft.Xna.Framework.Color.Pink=new Microsoft.Xna.Framework.Color.$ctor10(4291543295);Microsoft.Xna.Framework.Color.Plum=new Microsoft.Xna.Framework.Color.$ctor10(4292714717);Microsoft.Xna.Framework.Color.PowderBlue=new Microsoft.Xna.Framework.Color.$ctor10(4293320880);Microsoft.Xna.Framework.Color.Purple=new Microsoft.Xna.Framework.Color.$ctor10(4286578816);Microsoft.Xna.Framework.Color.Red=new Microsoft.Xna.Framework.Color.$ctor10(4278190335);Microsoft.Xna.Framework.Color.RosyBrown=new Microsoft.Xna.Framework.Color.$ctor10(4287598524);Microsoft.Xna.Framework.Color.RoyalBlue=new Microsoft.Xna.Framework.Color.$ctor10(4292962625);Microsoft.Xna.Framework.Color.SaddleBrown=new Microsoft.Xna.Framework.Color.$ctor10(4279453067);Microsoft.Xna.Framework.Color.Salmon=new Microsoft.Xna.Framework.Color.$ctor10(4285694202);Microsoft.Xna.Framework.Color.SandyBrown=new Microsoft.Xna.Framework.Color.$ctor10(4284523764);Microsoft.Xna.Framework.Color.SeaGreen=new Microsoft.Xna.Framework.Color.$ctor10(4283927342);Microsoft.Xna.Framework.Color.SeaShell=new Microsoft.Xna.Framework.Color.$ctor10(4293850623);Microsoft.Xna.Framework.Color.Sienna=new Microsoft.Xna.Framework.Color.$ctor10(4281160352);Microsoft.Xna.Framework.Color.Silver=new Microsoft.Xna.Framework.Color.$ctor10(4290822336);Microsoft.Xna.Framework.Color.SkyBlue=new Microsoft.Xna.Framework.Color.$ctor10(4293643911);Microsoft.Xna.Framework.Color.SlateBlue=new Microsoft.Xna.Framework.Color.$ctor10(4291648106);Microsoft.Xna.Framework.Color.SlateGray=new Microsoft.Xna.Framework.Color.$ctor10(4287660144);Microsoft.Xna.Framework.Color.Snow=new Microsoft.Xna.Framework.Color.$ctor10(4294638335);Microsoft.Xna.Framework.Color.SpringGreen=new Microsoft.Xna.Framework.Color.$ctor10(4286578432);Microsoft.Xna.Framework.Color.SteelBlue=new Microsoft.Xna.Framework.Color.$ctor10(4290019910);Microsoft.Xna.Framework.Color.Tan=new Microsoft.Xna.Framework.Color.$ctor10(4287411410);Microsoft.Xna.Framework.Color.Teal=new Microsoft.Xna.Framework.Color.$ctor10(4286611456);Microsoft.Xna.Framework.Color.Thistle=new Microsoft.Xna.Framework.Color.$ctor10(4292394968);Microsoft.Xna.Framework.Color.Tomato=new Microsoft.Xna.Framework.Color.$ctor10(4282868735);Microsoft.Xna.Framework.Color.Turquoise=new Microsoft.Xna.Framework.Color.$ctor10(4291878976);Microsoft.Xna.Framework.Color.Violet=new Microsoft.Xna.Framework.Color.$ctor10(4293821166);Microsoft.Xna.Framework.Color.Wheat=new Microsoft.Xna.Framework.Color.$ctor10(4289978101);Microsoft.Xna.Framework.Color.White=new Microsoft.Xna.Framework.Color.$ctor10(4294967295);Microsoft.Xna.Framework.Color.WhiteSmoke=new Microsoft.Xna.Framework.Color.$ctor10(4294309365);Microsoft.Xna.Framework.Color.Yellow=new Microsoft.Xna.Framework.Color.$ctor10(4278255615);Microsoft.Xna.Framework.Color.YellowGreen=new Microsoft.Xna.Framework.Color.$ctor10(4281519514)}},methods:{Lerp:function(value1,value2,amount){return amount=Microsoft.Xna.Framework.MathHelper.Clamp$1(amount,0,1),new Microsoft.Xna.Framework.Color.$ctor7(Bridge.Int.clip32(Microsoft.Xna.Framework.MathHelper.Lerp(value1.R,value2.R,amount)),Bridge.Int.clip32(Microsoft.Xna.Framework.MathHelper.Lerp(value1.G,value2.G,amount)),Bridge.Int.clip32(Microsoft.Xna.Framework.MathHelper.Lerp(value1.B,value2.B,amount)),Bridge.Int.clip32(Microsoft.Xna.Framework.MathHelper.Lerp(value1.A,value2.A,amount)))},LerpPrecise:function(value1,value2,amount){return amount=Microsoft.Xna.Framework.MathHelper.Clamp$1(amount,0,1),new Microsoft.Xna.Framework.Color.$ctor7(Bridge.Int.clip32(Microsoft.Xna.Framework.MathHelper.LerpPrecise(value1.R,value2.R,amount)),Bridge.Int.clip32(Microsoft.Xna.Framework.MathHelper.LerpPrecise(value1.G,value2.G,amount)),Bridge.Int.clip32(Microsoft.Xna.Framework.MathHelper.LerpPrecise(value1.B,value2.B,amount)),Bridge.Int.clip32(Microsoft.Xna.Framework.MathHelper.LerpPrecise(value1.A,value2.A,amount)))},Multiply:function(value,scale){return new Microsoft.Xna.Framework.Color.$ctor7(Bridge.Int.clip32(value.R*scale),Bridge.Int.clip32(value.G*scale),Bridge.Int.clip32(value.B*scale),Bridge.Int.clip32(value.A*scale))},FromNonPremultiplied:function(vector){return new Microsoft.Xna.Framework.Color.$ctor9(vector.X*vector.W,vector.Y*vector.W,vector.Z*vector.W,vector.W)},FromNonPremultiplied$1:function(r,g,b,a){return new Microsoft.Xna.Framework.Color.$ctor7(Bridge.Int.div(Bridge.Int.mul(r,a),255)|0,Bridge.Int.div(Bridge.Int.mul(g,a),255)|0,Bridge.Int.div(Bridge.Int.mul(b,a),255)|0,a)},op_Equality:function(a,b){return a._packedValue===b._packedValue},op_Inequality:function(a,b){return a._packedValue!==b._packedValue},op_Multiply:function(value,scale){return new Microsoft.Xna.Framework.Color.$ctor7(Bridge.Int.clip32(value.R*scale),Bridge.Int.clip32(value.G*scale),Bridge.Int.clip32(value.B*scale),Bridge.Int.clip32(value.A*scale))},getDefaultValue:function(){return new Microsoft.Xna.Framework.Color}}},fields:{_packedValue:0},props:{B:{get:function(){return this._packedValue>>>16&255},set:function(value){this._packedValue=((this._packedValue&4278255615)>>>0|value<<16>>>0)>>>0}},G:{get:function(){return this._packedValue>>>8&255},set:function(value){this._packedValue=((this._packedValue&4294902015)>>>0|value<<8>>>0)>>>0}},R:{get:function(){return this._packedValue&255},set:function(value){this._packedValue=((this._packedValue&4294967040)>>>0|value)>>>0}},A:{get:function(){return this._packedValue>>>24&255},set:function(value){this._packedValue=((this._packedValue&16777215)>>>0|value<<24>>>0)>>>0}},PackedValue:{get:function(){return this._packedValue},set:function(value){this._packedValue=value}},DebugDisplayString:{get:function(){return System.String.concat([Bridge.toString(this.R),"  ",Bridge.toString(this.G),"  ",Bridge.toString(this.B),"  ",Bridge.toString(this.A)])}}},alias:["equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Color$equalsT"],ctors:{$ctor10:function(packedValue){this.$initialize();this._packedValue=packedValue},$ctor4:function(color){Microsoft.Xna.Framework.Color.$ctor7.call(this,Bridge.Int.clip32(color.X*255),Bridge.Int.clip32(color.Y*255),Bridge.Int.clip32(color.Z*255),Bridge.Int.clip32(color.W*255))},$ctor3:function(color){Microsoft.Xna.Framework.Color.$ctor6.call(this,Bridge.Int.clip32(color.X*255),Bridge.Int.clip32(color.Y*255),Bridge.Int.clip32(color.Z*255))},$ctor1:function(color,alpha){if(this.$initialize(),System.Int64(alpha).and(System.Int64(4294967040)).ne(System.Int64(0))){var clampedA=Microsoft.Xna.Framework.MathHelper.Clamp(alpha,0,255)>>>0;this._packedValue=((color._packedValue&16777215)>>>0|clampedA<<24>>>0)>>>0}else this._packedValue=((color._packedValue&16777215)>>>0|alpha>>>0<<24>>>0)>>>0},$ctor2:function(color,alpha){Microsoft.Xna.Framework.Color.$ctor1.call(this,color,Bridge.Int.clip32(alpha*255))},$ctor8:function(r,g,b){Microsoft.Xna.Framework.Color.$ctor6.call(this,Bridge.Int.clip32(r*255),Bridge.Int.clip32(g*255),Bridge.Int.clip32(b*255))},$ctor9:function(r,g,b,alpha){Microsoft.Xna.Framework.Color.$ctor7.call(this,Bridge.Int.clip32(r*255),Bridge.Int.clip32(g*255),Bridge.Int.clip32(b*255),Bridge.Int.clip32(alpha*255))},$ctor6:function(r,g,b){if(this.$initialize(),this._packedValue=4278190080,System.Int64(r|g|b).and(System.Int64(4294967040)).ne(System.Int64(0))){var clampedR=Microsoft.Xna.Framework.MathHelper.Clamp(r,0,255)>>>0,clampedG=Microsoft.Xna.Framework.MathHelper.Clamp(g,0,255)>>>0,clampedB=Microsoft.Xna.Framework.MathHelper.Clamp(b,0,255)>>>0;this._packedValue=(this._packedValue|((clampedB<<16>>>0|clampedG<<8>>>0)>>>0|clampedR)>>>0)>>>0}else this._packedValue=(this._packedValue|((b>>>0<<16>>>0|g>>>0<<8>>>0)>>>0|r>>>0)>>>0)>>>0},$ctor7:function(r,g,b,alpha){if(this.$initialize(),System.Int64(r|g|b|alpha).and(System.Int64(4294967040)).ne(System.Int64(0))){var clampedR=Microsoft.Xna.Framework.MathHelper.Clamp(r,0,255)>>>0,clampedG=Microsoft.Xna.Framework.MathHelper.Clamp(g,0,255)>>>0,clampedB=Microsoft.Xna.Framework.MathHelper.Clamp(b,0,255)>>>0,clampedA=Microsoft.Xna.Framework.MathHelper.Clamp(alpha,0,255)>>>0;this._packedValue=(((clampedA<<24>>>0|clampedB<<16>>>0)>>>0|clampedG<<8>>>0)>>>0|clampedR)>>>0}else this._packedValue=(((alpha>>>0<<24>>>0|b>>>0<<16>>>0)>>>0|g>>>0<<8>>>0)>>>0|r>>>0)>>>0},$ctor5:function(r,g,b,alpha){this.$initialize();this._packedValue=(((alpha<<24>>>0|b<<16>>>0)>>>0|g<<8>>>0)>>>0|r)>>>0},ctor:function(){this.$initialize()}},methods:{getHashCode:function(){return Bridge.getHashCode(this._packedValue)},equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Color)&&this.equalsT(System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Color),Microsoft.Xna.Framework.Color)))},equalsT:function(other){return this.PackedValue===other.PackedValue},ToVector3:function(){return new Microsoft.Xna.Framework.Vector3.$ctor3(this.R/255,this.G/255,this.B/255)},ToVector4:function(){return new Microsoft.Xna.Framework.Vector4.$ctor4(this.R/255,this.G/255,this.B/255,this.A/255)},toString:function(){var sb=new System.Text.StringBuilder("",25);return sb.append("{R:"),sb.append(this.R),sb.append(" G:"),sb.append(this.G),sb.append(" B:"),sb.append(this.B),sb.append(" A:"),sb.append(this.A),sb.append("}"),sb.toString()},Deconstruct:function(r,g,b){r.v=this.R;g.v=this.G;b.v=this.B},Deconstruct$1:function(r,g,b,a){r.v=this.R;g.v=this.G;b.v=this.B;a.v=this.A},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Color;return s._packedValue=this._packedValue,s}}});Bridge.define("Microsoft.Xna.Framework.ContainmentType",{$kind:"enum",statics:{fields:{Disjoint:0,Contains:1,Intersects:2}}});Bridge.define("Microsoft.Xna.Framework.Graphics.IEffectFog",{$kind:"interface"});Bridge.define("Microsoft.Xna.Framework.Graphics.IEffectMatrices",{$kind:"interface"});Bridge.define("Microsoft.Xna.Framework.Graphics.GraphicsResource",{inherits:[System.IDisposable],fields:{disposed:!1,graphicsDevice:null,_selfReference:null,Name:null,Tag:null},events:{Disposing:null},props:{GraphicsDevice:{get:function(){return this.graphicsDevice},set:function(value){Bridge.referenceEquals(this.graphicsDevice,value)||(this.graphicsDevice!=null&&(this.graphicsDevice.RemoveResourceReference(this._selfReference),this._selfReference=null),this.graphicsDevice=value,this._selfReference=new System.WeakReference(this),this.graphicsDevice.AddResourceReference(this._selfReference))}},IsDisposed:{get:function(){return this.disposed}}},alias:["Dispose","System$IDisposable$Dispose"],ctors:{ctor:function(){this.$initialize()}},methods:{GraphicsDeviceResetting:function(){},Dispose:function(){this.Dispose$1(!0);System.GC.SuppressFinalize(this)},Dispose$1:function(disposing){this.disposed||(disposing,disposing&&Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.Disposing,{}),this.graphicsDevice!=null&&this.graphicsDevice.RemoveResourceReference(this._selfReference),this._selfReference=null,this.graphicsDevice=null,this.disposed=!0)},toString:function(){return System.String.isNullOrEmpty(this.Name)?Bridge.toString(this):this.Name}}});Bridge.define("Microsoft.Xna.Framework.Content.ContentTypeReader",{fields:{_targetType:null},props:{CanDeserializeIntoExistingObject:{get:function(){return!1}},TargetType:{get:function(){return this._targetType}},TypeVersion:{get:function(){return 0}}},ctors:{ctor:function(targetType){this.$initialize();this._targetType=targetType}},methods:{Initialize:function(manager){}}});Bridge.define("Microsoft.Xna.Framework.Graphics.IEffectLights",{$kind:"interface"});Bridge.define("Microsoft.Xna.Framework.Content.ContentExtensions",{statics:{methods:{GetDefaultConstructor:function(type){return Bridge.Reflection.getMembers(type,1,284,null,null)},GetAllProperties:function(type){var attrs=54,allProps=System.Linq.Enumerable.from(Bridge.Reflection.getMembers(type,16,attrs)).toList(Bridge.global.System.Reflection.PropertyInfo);return allProps.FindAll(function(p){return p.g!=null}).ToArray()},GetAllFields:function(type){var attrs=54;return Bridge.Reflection.getMembers(type,4,attrs)},IsClass:function(type){return Bridge.Reflection.isClass(type)}}}});Bridge.define("Microsoft.Xna.Framework.Content.ContentLoadException",{inherits:[System.Exception],ctors:{ctor:function(){this.$initialize();System.Exception.ctor.call(this)},$ctor1:function(message){this.$initialize();System.Exception.ctor.call(this,message)},$ctor2:function(message,innerException){this.$initialize();System.Exception.ctor.call(this,message,innerException)}}});Bridge.define("Microsoft.Xna.Framework.Content.ContentManager",{inherits:[System.IDisposable],statics:{fields:{ContentCompressedLzx:0,ContentCompressedLz4:0,ContentManagerLock:null,ContentManagers:null,targetPlatformIdentifiers:null},ctors:{init:function(){this.ContentCompressedLzx=128;this.ContentCompressedLz4=64;this.ContentManagerLock={};this.ContentManagers=new(System.Collections.Generic.List$1(System.WeakReference).ctor);this.targetPlatformIdentifiers=function(_o1){return _o1.add(119),_o1.add(120),_o1.add(109),_o1.add(105),_o1.add(97),_o1.add(100),_o1.add(88),_o1.add(87),_o1.add(110),_o1.add(77),_o1.add(114),_o1.add(80),_o1.add(118),_o1.add(79),_o1.add(83),_o1.add(112),_o1.add(103),_o1.add(108),_o1}(new(System.Collections.Generic.List$1(System.Char).ctor))},ctor:function(){}},methods:{AddContentManager:function(contentManager){var contains,i,contentRef;for(Microsoft.Xna.Framework.Content.ContentManager.ContentManagerLock,contains=!1,i=Microsoft.Xna.Framework.Content.ContentManager.ContentManagers.Count-1|0;i>=0;i=i-1|0)contentRef=Microsoft.Xna.Framework.Content.ContentManager.ContentManagers.getItem(i),Bridge.referenceEquals(contentRef.Target,contentManager)&&(contains=!0),contentRef.IsAlive||Microsoft.Xna.Framework.Content.ContentManager.ContentManagers.removeAt(i);contains||Microsoft.Xna.Framework.Content.ContentManager.ContentManagers.add(new System.WeakReference(contentManager))},RemoveContentManager:function(contentManager){var i,contentRef;for(Microsoft.Xna.Framework.Content.ContentManager.ContentManagerLock,i=Microsoft.Xna.Framework.Content.ContentManager.ContentManagers.Count-1|0;i>=0;i=i-1|0)contentRef=Microsoft.Xna.Framework.Content.ContentManager.ContentManagers.getItem(i),(!contentRef.IsAlive||Bridge.referenceEquals(contentRef.Target,contentManager))&&Microsoft.Xna.Framework.Content.ContentManager.ContentManagers.removeAt(i)},ReloadGraphicsContent:function(){var i,contentRef,contentManager;for(Microsoft.Xna.Framework.Content.ContentManager.ContentManagerLock,i=Microsoft.Xna.Framework.Content.ContentManager.ContentManagers.Count-1|0;i>=0;i=i-1|0)contentRef=Microsoft.Xna.Framework.Content.ContentManager.ContentManagers.getItem(i),contentRef.IsAlive?(contentManager=Bridge.cast(contentRef.Target,Microsoft.Xna.Framework.Content.ContentManager),contentManager!=null&&contentManager.ReloadGraphicsAssets()):Microsoft.Xna.Framework.Content.ContentManager.ContentManagers.removeAt(i)}}},fields:{_rootDirectory:null,serviceProvider:null,graphicsDeviceService:null,loadedAssets:null,disposableAssets:null,disposed:!1,scratchBuffer:null},props:{LoadedAssets:{get:function(){return this.loadedAssets}},RootDirectory:{get:function(){return this._rootDirectory},set:function(value){this._rootDirectory=value}},RootDirectoryFullPath:{get:function(){return System.IO.Path.Combine(Microsoft.Xna.Framework.TitleContainer.Location,this.RootDirectory)}},ServiceProvider:{get:function(){return this.serviceProvider}}},alias:["Dispose","System$IDisposable$Dispose"],ctors:{init:function(){this._rootDirectory="";this.loadedAssets=new(System.Collections.Generic.Dictionary$2(System.String,System.Object));this.disposableAssets=new(System.Collections.Generic.List$1(System.IDisposable).ctor)},ctor:function(serviceProvider){if(this.$initialize(),serviceProvider==null)throw new System.ArgumentNullException.$ctor1("serviceProvider");this.serviceProvider=serviceProvider;Microsoft.Xna.Framework.Content.ContentManager.AddContentManager(this)},$ctor1:function(serviceProvider,rootDirectory){if(this.$initialize(),serviceProvider==null)throw new System.ArgumentNullException.$ctor1("serviceProvider");if(rootDirectory==null)throw new System.ArgumentNullException.$ctor1("rootDirectory");this.RootDirectory=rootDirectory;this.serviceProvider=serviceProvider;Microsoft.Xna.Framework.Content.ContentManager.AddContentManager(this)}},methods:{Dispose:function(){this.Dispose$1(!0);System.GC.SuppressFinalize(this);Microsoft.Xna.Framework.Content.ContentManager.RemoveContentManager(this)},Dispose$1:function(disposing){this.disposed||(disposing&&this.Unload(),this.scratchBuffer=null,this.disposed=!0)},LoadLocalized:function(T,assetName){var $t,cultureNames=System.Array.init([System.Globalization.CultureInfo.getCurrentCulture().name],System.String),cultureName,localizedAssetName;$t=Bridge.getEnumerator(cultureNames);try{while($t.moveNext()){cultureName=$t.Current;localizedAssetName=(assetName||"")+String.fromCharCode(46)+(cultureName||"");try{return this.Load(T,localizedAssetName)}catch($e1){if($e1=System.Exception.create($e1),!Bridge.is($e1,Microsoft.Xna.Framework.Content.ContentLoadException))throw $e1;}}}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return this.Load(T,assetName)},LoadAsync:function(T,assetName){var $step=0,$task1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,assetPath,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:assetPath=(System.IO.Path.Combine(this.RootDirectory,assetName)||"")+".xnb";$task1=this.PreloadPath(assetPath);$step=1;$task1.continueWith($asyncBody);return;case 1:$task1.getAwaitedResult();$tcs.setResult(this.Load(T,assetName));return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},Load:function(T,assetName){if(System.String.isNullOrEmpty(assetName))throw new System.ArgumentNullException.$ctor1("assetName");if(this.disposed)throw new System.ObjectDisposedException.$ctor1("ContentManager");var result=Bridge.getDefaultValue(T),key=System.String.replaceAll(assetName,String.fromCharCode(92),String.fromCharCode(47)),asset={v:null};return this.loadedAssets.tryGetValue(key,asset)&&Bridge.is(asset.v,T)?Bridge.cast(Bridge.unbox(asset.v,T),T):(result=this.ReadAsset(T,assetName,null),this.loadedAssets.set(key,result),result)},OpenStream:function(assetName){var stream,assetPath;try{assetPath=(System.IO.Path.Combine(this.RootDirectory,assetName)||"")+".xnb";stream=Microsoft.Xna.Framework.TitleContainer.OpenStream(assetPath)}catch(exception){exception=System.Exception.create(exception);throw new Microsoft.Xna.Framework.Content.ContentLoadException.$ctor2("Opening stream error.",exception);}return stream},PreloadPath:function(assetPath){var $step=0,$task1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,loaded,request,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1,2,3,4],$step);switch($step){case 0:loaded=!1;request=new XMLHttpRequest;request.open("GET",assetPath,!0);request.responseType="arraybuffer";request.onload=Bridge.fn.combine(request.onload,function(a){loaded=!0});request.send();$step=1;continue;case 1:if(!loaded){$step=2;continue}$step=4;continue;case 2:$task1=System.Threading.Tasks.Task.delay(10);$step=3;$task1.continueWith($asyncBody);return;case 3:$task1.getAwaitedResult();$step=1;continue;case 4:$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},ReadAsset:function(T,assetName,recordDisposableObject){var originalAssetName,result,stream,xnbReader,reader;if(System.String.isNullOrEmpty(assetName))throw new System.ArgumentNullException.$ctor1("assetName");if(this.disposed)throw new System.ObjectDisposedException.$ctor1("ContentManager");if(originalAssetName=assetName,result=null,this.graphicsDeviceService==null&&(this.graphicsDeviceService=Bridge.as(this.serviceProvider.Microsoft$Xna$Framework$IServiceProvider$GetService(Microsoft.Xna.Framework.Graphics.IGraphicsDeviceService),Microsoft.Xna.Framework.Graphics.IGraphicsDeviceService),this.graphicsDeviceService==null))throw new System.InvalidOperationException.$ctor1("No Graphics Device Service");stream=this.OpenStream(assetName);xnbReader=new System.IO.BinaryReader.ctor(stream);try{reader=this.GetContentReaderFromXnb(assetName,stream,xnbReader,recordDisposableObject);try{result=reader.ReadAsset(T);Bridge.is(result,Microsoft.Xna.Framework.Graphics.GraphicsResource)&&(Bridge.cast(result,Microsoft.Xna.Framework.Graphics.GraphicsResource).Name=originalAssetName)}finally{Bridge.hasValue(reader)&&reader.System$IDisposable$Dispose()}}finally{Bridge.hasValue(xnbReader)&&xnbReader.System$IDisposable$Dispose()}if(result==null)throw new Microsoft.Xna.Framework.Content.ContentLoadException.$ctor1("Could not load "+(originalAssetName||"")+" asset!");return Bridge.cast(Bridge.unbox(result,T),T)},GetContentReaderFromXnb:function(originalAssetName,stream,xnbReader,recordDisposableObject){var x=xnbReader.ReadByte(),n=xnbReader.ReadByte(),b=xnbReader.ReadByte(),platform=xnbReader.ReadByte(),xnbLength,decompressedStream;if(x!==88||n!==78||b!==66||!Microsoft.Xna.Framework.Content.ContentManager.targetPlatformIdentifiers.contains(platform))throw new Microsoft.Xna.Framework.Content.ContentLoadException.$ctor1("Asset does not appear to be a valid XNB file. Did you process your content for Windows?");var version=xnbReader.ReadByte(),flags=xnbReader.ReadByte(),compressedLzx=(flags&Microsoft.Xna.Framework.Content.ContentManager.ContentCompressedLzx)!=0,compressedLz4=(flags&Microsoft.Xna.Framework.Content.ContentManager.ContentCompressedLz4)!=0;if(version!==5&&version!==4)throw new Microsoft.Xna.Framework.Content.ContentLoadException.$ctor1("Invalid XNB version");return xnbLength=xnbReader.ReadInt32(),decompressedStream=null,decompressedStream=stream,new Microsoft.Xna.Framework.Content.ContentReader(this,decompressedStream,this.graphicsDeviceService.Microsoft$Xna$Framework$Graphics$IGraphicsDeviceService$GraphicsDevice,originalAssetName,version,recordDisposableObject)},RecordDisposable:function(disposable){this.disposableAssets.contains(disposable)||this.disposableAssets.add(disposable)},ReloadGraphicsAssets:function(){},ReloadAsset:function(T,originalAssetName,currentAsset){var assetName=originalAssetName,stream,xnbReader,reader;if(System.String.isNullOrEmpty(assetName))throw new System.ArgumentNullException.$ctor1("assetName");if(this.disposed)throw new System.ObjectDisposedException.$ctor1("ContentManager");if(this.graphicsDeviceService==null&&(this.graphicsDeviceService=Bridge.as(this.serviceProvider.Microsoft$Xna$Framework$IServiceProvider$GetService(Microsoft.Xna.Framework.Graphics.IGraphicsDeviceService),Microsoft.Xna.Framework.Graphics.IGraphicsDeviceService),this.graphicsDeviceService==null))throw new System.InvalidOperationException.$ctor1("No Graphics Device Service");stream=this.OpenStream(assetName);xnbReader=new System.IO.BinaryReader.ctor(stream);try{reader=this.GetContentReaderFromXnb(assetName,stream,xnbReader,null);try{reader.ReadAsset$1(T,currentAsset)}finally{Bridge.hasValue(reader)&&reader.System$IDisposable$Dispose()}}finally{Bridge.hasValue(xnbReader)&&xnbReader.System$IDisposable$Dispose()}},Unload:function(){var $t,disposable;$t=Bridge.getEnumerator(this.disposableAssets);try{while($t.moveNext())disposable=$t.Current,disposable!=null&&disposable.System$IDisposable$Dispose()}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}this.disposableAssets.clear();this.loadedAssets.clear()},GetScratchBuffer:function(size){return size=Math.max(size,1048576),(this.scratchBuffer==null||this.scratchBuffer.length<size)&&(this.scratchBuffer=System.Array.init(size,0,System.Byte)),this.scratchBuffer}}});Bridge.define("Microsoft.Xna.Framework.Content.ContentReader",{inherits:[System.IO.BinaryReader],fields:{contentManager:null,recordDisposableObject:null,typeReaderManager:null,graphicsDevice:null,assetName:null,sharedResourceFixups:null,typeReaders:null,version:0,sharedResourceCount:0},props:{TypeReaders:{get:function(){return this.typeReaders}},GraphicsDevice:{get:function(){return this.graphicsDevice}},ContentManager:{get:function(){return this.contentManager}},AssetName:{get:function(){return this.assetName}}},ctors:{ctor:function(manager,stream,graphicsDevice,assetName,version,recordDisposableObject){this.$initialize();System.IO.BinaryReader.ctor.call(this,stream);this.graphicsDevice=graphicsDevice;this.recordDisposableObject=recordDisposableObject;this.contentManager=manager;this.assetName=assetName;this.version=version}},methods:{ReadAsset:function(T){this.InitializeTypeReaders();var result=this.ReadObject(T);return this.ReadSharedResources(),result},ReadAsset$1:function(T,existingInstance){this.InitializeTypeReaders();var result=this.ReadObject$1(T,existingInstance);return this.ReadSharedResources(),result},InitializeTypeReaders:function(){this.typeReaderManager=new Microsoft.Xna.Framework.Content.ContentTypeReaderManager;this.typeReaders=this.typeReaderManager.LoadAssetReaders(this);this.sharedResourceCount=this.Read7BitEncodedInt$1();this.sharedResourceFixups=new(System.Collections.Generic.List$1(System.Collections.Generic.KeyValuePair$2(System.Int32,Function)).ctor)},ReadSharedResources:function(){var $t,sharedResources,i,fixup;if(!(this.sharedResourceCount<=0)){for(sharedResources=System.Array.init(this.sharedResourceCount,null,System.Object),i=0;i<this.sharedResourceCount;i=i+1|0)sharedResources[System.Array.index(i,sharedResources)]=this.InnerReadObject(System.Object,null);$t=Bridge.getEnumerator(this.sharedResourceFixups);try{while($t.moveNext())fixup=$t.Current,fixup.value(sharedResources[System.Array.index(fixup.key,sharedResources)])}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}},ReadExternalReference:function(T){var externalReference=this.ReadString();return System.String.isNullOrEmpty(externalReference)?Bridge.getDefaultValue(T):this.contentManager.Load(T,Microsoft.Xna.Framework.Utilities.FileHelpers.ResolveRelativePath(this.assetName,externalReference))},ReadMatrix:function(){var result=new Microsoft.Xna.Framework.Matrix.ctor;return result.M11=this.ReadSingle(),result.M12=this.ReadSingle(),result.M13=this.ReadSingle(),result.M14=this.ReadSingle(),result.M21=this.ReadSingle(),result.M22=this.ReadSingle(),result.M23=this.ReadSingle(),result.M24=this.ReadSingle(),result.M31=this.ReadSingle(),result.M32=this.ReadSingle(),result.M33=this.ReadSingle(),result.M34=this.ReadSingle(),result.M41=this.ReadSingle(),result.M42=this.ReadSingle(),result.M43=this.ReadSingle(),result.M44=this.ReadSingle(),result.$clone()},RecordDisposable:function(T,result){var disposable=Bridge.as(result,System.IDisposable);disposable!=null&&(Bridge.staticEquals(this.recordDisposableObject,null)?this.contentManager.RecordDisposable(disposable):this.recordDisposableObject(disposable))},ReadObject:function(T){return this.InnerReadObject(T,Bridge.getDefaultValue(T))},ReadObject$2:function(T,typeReader){var result=Bridge.cast(Bridge.unbox(typeReader.Read(this,Bridge.getDefaultValue(T)),T),T);return this.RecordDisposable(T,result),result},ReadObject$1:function(T,existingInstance){return this.InnerReadObject(T,existingInstance)},ReadObject$3:function(T,typeReader,existingInstance){if(!Microsoft.Xna.Framework.Utilities.ReflectionHelpers.IsValueType(typeReader.TargetType))return this.ReadObject$1(T,existingInstance);var result=Bridge.cast(Bridge.unbox(typeReader.Read(this,existingInstance),T),T);return this.RecordDisposable(T,result),result},InnerReadObject:function(T,existingInstance){var typeReaderIndex=this.Read7BitEncodedInt$1(),typeReader,result;if(typeReaderIndex===0)return existingInstance;if(typeReaderIndex>this.typeReaders.length)throw new Microsoft.Xna.Framework.Content.ContentLoadException.$ctor1("Incorrect type reader index found!");return typeReader=this.typeReaders[System.Array.index(typeReaderIndex-1|0,this.typeReaders)],result=Bridge.cast(Bridge.unbox(typeReader.Read(this,existingInstance),T),T),this.RecordDisposable(T,result),result},ReadQuaternion:function(){var result=new Microsoft.Xna.Framework.Quaternion.ctor;return result.X=this.ReadSingle(),result.Y=this.ReadSingle(),result.Z=this.ReadSingle(),result.W=this.ReadSingle(),result.$clone()},ReadRawObject:function(T){return this.ReadRawObject$1(T,Bridge.getDefaultValue(T))},ReadRawObject$2:function(T,typeReader){return this.ReadRawObject$3(T,typeReader,Bridge.getDefaultValue(T))},ReadRawObject$1:function(T,existingInstance){var $t,objectType=T,typeReader;$t=Bridge.getEnumerator(this.typeReaders);try{while($t.moveNext())if(typeReader=$t.Current,Bridge.referenceEquals(typeReader.TargetType,objectType))return this.ReadRawObject$3(T,typeReader,existingInstance)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}throw new System.NotSupportedException.ctor;},ReadRawObject$3:function(T,typeReader,existingInstance){return Bridge.cast(Bridge.unbox(typeReader.Read(this,existingInstance),T),T)},ReadSharedResource:function(T,fixup){var index=this.Read7BitEncodedInt$1();index>0&&this.sharedResourceFixups.add(new(System.Collections.Generic.KeyValuePair$2(System.Int32,Function).$ctor1)(index-1|0,function(v){if(!Bridge.is(v,T))throw new Microsoft.Xna.Framework.Content.ContentLoadException.$ctor1(System.String.format("Error loading shared resource. Expected type {0}, received type {1}",Bridge.Reflection.getTypeName(T),Bridge.Reflection.getTypeName(Bridge.getType(v))));fixup(Bridge.cast(Bridge.unbox(v,T),T))}))},ReadVector2:function(){var result=new Microsoft.Xna.Framework.Vector2.ctor;return result.X=this.ReadSingle(),result.Y=this.ReadSingle(),result.$clone()},ReadVector3:function(){var result=new Microsoft.Xna.Framework.Vector3.ctor;return result.X=this.ReadSingle(),result.Y=this.ReadSingle(),result.Z=this.ReadSingle(),result.$clone()},ReadVector4:function(){var result=new Microsoft.Xna.Framework.Vector4.ctor;return result.X=this.ReadSingle(),result.Y=this.ReadSingle(),result.Z=this.ReadSingle(),result.W=this.ReadSingle(),result.$clone()},ReadColor:function(){var result=new Microsoft.Xna.Framework.Color.ctor;return result.R=this.ReadByte(),result.G=this.ReadByte(),result.B=this.ReadByte(),result.A=this.ReadByte(),result.$clone()},Read7BitEncodedInt$1:function(){return this.Read7BitEncodedInt()},ReadBoundingSphere:function(){var position=this.ReadVector3(),radius=this.ReadSingle();return new Microsoft.Xna.Framework.BoundingSphere.$ctor1(position.$clone(),radius)}}});Bridge.define("Microsoft.Xna.Framework.Content.ContentSerializerAttribute",{inherits:[System.Attribute],fields:{_collectionItemName:null,AllowNull:!1,ElementName:null,FlattenContent:!1,Optional:!1,SharedResource:!1},props:{CollectionItemName:{get:function(){return System.String.isNullOrEmpty(this._collectionItemName)?"Item":this._collectionItemName},set:function(value){this._collectionItemName=value}},HasCollectionItemName:{get:function(){return!System.String.isNullOrEmpty(this._collectionItemName)}}},ctors:{ctor:function(){this.$initialize();System.Attribute.ctor.call(this);this.AllowNull=!0}},methods:{clone:function(){var clone=new Microsoft.Xna.Framework.Content.ContentSerializerAttribute;return clone.AllowNull=this.AllowNull,clone._collectionItemName=this._collectionItemName,clone.ElementName=this.ElementName,clone.FlattenContent=this.FlattenContent,clone.Optional=this.Optional,clone.SharedResource=this.SharedResource,clone}}});Bridge.define("Microsoft.Xna.Framework.Content.ContentSerializerCollectionItemNameAttribute",{inherits:[System.Attribute],fields:{CollectionItemName:null},ctors:{ctor:function(collectionItemName){this.$initialize();System.Attribute.ctor.call(this);this.CollectionItemName=collectionItemName}}});Bridge.define("Microsoft.Xna.Framework.Content.ContentSerializerIgnoreAttribute",{inherits:[System.Attribute]});Bridge.define("Microsoft.Xna.Framework.Content.ContentSerializerRuntimeTypeAttribute",{inherits:[System.Attribute],fields:{RuntimeType:null},ctors:{ctor:function(runtimeType){this.$initialize();System.Attribute.ctor.call(this);this.RuntimeType=runtimeType}}});Bridge.define("Microsoft.Xna.Framework.Content.ContentSerializerTypeVersionAttribute",{inherits:[System.Attribute],fields:{TypeVersion:0},ctors:{ctor:function(typeVersion){this.$initialize();System.Attribute.ctor.call(this);this.TypeVersion=typeVersion}}});Bridge.define("Microsoft.Xna.Framework.Content.ContentTypeReaderManager",{statics:{fields:{_locker:null,_contentReadersCache:null,_assemblyName:null,falseflag:!1,typeCreators:null},ctors:{init:function(){this.falseflag=!1;this.typeCreators=new(System.Collections.Generic.Dictionary$2(System.String,Function))},ctor:function(){Microsoft.Xna.Framework.Content.ContentTypeReaderManager._locker={};Microsoft.Xna.Framework.Content.ContentTypeReaderManager._contentReadersCache=new(System.Collections.Generic.Dictionary$2(Function,Microsoft.Xna.Framework.Content.ContentTypeReader));Microsoft.Xna.Framework.Content.ContentTypeReaderManager._assemblyName=Microsoft.Xna.Framework.Utilities.ReflectionHelpers.GetAssembly(Microsoft.Xna.Framework.Content.ContentTypeReaderManager).name}},methods:{PrepareType:function(type){for(var count=System.String.split(type,System.Array.init(["[["],System.String),null,0).length-1|0,preparedType=type,i=0;i<count;i=i+1|0)preparedType=System.Text.RegularExpressions.Regex.replace(preparedType,"\\[(.+?), Version=.+?\\]","[$1]");return System.String.contains(preparedType,"PublicKeyToken")&&(preparedType=System.Text.RegularExpressions.Regex.replace(preparedType,"(.+?), Version=.+?$","$1")),preparedType=System.String.replaceAll(preparedType,", Microsoft.Xna.Framework.Graphics",System.String.format(", {0}",[Microsoft.Xna.Framework.Content.ContentTypeReaderManager._assemblyName])),preparedType=System.String.replaceAll(preparedType,", Microsoft.Xna.Framework.Video",System.String.format(", {0}",[Microsoft.Xna.Framework.Content.ContentTypeReaderManager._assemblyName])),System.String.replaceAll(preparedType,", Microsoft.Xna.Framework",System.String.format(", {0}",[Microsoft.Xna.Framework.Content.ContentTypeReaderManager._assemblyName]))},AddTypeCreator:function(typeString,createFunction){Microsoft.Xna.Framework.Content.ContentTypeReaderManager.typeCreators.containsKey(typeString)||Microsoft.Xna.Framework.Content.ContentTypeReaderManager.typeCreators.add(typeString,createFunction)},ClearTypeCreators:function(){Microsoft.Xna.Framework.Content.ContentTypeReaderManager.typeCreators.clear()}}},fields:{_contentReaders:null},methods:{GetTypeReader:function(targetType){Bridge.isArray(null,targetType)&&(targetType=Array);var reader={};return this._contentReaders.tryGetValue(targetType,reader)?reader.v:null},LoadAssetReaders:function(reader){var i,originalReaderTypeString,readerFunc,readerTypeString,l_readerType,typeReader,targetType,i1;if(Microsoft.Xna.Framework.Content.ContentTypeReaderManager.falseflag)var hByteReader=new Microsoft.Xna.Framework.Content.ByteReader,hSByteReader=new Microsoft.Xna.Framework.Content.SByteReader,hDateTimeReader=new Microsoft.Xna.Framework.Content.DateTimeReader,hDecimalReader=new Microsoft.Xna.Framework.Content.DecimalReader,hBoundingSphereReader=new Microsoft.Xna.Framework.Content.BoundingSphereReader,hBoundingFrustumReader=new Microsoft.Xna.Framework.Content.BoundingFrustumReader,hRayReader=new Microsoft.Xna.Framework.Content.RayReader,hCharListReader=new(Microsoft.Xna.Framework.Content.ListReader$1(System.Char)),hRectangleListReader=new(Microsoft.Xna.Framework.Content.ListReader$1(Microsoft.Xna.Framework.Rectangle)),hRectangleArrayReader=new(Microsoft.Xna.Framework.Content.ArrayReader$1(Microsoft.Xna.Framework.Rectangle)),hVector3ListReader=new(Microsoft.Xna.Framework.Content.ListReader$1(Microsoft.Xna.Framework.Vector3)),hStringListReader=new(Microsoft.Xna.Framework.Content.ListReader$1(Microsoft.Xna.Framework.Content.StringReader)),hIntListReader=new(Microsoft.Xna.Framework.Content.ListReader$1(System.Int32)),hSpriteFontReader=new Microsoft.Xna.Framework.Content.SpriteFontReader,hTexture2DReader=new Microsoft.Xna.Framework.Content.Texture2DReader,hCharReader=new Microsoft.Xna.Framework.Content.CharReader,hRectangleReader=new Microsoft.Xna.Framework.Content.RectangleReader,hStringReader=new Microsoft.Xna.Framework.Content.StringReader,hVector2Reader=new Microsoft.Xna.Framework.Content.Vector2Reader,hVector3Reader=new Microsoft.Xna.Framework.Content.Vector3Reader,hVector4Reader=new Microsoft.Xna.Framework.Content.Vector4Reader,hCurveReader=new Microsoft.Xna.Framework.Content.CurveReader,hIndexBufferReader=new Microsoft.Xna.Framework.Content.IndexBufferReader,hBoundingBoxReader=new Microsoft.Xna.Framework.Content.BoundingBoxReader,hMatrixReader=new Microsoft.Xna.Framework.Content.MatrixReader,hBasicEffectReader=new Microsoft.Xna.Framework.Content.BasicEffectReader,hVertexBufferReader=new Microsoft.Xna.Framework.Content.VertexBufferReader,hAlphaTestEffectReader=new Microsoft.Xna.Framework.Content.AlphaTestEffectReader,hArrayFloatReader=new(Microsoft.Xna.Framework.Content.ArrayReader$1(System.Single)),hArrayVector2Reader=new(Microsoft.Xna.Framework.Content.ArrayReader$1(Microsoft.Xna.Framework.Vector2)),hListVector2Reader=new(Microsoft.Xna.Framework.Content.ListReader$1(Microsoft.Xna.Framework.Vector2)),hArrayMatrixReader=new(Microsoft.Xna.Framework.Content.ArrayReader$1(Microsoft.Xna.Framework.Matrix)),hEnumBlendReader=new(Microsoft.Xna.Framework.Content.EnumReader$1(Microsoft.Xna.Framework.Graphics.Blend)),hNullableRectReader=new(Microsoft.Xna.Framework.Content.NullableReader$1(Microsoft.Xna.Framework.Rectangle)),hEffectMaterialReader=new Microsoft.Xna.Framework.Content.EffectMaterialReader,hExternalReferenceReader=new Microsoft.Xna.Framework.Content.ExternalReferenceReader,hSoundEffectReader=new Microsoft.Xna.Framework.Content.SoundEffectReader,hSongReader=new Microsoft.Xna.Framework.Content.SongReader,hInt32Reader=new Microsoft.Xna.Framework.Content.Int32Reader,hEffectReader=new Microsoft.Xna.Framework.Content.EffectReader,hSingleReader=new Microsoft.Xna.Framework.Content.SingleReader;var numberOfReaders=reader.Read7BitEncodedInt$1(),contentReaders=System.Array.init(numberOfReaders,null,Microsoft.Xna.Framework.Content.ContentTypeReader),needsInitialize=new System.Collections.BitArray.$ctor3(numberOfReaders);for(this._contentReaders=new(System.Collections.Generic.Dictionary$2(Function,Microsoft.Xna.Framework.Content.ContentTypeReader)),Microsoft.Xna.Framework.Content.ContentTypeReaderManager._locker,i=0;i<numberOfReaders;i=i+1|0){if(originalReaderTypeString=reader.ReadString(),readerFunc={},Microsoft.Xna.Framework.Content.ContentTypeReaderManager.typeCreators.tryGetValue(originalReaderTypeString,readerFunc))contentReaders[System.Array.index(i,contentReaders)]=readerFunc.v(),needsInitialize.setItem(i,!0);else if(readerTypeString=originalReaderTypeString,readerTypeString=Microsoft.Xna.Framework.Content.ContentTypeReaderManager.PrepareType(readerTypeString),l_readerType=Bridge.Reflection.getType(readerTypeString),l_readerType!=null)typeReader={},Microsoft.Xna.Framework.Content.ContentTypeReaderManager._contentReadersCache.tryGetValue(l_readerType,typeReader)||(typeReader.v=Bridge.as(Bridge.Reflection.invokeCI(Microsoft.Xna.Framework.Content.ContentExtensions.GetDefaultConstructor(l_readerType),null),Microsoft.Xna.Framework.Content.ContentTypeReader),needsInitialize.setItem(i,!0),Microsoft.Xna.Framework.Content.ContentTypeReaderManager._contentReadersCache.add(l_readerType,typeReader.v)),contentReaders[System.Array.index(i,contentReaders)]=typeReader.v;else throw new Microsoft.Xna.Framework.Content.ContentLoadException.$ctor1("Could not find ContentTypeReader Type. Please ensure the name of the Assembly that contains the Type matches the assembly in the full type name: "+(originalReaderTypeString||"")+" ("+(readerTypeString||"")+")");targetType=contentReaders[System.Array.index(i,contentReaders)].TargetType;targetType!=null&&(this._contentReaders.containsKey(targetType)||this._contentReaders.add(targetType,contentReaders[System.Array.index(i,contentReaders)]));reader.ReadInt32()}for(i1=0;i1<contentReaders.length;i1=i1+1|0)needsInitialize.Get(i1)&&contentReaders[System.Array.index(i1,contentReaders)].Initialize(this);return contentReaders}}});Bridge.define("Microsoft.Xna.Framework.CurveContinuity",{$kind:"enum",statics:{fields:{Smooth:0,Step:1}}});Bridge.define("Microsoft.Xna.Framework.CurveKey",{inherits:function(){return[System.IEquatable$1(Microsoft.Xna.Framework.CurveKey),System.IComparable$1(Microsoft.Xna.Framework.CurveKey)]},statics:{methods:{op_Inequality:function(value1,value2){return!Microsoft.Xna.Framework.CurveKey.op_Equality(value1,value2)},op_Equality:function(value1,value2){return Bridge.equals(value1,null)?Bridge.equals(value2,null):Bridge.equals(value2,null)?Bridge.equals(value1,null):value1._position===value2._position&&value1._value===value2._value&&value1._tangentIn===value2._tangentIn&&value1._tangentOut===value2._tangentOut&&value1._continuity===value2._continuity}}},fields:{_continuity:0,_position:0,_tangentIn:0,_tangentOut:0,_value:0},props:{Continuity:{get:function(){return this._continuity},set:function(value){this._continuity=value}},Position:{get:function(){return this._position}},TangentIn:{get:function(){return this._tangentIn},set:function(value){this._tangentIn=value}},TangentOut:{get:function(){return this._tangentOut},set:function(value){this._tangentOut=value}},Value:{get:function(){return this._value},set:function(value){this._value=value}}},alias:["compareTo",["System$IComparable$1$Microsoft$Xna$Framework$CurveKey$compareTo","System$IComparable$1$compareTo"],"equalsT","System$IEquatable$1$Microsoft$Xna$Framework$CurveKey$equalsT"],ctors:{ctor:function(){Microsoft.Xna.Framework.CurveKey.$ctor1.call(this,0,0)},$ctor1:function(position,value){Microsoft.Xna.Framework.CurveKey.$ctor3.call(this,position,value,0,0,Microsoft.Xna.Framework.CurveContinuity.Smooth)},$ctor2:function(position,value,tangentIn,tangentOut){Microsoft.Xna.Framework.CurveKey.$ctor3.call(this,position,value,tangentIn,tangentOut,Microsoft.Xna.Framework.CurveContinuity.Smooth)},$ctor3:function(position,value,tangentIn,tangentOut,continuity){this.$initialize();this._position=position;this._value=value;this._tangentIn=tangentIn;this._tangentOut=tangentOut;this._continuity=continuity}},methods:{Clone:function(){return new Microsoft.Xna.Framework.CurveKey.$ctor3(this._position,this._value,this._tangentIn,this._tangentOut,this._continuity)},compareTo:function(other){return Bridge.compare(this._position,other._position)},equalsT:function(other){return Microsoft.Xna.Framework.CurveKey.op_Equality(this,other)},equals:function(obj){return Microsoft.Xna.Framework.CurveKey.op_Inequality(Bridge.as(obj,Microsoft.Xna.Framework.CurveKey),null)&&this.equalsT(Bridge.cast(obj,Microsoft.Xna.Framework.CurveKey))},getHashCode:function(){return System.Single.getHashCode(this._position)^System.Single.getHashCode(this._value)^System.Single.getHashCode(this._tangentIn)^System.Single.getHashCode(this._tangentOut)^Bridge.getHashCode(this._continuity)}}});Bridge.define("Microsoft.Xna.Framework.CurveLoopType",{$kind:"enum",statics:{fields:{Constant:0,Cycle:1,CycleOffset:2,Oscillate:3,Linear:4}}});Bridge.define("Microsoft.Xna.Framework.CurveTangent",{$kind:"enum",statics:{fields:{Flat:0,Linear:1,Smooth:2}}});Bridge.define("Microsoft.Xna.Framework.DisplayOrientation",{$kind:"enum",statics:{fields:{Default:0,LandscapeLeft:1,LandscapeRight:2,Portrait:4,PortraitDown:8,Unknown:16}},$flags:!0});Bridge.define("Microsoft.Xna.Framework.EventHelpers",{statics:{methods:{Raise$1:function(TEventArgs,sender,handler,e){Bridge.staticEquals(handler,null)||handler(sender,e)},Raise:function(sender,handler,e){Bridge.staticEquals(handler,null)||handler(sender,e)}}}});Bridge.define("Microsoft.Xna.Framework.FrameworkDispatcher",{statics:{fields:{_initialized:!1},ctors:{init:function(){this._initialized=!1}},methods:{Update:function(){Microsoft.Xna.Framework.FrameworkDispatcher._initialized||Microsoft.Xna.Framework.FrameworkDispatcher.Initialize();Microsoft.Xna.Framework.FrameworkDispatcher.DoUpdate()},DoUpdate:function(){Microsoft.Xna.Framework.Audio.DynamicSoundEffectInstanceManager.UpdatePlayingInstances();Microsoft.Xna.Framework.Audio.SoundEffectInstancePool.Update();Microsoft.Xna.Framework.Audio.Microphone.UpdateMicrophones()},Initialize:function(){Microsoft.Xna.Framework.Audio.SoundEffect.InitializeSoundEffect();Microsoft.Xna.Framework.FrameworkDispatcher._initialized=!0}}}});Bridge.define("Microsoft.Xna.Framework.FrameworkResources",{statics:{fields:{ResourceCreationWhenDeviceIsNull:null},ctors:{init:function(){this.ResourceCreationWhenDeviceIsNull="The GraphicsDevice must not be null when creating new resources."}}}});Bridge.define("Microsoft.Xna.Framework.Game",{inherits:[System.IDisposable],statics:{fields:{_instance:null,DrawAction:null,UpdateAction:null},props:{Instance:{get:function(){return Microsoft.Xna.Framework.Game._instance}}},ctors:{init:function(){this.DrawAction=function(drawable,gameTime){drawable.Microsoft$Xna$Framework$IDrawable$Draw(gameTime)};this.UpdateAction=function(updateable,gameTime){updateable.Microsoft$Xna$Framework$IUpdateable$Update(gameTime)}}}},fields:{_components:null,_services:null,_content:null,Platform:null,_drawables:null,_updateables:null,_graphicsDeviceManager:null,_graphicsDeviceService:null,_initialized:!1,_isFixedTimeStep:!1,_targetElapsedTime:null,_inactiveSleepTime:null,_maxElapsedTime:null,_shouldExit:!1,_suppressDraw:!1,_isDisposed:!1,LaunchParameters:null,_accumulatedElapsedTime:null,_gameTime:null,_gameTimer:null,_previousTicks:System.Int64(0),_updateFrameLag:0},events:{Activated:null,Deactivated:null,Disposed:null,Exiting:null},props:{Components:{get:function(){return this._components}},InactiveSleepTime:{get:function(){return this._inactiveSleepTime},set:function(value){if(System.TimeSpan.lt(value,System.TimeSpan.zero))throw new System.ArgumentOutOfRangeException.$ctor2("The time must be positive.",null);this._inactiveSleepTime=value}},MaxElapsedTime:{get:function(){return this._maxElapsedTime},set:function(value){if(System.TimeSpan.lt(value,System.TimeSpan.zero))throw new System.ArgumentOutOfRangeException.$ctor2("The time must be positive.",null);if(System.TimeSpan.lt(value,this._targetElapsedTime))throw new System.ArgumentOutOfRangeException.$ctor2("The time must be at least TargetElapsedTime",null);this._maxElapsedTime=value}},IsActive:{get:function(){return this.Platform.IsActive}},IsMouseVisible:{get:function(){return this.Platform.IsMouseVisible},set:function(value){this.Platform.IsMouseVisible=value}},TargetElapsedTime:{get:function(){return this._targetElapsedTime},set:function(value){if(value=this.Platform.TargetElapsedTimeChanging(value),System.TimeSpan.lte(value,System.TimeSpan.zero))throw new System.ArgumentOutOfRangeException.$ctor2("The time must be positive and non-zero.",null);System.TimeSpan.neq(value,this._targetElapsedTime)&&(this._targetElapsedTime=value,this.Platform.TargetElapsedTimeChanged())}},IsFixedTimeStep:{get:function(){return this._isFixedTimeStep},set:function(value){this._isFixedTimeStep=value}},Services:{get:function(){return this._services}},Content:{get:function(){return this._content},set:function(value){if(value==null)throw new System.ArgumentNullException.ctor;this._content=value}},GraphicsDevice:{get:function(){if(this._graphicsDeviceService==null&&(this._graphicsDeviceService=Bridge.cast(this.Services.GetService(Microsoft.Xna.Framework.Graphics.IGraphicsDeviceService),Microsoft.Xna.Framework.Graphics.IGraphicsDeviceService),this._graphicsDeviceService==null))throw new System.InvalidOperationException.$ctor1("No Graphics Device Service");return this._graphicsDeviceService.Microsoft$Xna$Framework$Graphics$IGraphicsDeviceService$GraphicsDevice}},Window:{get:function(){return this.Platform.Window}},Initialized:{get:function(){return this._initialized}},graphicsDeviceManager:{get:function(){return this._graphicsDeviceManager==null&&(this._graphicsDeviceManager=Bridge.cast(this.Services.GetService(Microsoft.Xna.Framework.IGraphicsDeviceManager),Microsoft.Xna.Framework.IGraphicsDeviceManager)),Bridge.cast(this._graphicsDeviceManager,Microsoft.Xna.Framework.GraphicsDeviceManager)},set:function(value){if(this._graphicsDeviceManager!=null)throw new System.InvalidOperationException.$ctor1("GraphicsDeviceManager already registered for this Game object");this._graphicsDeviceManager=value}}},alias:["Dispose","System$IDisposable$Dispose"],ctors:{init:function(){this._targetElapsedTime=new System.TimeSpan;this._inactiveSleepTime=new System.TimeSpan;this._maxElapsedTime=new System.TimeSpan;this._accumulatedElapsedTime=new System.TimeSpan;this._drawables=new(Microsoft.Xna.Framework.Game.SortingFilteringCollection$1(Microsoft.Xna.Framework.IDrawable))(function(d){return d.Microsoft$Xna$Framework$IDrawable$Visible},function(d,handler){d.Microsoft$Xna$Framework$IDrawable$addVisibleChanged(handler)},function(d,handler){d.Microsoft$Xna$Framework$IDrawable$removeVisibleChanged(handler)},function(d1,d2){return new(System.Collections.Generic.Comparer$1(System.Int32))(System.Collections.Generic.Comparer$1.$default.fn).compare(d1.Microsoft$Xna$Framework$IDrawable$DrawOrder,d2.Microsoft$Xna$Framework$IDrawable$DrawOrder)},function(d,handler){d.Microsoft$Xna$Framework$IDrawable$addDrawOrderChanged(handler)},function(d,handler){d.Microsoft$Xna$Framework$IDrawable$removeDrawOrderChanged(handler)});this._updateables=new(Microsoft.Xna.Framework.Game.SortingFilteringCollection$1(Microsoft.Xna.Framework.IUpdateable))(function(u){return u.Microsoft$Xna$Framework$IUpdateable$Enabled},function(u,handler){u.Microsoft$Xna$Framework$IUpdateable$addEnabledChanged(handler)},function(u,handler){u.Microsoft$Xna$Framework$IUpdateable$removeEnabledChanged(handler)},function(u1,u2){return new(System.Collections.Generic.Comparer$1(System.Int32))(System.Collections.Generic.Comparer$1.$default.fn).compare(u1.Microsoft$Xna$Framework$IUpdateable$UpdateOrder,u2.Microsoft$Xna$Framework$IUpdateable$UpdateOrder)},function(u,handler){u.Microsoft$Xna$Framework$IUpdateable$addUpdateOrderChanged(handler)},function(u,handler){u.Microsoft$Xna$Framework$IUpdateable$removeUpdateOrderChanged(handler)});this._initialized=!1;this._isFixedTimeStep=!0;this._targetElapsedTime=System.TimeSpan.fromTicks(System.Int64(166667));this._inactiveSleepTime=System.TimeSpan.fromSeconds(.02);this._maxElapsedTime=System.TimeSpan.fromMilliseconds(500);this._gameTime=new Microsoft.Xna.Framework.GameTime.ctor;this._previousTicks=System.Int64(0)},ctor:function(){this.$initialize();Microsoft.Xna.Framework.Game._instance=this;this.LaunchParameters=new Microsoft.Xna.Framework.LaunchParameters;this._services=new Microsoft.Xna.Framework.GameServiceContainer;this._components=new Microsoft.Xna.Framework.GameComponentCollection;this._content=new Microsoft.Xna.Framework.Content.ContentManager.ctor(this._services);this.Platform=Microsoft.Xna.Framework.GamePlatform.PlatformCreate(this);this.Platform.addActivated(Bridge.fn.cacheBind(this,this.OnActivated));this.Platform.addDeactivated(Bridge.fn.cacheBind(this,this.OnDeactivated));this._services.AddService(Microsoft.Xna.Framework.GamePlatform,this.Platform);Microsoft.Xna.Framework.FrameworkDispatcher.Update()}},methods:{Log:function(Message){this.Platform!=null},Dispose:function(){this.Dispose$1(!0);System.GC.SuppressFinalize(this);Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.Disposed,{})},Dispose$1:function(disposing){var i,disposable;if(!this._isDisposed){if(disposing){for(i=0;i<this._components.Count;i=i+1|0)disposable=Bridge.as(this._components.getItem(i),System.IDisposable),disposable!=null&&disposable.System$IDisposable$Dispose();this._components=null;this._content!=null&&(this._content.Dispose(),this._content=null);this._graphicsDeviceManager!=null&&(Bridge.as(this._graphicsDeviceManager,Microsoft.Xna.Framework.GraphicsDeviceManager).Dispose(),this._graphicsDeviceManager=null);this.Platform!=null&&(this.Platform.removeActivated(Bridge.fn.cacheBind(this,this.OnActivated)),this.Platform.removeDeactivated(Bridge.fn.cacheBind(this,this.OnDeactivated)),this._services.RemoveService(Microsoft.Xna.Framework.GamePlatform),this.Platform.Dispose(),this.Platform=null);Microsoft.Xna.Framework.Content.ContentTypeReaderManager.ClearTypeCreators();Microsoft.Xna.Framework.Audio.SoundEffect.PlatformShutdown()}this._isDisposed=!0;Microsoft.Xna.Framework.Game._instance=null}},AssertNotDisposed:function(){if(this._isDisposed){var name=Bridge.Reflection.getTypeName(Bridge.getType(this));throw new System.ObjectDisposedException.$ctor3(name,System.String.format("The {0} object was used after being Disposed.",[name]));}},Exit:function(){this._shouldExit=!0;this._suppressDraw=!0},ResetElapsedTime:function(){this.Platform.ResetElapsedTime();this._gameTimer.reset();this._gameTimer.start();this._accumulatedElapsedTime=System.TimeSpan.zero;this._gameTime.ElapsedGameTime=System.TimeSpan.zero;this._previousTicks=System.Int64(0)},SuppressDraw:function(){this._suppressDraw=!0},RunOneFrame:function(){this.Platform!=null&&this.Platform.BeforeRun()&&(this._initialized||(this.DoInitialize(),this._gameTimer=System.Diagnostics.Stopwatch.startNew(),this._initialized=!0),this.BeginRun(),this.Tick(),this.EndRun())},Run:function(){this.Run$1(this.Platform.DefaultRunBehavior)},Run$1:function(runBehavior){if(this.AssertNotDisposed(),!this.Platform.BeforeRun()){this.BeginRun();this._gameTimer=System.Diagnostics.Stopwatch.startNew();return}this._initialized||(this.DoInitialize(),this._initialized=!0);this.BeginRun();this._gameTimer=System.Diagnostics.Stopwatch.startNew();switch(runBehavior){case Microsoft.Xna.Framework.GameRunBehavior.Asynchronous:this.Platform.addAsyncRunLoopEnded(Bridge.fn.cacheBind(this,this.Platform_AsyncRunLoopEnded));this.Platform.StartRunLoop();break;case Microsoft.Xna.Framework.GameRunBehavior.Synchronous:this.DoUpdate(new Microsoft.Xna.Framework.GameTime.ctor);this.Platform.RunLoop();this.EndRun();this.DoExiting();break;default:throw new System.ArgumentException.$ctor1(System.String.format("Handling for the run behavior {0} is not implemented.",[Bridge.box(runBehavior,Microsoft.Xna.Framework.GameRunBehavior,System.Enum.toStringFn(Microsoft.Xna.Framework.GameRunBehavior))]));}},Tick:function(){var $step=0,$jumpFromFinally,currentTicks,sleepTime,stepCount,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1,2,3],$step);switch($step){case 0:case 1:if(currentTicks=this._gameTimer.timeSpan().getTicks(),this._accumulatedElapsedTime=System.TimeSpan.add(this._accumulatedElapsedTime,System.TimeSpan.fromTicks(currentTicks.sub(this._previousTicks))),this._previousTicks=currentTicks,this.IsFixedTimeStep&&System.TimeSpan.lt(this._accumulatedElapsedTime,this.TargetElapsedTime)){$step=2;continue}$step=3;continue;case 2:sleepTime=Bridge.Int.clip32(System.TimeSpan.sub(this.TargetElapsedTime,this._accumulatedElapsedTime).getTotalMilliseconds());Bridge.sleep(sleepTime);$step=1;continue;case 3:if(System.TimeSpan.gt(this._accumulatedElapsedTime,this._maxElapsedTime)&&(this._accumulatedElapsedTime=this._maxElapsedTime),this.IsFixedTimeStep){for(this._gameTime.ElapsedGameTime=this.TargetElapsedTime,stepCount=0;System.TimeSpan.gte(this._accumulatedElapsedTime,this.TargetElapsedTime)&&!this._shouldExit;)this._gameTime.TotalGameTime=System.TimeSpan.add(this._gameTime.TotalGameTime,this.TargetElapsedTime),this._accumulatedElapsedTime=System.TimeSpan.sub(this._accumulatedElapsedTime,this.TargetElapsedTime),stepCount=stepCount+1|0,this.DoUpdate(this._gameTime);this._updateFrameLag=this._updateFrameLag+Math.max(0,stepCount-1|0)|0;this._gameTime.IsRunningSlowly?this._updateFrameLag===0&&(this._gameTime.IsRunningSlowly=!1):this._updateFrameLag>=5&&(this._gameTime.IsRunningSlowly=!0);stepCount===1&&this._updateFrameLag>0&&(this._updateFrameLag=this._updateFrameLag-1|0);this._gameTime.ElapsedGameTime=System.TimeSpan.fromTicks(this.TargetElapsedTime.getTicks().mul(System.Int64(stepCount)))}else this._gameTime.ElapsedGameTime=this._accumulatedElapsedTime,this._gameTime.TotalGameTime=System.TimeSpan.add(this._gameTime.TotalGameTime,this._accumulatedElapsedTime),this._accumulatedElapsedTime=System.TimeSpan.zero,this.DoUpdate(this._gameTime);this._suppressDraw?this._suppressDraw=!1:this.DoDraw(this._gameTime);this._shouldExit&&this.Platform.Exit();return;default:return}}},arguments);return $asyncBody()},BeginDraw:function(){return!0},EndDraw:function(){this.Platform.Present()},BeginRun:function(){},EndRun:function(){},LoadContent:function(){},UnloadContent:function(){},Initialize:function(){this.applyChanges(this.graphicsDeviceManager);this.InitializeExistingComponents();this._graphicsDeviceService=Bridge.cast(this.Services.GetService(Microsoft.Xna.Framework.Graphics.IGraphicsDeviceService),Microsoft.Xna.Framework.Graphics.IGraphicsDeviceService);this._graphicsDeviceService!=null&&this._graphicsDeviceService.Microsoft$Xna$Framework$Graphics$IGraphicsDeviceService$GraphicsDevice!=null&&this.LoadContent()},Draw:function(gameTime){this._drawables.ForEachFilteredItem(Bridge.global.Microsoft.Xna.Framework.GameTime,Microsoft.Xna.Framework.Game.DrawAction,gameTime)},Update:function(gameTime){this._updateables.ForEachFilteredItem(Bridge.global.Microsoft.Xna.Framework.GameTime,Microsoft.Xna.Framework.Game.UpdateAction,gameTime)},OnExiting:function(sender,args){Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.Exiting,args)},OnActivated:function(sender,args){this.AssertNotDisposed();Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.Activated,args)},OnDeactivated:function(sender,args){this.AssertNotDisposed();Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.Deactivated,args)},Components_ComponentAdded:function(sender,e){e.GameComponent.Microsoft$Xna$Framework$IGameComponent$Initialize();this.CategorizeComponent(e.GameComponent)},Components_ComponentRemoved:function(sender,e){this.DecategorizeComponent(e.GameComponent)},Platform_AsyncRunLoopEnded:function(sender,e){this.AssertNotDisposed();var platform=Bridge.cast(sender,Microsoft.Xna.Framework.GamePlatform);platform.removeAsyncRunLoopEnded(Bridge.fn.cacheBind(this,this.Platform_AsyncRunLoopEnded));this.EndRun();this.DoExiting()},applyChanges:function(manager){this.Platform.BeginScreenDeviceChange(this.GraphicsDevice.PresentationParameters.IsFullScreen);this.GraphicsDevice.PresentationParameters.IsFullScreen?this.Platform.EnterFullScreen():this.Platform.ExitFullScreen();var viewport=new Microsoft.Xna.Framework.Graphics.Viewport.$ctor2(0,0,this.GraphicsDevice.PresentationParameters.BackBufferWidth,this.GraphicsDevice.PresentationParameters.BackBufferHeight);this.GraphicsDevice.Viewport=viewport.$clone();this.Platform.EndScreenDeviceChange("",viewport.Width,viewport.Height)},DoUpdate:function(gameTime){this.AssertNotDisposed();this.Platform.BeforeUpdate(gameTime)&&(Microsoft.Xna.Framework.FrameworkDispatcher.Update(),this.Update(gameTime),Microsoft.Xna.Framework.Input.Touch.TouchPanelState.CurrentTimestamp=gameTime.TotalGameTime)},DoDraw:function(gameTime){this.AssertNotDisposed();this.Platform.BeforeDraw(gameTime)&&this.BeginDraw()&&(this.Draw(gameTime),this.EndDraw())},DoInitialize:function(){this.AssertNotDisposed();this.GraphicsDevice==null&&this.graphicsDeviceManager!=null&&this._graphicsDeviceManager.Microsoft$Xna$Framework$IGraphicsDeviceManager$CreateDevice();this.Platform.BeforeInitialize();this.Initialize();this.CategorizeComponents();this._components.addComponentAdded(Bridge.fn.cacheBind(this,this.Components_ComponentAdded));this._components.addComponentRemoved(Bridge.fn.cacheBind(this,this.Components_ComponentRemoved))},DoExiting:function(){this.OnExiting(this,{});this.UnloadContent()},InitializeExistingComponents:function(){for(var i=0;i<this.Components.Count;i=i+1|0)this.Components.getItem(i).Microsoft$Xna$Framework$IGameComponent$Initialize()},CategorizeComponents:function(){this.DecategorizeComponents();for(var i=0;i<this.Components.Count;i=i+1|0)this.CategorizeComponent(this.Components.getItem(i))},DecategorizeComponents:function(){this._updateables.clear();this._drawables.clear()},CategorizeComponent:function(component){Bridge.is(component,Microsoft.Xna.Framework.IUpdateable)&&this._updateables.add(Bridge.cast(component,Microsoft.Xna.Framework.IUpdateable));Bridge.is(component,Microsoft.Xna.Framework.IDrawable)&&this._drawables.add(Bridge.cast(component,Microsoft.Xna.Framework.IDrawable))},DecategorizeComponent:function(component){Bridge.is(component,Microsoft.Xna.Framework.IUpdateable)&&this._updateables.remove(Bridge.cast(component,Microsoft.Xna.Framework.IUpdateable));Bridge.is(component,Microsoft.Xna.Framework.IDrawable)&&this._drawables.remove(Bridge.cast(component,Microsoft.Xna.Framework.IDrawable))}}});Bridge.define("Microsoft.Xna.Framework.Game.AddJournalEntry$1",function(T){return{$kind:"nested struct",statics:{methods:{CreateKey:function(item){return new(Microsoft.Xna.Framework.Game.AddJournalEntry$1(T).$ctor1)(-1,item)},getDefaultValue:function(){return new(Microsoft.Xna.Framework.Game.AddJournalEntry$1(T))}}},fields:{Order:0,Item:Bridge.getDefaultValue(T)},ctors:{$ctor1:function(order,item){this.$initialize();this.Order=order;this.Item=item},ctor:function(){this.$initialize()}},methods:{getHashCode:function(){return Bridge.getHashCode(this.Item)},equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Game.AddJournalEntry$1(T))?Bridge.equals(this.Item,System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Game.AddJournalEntry$1(T)),Microsoft.Xna.Framework.Game.AddJournalEntry$1(T))).Item):!1},$clone:function(to){var s=to||new(Microsoft.Xna.Framework.Game.AddJournalEntry$1(T));return s.Order=this.Order,s.Item=this.Item,s}}}});Bridge.define("Microsoft.Xna.Framework.Game.SortingFilteringCollection$1",function(T){return{inherits:[System.Collections.Generic.ICollection$1(T)],$kind:"nested class",statics:{fields:{RemoveJournalSortComparison:null},ctors:{init:function(){this.RemoveJournalSortComparison=function(x,y){return new(System.Collections.Generic.Comparer$1(System.Int32))(System.Collections.Generic.Comparer$1.$default.fn).compare(y,x)}}}},fields:{_items:null,_addJournal:null,_addJournalSortComparison:null,_removeJournal:null,_cachedFilteredItems:null,_shouldRebuildCache:!1,_filter:null,_sort:null,_filterChangedSubscriber:null,_filterChangedUnsubscriber:null,_sortChangedSubscriber:null,_sortChangedUnsubscriber:null},props:{Count:{get:function(){return this._items.Count}},IsReadOnly:{get:function(){return!1}}},alias:["add","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(T)+"$add","remove","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(T)+"$remove","clear","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(T)+"$clear","contains","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(T)+"$contains","copyTo","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(T)+"$copyTo","Count","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(T)+"$Count","IsReadOnly","System$Collections$Generic$ICollection$1$"+Bridge.getTypeAlias(T)+"$IsReadOnly","GetEnumerator",["System$Collections$Generic$IEnumerable$1$"+Bridge.getTypeAlias(T)+"$GetEnumerator","System$Collections$Generic$IEnumerable$1$GetEnumerator"]],ctors:{ctor:function(filter,filterChangedSubscriber,filterChangedUnsubscriber,sort,sortChangedSubscriber,sortChangedUnsubscriber){this.$initialize();this._items=new(System.Collections.Generic.List$1(T).ctor);this._addJournal=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Game.AddJournalEntry$1(T)).ctor);this._removeJournal=new(System.Collections.Generic.List$1(System.Int32).ctor);this._cachedFilteredItems=new(System.Collections.Generic.List$1(T).ctor);this._shouldRebuildCache=!0;this._filter=filter;this._filterChangedSubscriber=filterChangedSubscriber;this._filterChangedUnsubscriber=filterChangedUnsubscriber;this._sort=sort;this._sortChangedSubscriber=sortChangedSubscriber;this._sortChangedUnsubscriber=sortChangedUnsubscriber;this._addJournalSortComparison=Bridge.fn.cacheBind(this,this.CompareAddJournalEntry)}},methods:{CompareAddJournalEntry:function(x,y){var result=this._sort(x.Item,y.Item);return result!==0?result:x.Order-y.Order|0},ForEachFilteredItem:function(TUserData,action,userData){var i,i1;if(this._shouldRebuildCache){for(this.ProcessRemoveJournal(),this.ProcessAddJournal(),this._cachedFilteredItems.clear(),i=0;i<this._items.Count;i=i+1|0)this._filter(this._items.getItem(i))&&this._cachedFilteredItems.add(this._items.getItem(i));this._shouldRebuildCache=!1}for(i1=0;i1<this._cachedFilteredItems.Count;i1=i1+1|0)action(this._cachedFilteredItems.getItem(i1),userData);this._shouldRebuildCache&&this._cachedFilteredItems.clear()},add:function(item){this._addJournal.add(new(Microsoft.Xna.Framework.Game.AddJournalEntry$1(T).$ctor1)(this._addJournal.Count,item));this.InvalidateCache()},remove:function(item){if(this._addJournal.remove(Microsoft.Xna.Framework.Game.AddJournalEntry$1(T).CreateKey(item)))return!0;var index=this._items.indexOf(item);return index>=0?(this.UnsubscribeFromItemEvents(item),this._removeJournal.add(index),this.InvalidateCache(),!0):!1},clear:function(){for(var i=0;i<this._items.Count;i=i+1|0)this._filterChangedUnsubscriber(this._items.getItem(i),Bridge.fn.cacheBind(this,this.Item_FilterPropertyChanged)),this._sortChangedUnsubscriber(this._items.getItem(i),Bridge.fn.cacheBind(this,this.Item_SortPropertyChanged));this._addJournal.clear();this._removeJournal.clear();this._items.clear();this.InvalidateCache()},contains:function(item){return this._items.contains(item)},copyTo:function(array,arrayIndex){this._items.copyTo(array,arrayIndex)},GetEnumerator:function(){return this._items.GetEnumerator().$clone()},System$Collections$IEnumerable$GetEnumerator:function(){return Bridge.getEnumerator(Bridge.cast(this._items,System.Collections.IEnumerable))},ProcessRemoveJournal:function(){if(this._removeJournal.Count!==0){this._removeJournal.Sort$2(Microsoft.Xna.Framework.Game.SortingFilteringCollection$1(T).RemoveJournalSortComparison);for(var i=0;i<this._removeJournal.Count;i=i+1|0)this._items.removeAt(this._removeJournal.getItem(i));this._removeJournal.clear()}},ProcessAddJournal:function(){var iAddJournal,iItems,addJournalItem,addJournalItem1;if(this._addJournal.Count!==0){for(this._addJournal.Sort$2(this._addJournalSortComparison),iAddJournal=0,iItems=0;iItems<this._items.Count&&iAddJournal<this._addJournal.Count;)addJournalItem=this._addJournal.getItem(iAddJournal).Item,this._sort(addJournalItem,this._items.getItem(iItems))<0&&(this.SubscribeToItemEvents(addJournalItem),this._items.insert(iItems,addJournalItem),iAddJournal=iAddJournal+1|0),iItems=iItems+1|0;for(;iAddJournal<this._addJournal.Count;iAddJournal=iAddJournal+1|0)addJournalItem1=this._addJournal.getItem(iAddJournal).Item,this.SubscribeToItemEvents(addJournalItem1),this._items.add(addJournalItem1);this._addJournal.clear()}},SubscribeToItemEvents:function(item){this._filterChangedSubscriber(item,Bridge.fn.cacheBind(this,this.Item_FilterPropertyChanged));this._sortChangedSubscriber(item,Bridge.fn.cacheBind(this,this.Item_SortPropertyChanged))},UnsubscribeFromItemEvents:function(item){this._filterChangedUnsubscriber(item,Bridge.fn.cacheBind(this,this.Item_FilterPropertyChanged));this._sortChangedUnsubscriber(item,Bridge.fn.cacheBind(this,this.Item_SortPropertyChanged))},InvalidateCache:function(){this._shouldRebuildCache=!0},Item_FilterPropertyChanged:function(sender,e){this.InvalidateCache()},Item_SortPropertyChanged:function(sender,e){var item=Bridge.cast(Bridge.unbox(sender,T),T),index=this._items.indexOf(item);this._addJournal.add(new(Microsoft.Xna.Framework.Game.AddJournalEntry$1(T).$ctor1)(this._addJournal.Count,item));this._removeJournal.add(index);this.UnsubscribeFromItemEvents(item);this.InvalidateCache()}}}});Bridge.define("Microsoft.Xna.Framework.IUpdateable",{$kind:"interface"});Bridge.define("Microsoft.Xna.Framework.IGameComponent",{$kind:"interface"});Bridge.define("Microsoft.Xna.Framework.GameComponentCollectionEventArgs",{fields:{_gameComponent:null},props:{GameComponent:{get:function(){return this._gameComponent}}},ctors:{ctor:function(gameComponent){this.$initialize();System.Object.call(this);this._gameComponent=gameComponent}}});Bridge.define("Microsoft.Xna.Framework.GamePlatform",{inherits:[System.IDisposable],statics:{methods:{PlatformCreate:function(game){return new Microsoft.Xna.Framework.WebGamePlatform(game)}}},fields:{_inactiveSleepTime:null,_needsToResetElapsedTime:!1,disposed:!1,InFullScreenMode:!1,Game:null,_isActive:!1,_isMouseVisible:!1,_window:null},events:{AsyncRunLoopEnded:null,Activated:null,Deactivated:null},props:{IsDisposed:{get:function(){return this.disposed}},IsActive:{get:function(){return this._isActive},set:function(value){this._isActive!==value&&(this._isActive=value,Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this._isActive?this.Activated:this.Deactivated,{}))}},IsMouseVisible:{get:function(){return this._isMouseVisible},set:function(value){this._isMouseVisible!==value&&(this._isMouseVisible=value,this.OnIsMouseVisibleChanged())}},Window:{get:function(){return this._window},set:function(value){this._window==null&&(Microsoft.Xna.Framework.Input.Mouse.PrimaryWindow=value,Microsoft.Xna.Framework.Input.Touch.TouchPanel.PrimaryWindow=value);this._window=value}}},alias:["Dispose","System$IDisposable$Dispose"],ctors:{init:function(){this._inactiveSleepTime=new System.TimeSpan;this._inactiveSleepTime=System.TimeSpan.fromMilliseconds(20);this._needsToResetElapsedTime=!1;this.InFullScreenMode=!1},ctor:function(game){if(this.$initialize(),game==null)throw new System.ArgumentNullException.$ctor1("game");this.Game=game}},methods:{RaiseAsyncRunLoopEnded:function(){Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.AsyncRunLoopEnded,{})},BeforeInitialize:function(){this.IsActive=!0},BeforeRun:function(){return!0},TargetElapsedTimeChanging:function(value){return value},TargetElapsedTimeChanged:function(){},ResetElapsedTime:function(){},Present:function(){},OnIsMouseVisibleChanged:function(){},OnPresentationChanged:function(pp){},Dispose:function(){this.Dispose$1(!0);System.GC.SuppressFinalize(this)},Dispose$1:function(disposing){this.disposed||(Microsoft.Xna.Framework.Input.Mouse.PrimaryWindow=null,Microsoft.Xna.Framework.Input.Touch.TouchPanel.PrimaryWindow=null,this.disposed=!0)},Log:function(Message){}}});Bridge.define("Microsoft.Xna.Framework.GameRunBehavior",{$kind:"enum",statics:{fields:{Asynchronous:0,Synchronous:1}}});Bridge.define("Microsoft.Xna.Framework.IServiceProvider",{$kind:"interface"});Bridge.define("Microsoft.Xna.Framework.GameTime",{fields:{TotalGameTime:null,ElapsedGameTime:null,IsRunningSlowly:!1},ctors:{init:function(){this.TotalGameTime=new System.TimeSpan;this.ElapsedGameTime=new System.TimeSpan},ctor:function(){this.$initialize();this.TotalGameTime=System.TimeSpan.zero;this.ElapsedGameTime=System.TimeSpan.zero;this.IsRunningSlowly=!1},$ctor1:function(totalGameTime,elapsedGameTime){this.$initialize();this.TotalGameTime=totalGameTime;this.ElapsedGameTime=elapsedGameTime;this.IsRunningSlowly=!1},$ctor2:function(totalRealTime,elapsedRealTime,isRunningSlowly){this.$initialize();this.TotalGameTime=totalRealTime;this.ElapsedGameTime=elapsedRealTime;this.IsRunningSlowly=isRunningSlowly}}});Bridge.define("Microsoft.Xna.Framework.GameWindow",{fields:{_allowAltF4:!1,_title:null,MouseState:null,TouchPanelState:null},events:{ClientSizeChanged:null,OrientationChanged:null,ScreenDeviceNameChanged:null},props:{AllowAltF4:{get:function(){return this._allowAltF4},set:function(value){this._allowAltF4=value}},Title:{get:function(){return this._title},set:function(value){Bridge.referenceEquals(this._title,value)||(this.SetTitle(value),this._title=value)}},IsBorderless:{get:function(){return!1},set:function(value){throw new System.NotImplementedException.ctor;}}},ctors:{init:function(){this.MouseState=new Microsoft.Xna.Framework.Input.MouseState;this._allowAltF4=!0},ctor:function(){this.$initialize();this.TouchPanelState=new Microsoft.Xna.Framework.Input.Touch.TouchPanelState(this)}},methods:{EndScreenDeviceChange:function(screenDeviceName){this.EndScreenDeviceChange$1(screenDeviceName,this.ClientBounds.Width,this.ClientBounds.Height)},OnActivated:function(){},OnClientSizeChanged:function(){Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.ClientSizeChanged,{})},OnDeactivated:function(){},OnOrientationChanged:function(){Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.OrientationChanged,{})},OnPaint:function(){},OnScreenDeviceNameChanged:function(){Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.ScreenDeviceNameChanged,{})}}});Bridge.define("Microsoft.Xna.Framework.Graphics.Blend",{$kind:"enum",statics:{fields:{One:0,Zero:1,SourceColor:2,InverseSourceColor:3,SourceAlpha:4,InverseSourceAlpha:5,DestinationColor:6,InverseDestinationColor:7,DestinationAlpha:8,InverseDestinationAlpha:9,BlendFactor:10,InverseBlendFactor:11,SourceAlphaSaturation:12}}});Bridge.define("Microsoft.Xna.Framework.Graphics.BlendFunction",{$kind:"enum",statics:{fields:{Add:0,Subtract:1,ReverseSubtract:2,Min:3,Max:4}}});Bridge.define("Microsoft.Xna.Framework.Graphics.BufferUsage",{$kind:"enum",statics:{fields:{None:0,WriteOnly:1}}});Bridge.define("Microsoft.Xna.Framework.Graphics.ClearOptions",{$kind:"enum",statics:{fields:{Target:1,DepthBuffer:2,Stencil:4}},$flags:!0});Bridge.define("Microsoft.Xna.Framework.Graphics.ColorWriteChannels",{$kind:"enum",statics:{fields:{None:0,Red:1,Green:2,Blue:4,Alpha:8,All:15}},$flags:!0});Bridge.define("Microsoft.Xna.Framework.Graphics.CompareFunction",{$kind:"enum",statics:{fields:{Always:0,Never:1,Less:2,LessEqual:3,Equal:4,GreaterEqual:5,Greater:6,NotEqual:7}}});Bridge.define("Microsoft.Xna.Framework.Graphics.ConstantBufferCollection",{fields:{_buffers:null,_stage:0,_valid:0},props:{Stage:{get:function(){return this._stage}}},ctors:{ctor:function(stage,maxBuffers){this.$initialize();this._stage=stage;this._buffers=System.Array.init(maxBuffers,null,Microsoft.Xna.Framework.Graphics.ConstantBuffer);this._valid=0}},methods:{getItem:function(index){return this._buffers[System.Array.index(index,this._buffers)]},setItem:function(index,value){Bridge.referenceEquals(this._buffers[System.Array.index(index,this._buffers)],value)||(value!=null?(this._buffers[System.Array.index(index,this._buffers)]=value,this._valid=this._valid|1<<index):(this._buffers[System.Array.index(index,this._buffers)]=null,this._valid=this._valid&~(1<<index)))},Clear:function(){for(var i=0;i<this._buffers.length;i=i+1|0)this._buffers[System.Array.index(i,this._buffers)]=null;this._valid=0},SetConstantBuffers:function(device,shaderProgram){var valid,i,buffer;if(this._valid!==0)for(valid=this._valid,i=0;i<this._buffers.length;i=i+1|0)if(buffer=this._buffers[System.Array.index(i,this._buffers)],buffer==null||buffer.IsDisposed||buffer.PlatformApply(device,shaderProgram),valid=valid&~(1<<i),valid===0)return}}});Bridge.define("Microsoft.Xna.Framework.Graphics.CubeMapFace",{$kind:"enum",statics:{fields:{PositiveX:0,NegativeX:1,PositiveY:2,NegativeY:3,PositiveZ:4,NegativeZ:5}}});Bridge.define("Microsoft.Xna.Framework.Graphics.CullMode",{$kind:"enum",statics:{fields:{None:0,CullClockwiseFace:1,CullCounterClockwiseFace:2}}});Bridge.define("Microsoft.Xna.Framework.Graphics.DepthFormat",{$kind:"enum",statics:{fields:{None:0,Depth16:1,Depth24:2,Depth24Stencil8:3}}});Bridge.define("Microsoft.Xna.Framework.Graphics.DeviceLostException",{inherits:[System.Exception],ctors:{ctor:function(){this.$initialize();System.Exception.ctor.call(this)},$ctor1:function(message){this.$initialize();System.Exception.ctor.call(this,message)},$ctor2:function(message,inner){this.$initialize();System.Exception.ctor.call(this,message,inner)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.DeviceNotResetException",{inherits:[System.Exception],ctors:{ctor:function(){this.$initialize();System.Exception.ctor.call(this)},$ctor1:function(message){this.$initialize();System.Exception.ctor.call(this,message)},$ctor2:function(message,inner){this.$initialize();System.Exception.ctor.call(this,message,inner)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.DirectionalLight",{fields:{diffuseColorParameter:null,directionParameter:null,specularColorParameter:null,diffuseColor:null,direction:null,specularColor:null,enabled:!1},props:{DiffuseColor:{get:function(){return this.diffuseColor.$clone()},set:function(value){this.diffuseColor=value.$clone();this.enabled&&this.diffuseColorParameter!=null&&this.diffuseColorParameter.SetValue$6(this.diffuseColor.$clone())}},Direction:{get:function(){return this.direction.$clone()},set:function(value){this.direction=value.$clone();this.directionParameter!=null&&this.directionParameter.SetValue$6(this.direction.$clone())}},SpecularColor:{get:function(){return this.specularColor.$clone()},set:function(value){this.specularColor=value.$clone();this.enabled&&this.specularColorParameter!=null&&this.specularColorParameter.SetValue$6(this.specularColor.$clone())}},Enabled:{get:function(){return this.enabled},set:function(value){this.enabled!==value&&(this.enabled=value,this.enabled?(this.diffuseColorParameter!=null&&this.diffuseColorParameter.SetValue$6(this.diffuseColor.$clone()),this.specularColorParameter!=null&&this.specularColorParameter.SetValue$6(this.specularColor.$clone())):(this.diffuseColorParameter!=null&&this.diffuseColorParameter.SetValue$6(Microsoft.Xna.Framework.Vector3.Zero.$clone()),this.specularColorParameter!=null&&this.specularColorParameter.SetValue$6(Microsoft.Xna.Framework.Vector3.Zero.$clone())))}}},ctors:{init:function(){this.diffuseColor=new Microsoft.Xna.Framework.Vector3;this.direction=new Microsoft.Xna.Framework.Vector3;this.specularColor=new Microsoft.Xna.Framework.Vector3},ctor:function(directionParameter,diffuseColorParameter,specularColorParameter,cloneSource){this.$initialize();this.diffuseColorParameter=diffuseColorParameter;this.directionParameter=directionParameter;this.specularColorParameter=specularColorParameter;cloneSource!=null?(this.diffuseColor=cloneSource.diffuseColor.$clone(),this.direction=cloneSource.direction.$clone(),this.specularColor=cloneSource.specularColor.$clone(),this.enabled=cloneSource.enabled):(this.diffuseColorParameter=diffuseColorParameter,this.directionParameter=directionParameter,this.specularColorParameter=specularColorParameter)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.DisplayMode",{statics:{methods:{op_Inequality:function(left,right){return!Microsoft.Xna.Framework.Graphics.DisplayMode.op_Equality(left,right)},op_Equality:function(left,right){return Bridge.referenceEquals(left,right)?!0:Bridge.referenceEquals(left,null)||Bridge.referenceEquals(right,null)?!1:left.format===right.format&&left.height===right.height&&left.width===right.width}}},fields:{format:0,height:0,width:0},props:{AspectRatio:{get:function(){return this.width/this.height}},Format:{get:function(){return this.format}},Height:{get:function(){return this.height}},Width:{get:function(){return this.width}},TitleSafeArea:{get:function(){return Microsoft.Xna.Framework.Graphics.GraphicsDevice.GetTitleSafeArea(0,0,this.width,this.height)}}},ctors:{ctor:function(width,height,format){this.$initialize();this.width=width;this.height=height;this.format=format}},methods:{equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Graphics.DisplayMode)&&Microsoft.Xna.Framework.Graphics.DisplayMode.op_Equality(this,Bridge.cast(obj,Microsoft.Xna.Framework.Graphics.DisplayMode))},getHashCode:function(){return Bridge.getHashCode(this.width)^Bridge.getHashCode(this.height)^Bridge.getHashCode(this.format)},toString:function(){return"{Width:"+this.width+" Height:"+this.height+" Format:"+System.Enum.toString(Microsoft.Xna.Framework.Graphics.SurfaceFormat,this.Format)+" AspectRatio:"+System.Single.format(this.AspectRatio)+"}"}}});Bridge.define("Microsoft.Xna.Framework.Graphics.DxtUtil",{statics:{methods:{DecompressDxt1:function(imageData,width,height){var imageStream=new System.IO.MemoryStream.$ctor1(imageData);try{return Microsoft.Xna.Framework.Graphics.DxtUtil.DecompressDxt1$1(imageStream,width,height)}finally{Bridge.hasValue(imageStream)&&imageStream.System$IDisposable$Dispose()}},DecompressDxt1$1:function(imageStream,width,height){var imageData=System.Array.init(Bridge.Int.mul(Bridge.Int.mul(width,height),4),0,System.Byte),imageReader=new System.IO.BinaryReader.ctor(imageStream),blockCountX,blockCountY,y,x;try{for(blockCountX=Bridge.Int.div(width+3|0,4)|0,blockCountY=Bridge.Int.div(height+3|0,4)|0,y=0;y<blockCountY;y=y+1|0)for(x=0;x<blockCountX;x=x+1|0)Microsoft.Xna.Framework.Graphics.DxtUtil.DecompressDxt1Block(imageReader,x,y,blockCountX,width,height,imageData)}finally{Bridge.hasValue(imageReader)&&imageReader.System$IDisposable$Dispose()}return imageData},DecompressDxt1Block:function(imageReader,x,y,blockCountX,width,height,imageData){var c0=imageReader.ReadUInt16(),c1=imageReader.ReadUInt16(),r0={},g0={},b0={},r1={},g1={},b1={},lookupTable,blockY,blockX,px,py,offset;for(Microsoft.Xna.Framework.Graphics.DxtUtil.ConvertRgb565ToRgb888(c0,r0,g0,b0),Microsoft.Xna.Framework.Graphics.DxtUtil.ConvertRgb565ToRgb888(c1,r1,g1,b1),lookupTable=imageReader.ReadUInt32(),blockY=0;blockY<4;blockY=blockY+1|0)for(blockX=0;blockX<4;blockX=blockX+1|0){var r=0,g=0,b=0,a=255,index=(lookupTable>>>Bridge.Int.mul(2,Bridge.Int.mul(4,blockY)+blockX|0)&3)>>>0;if(c0>c1)switch(index){case 0:r=r0.v;g=g0.v;b=b0.v;break;case 1:r=r1.v;g=g1.v;b=b1.v;break;case 2:r=(Bridge.Int.div(Bridge.Int.mul(2,r0.v)+r1.v|0,3)|0)&255;g=(Bridge.Int.div(Bridge.Int.mul(2,g0.v)+g1.v|0,3)|0)&255;b=(Bridge.Int.div(Bridge.Int.mul(2,b0.v)+b1.v|0,3)|0)&255;break;case 3:r=(Bridge.Int.div(r0.v+Bridge.Int.mul(2,r1.v)|0,3)|0)&255;g=(Bridge.Int.div(g0.v+Bridge.Int.mul(2,g1.v)|0,3)|0)&255;b=(Bridge.Int.div(b0.v+Bridge.Int.mul(2,b1.v)|0,3)|0)&255;break}else switch(index){case 0:r=r0.v;g=g0.v;b=b0.v;break;case 1:r=r1.v;g=g1.v;b=b1.v;break;case 2:r=(Bridge.Int.div(r0.v+r1.v|0,2)|0)&255;g=(Bridge.Int.div(g0.v+g1.v|0,2)|0)&255;b=(Bridge.Int.div(b0.v+b1.v|0,2)|0)&255;break;case 3:r=0;g=0;b=0;a=0;break}px=(x<<2)+blockX|0;py=(y<<2)+blockY|0;px<width&&py<height&&(offset=(Bridge.Int.mul(py,width)+px|0)<<2,imageData[System.Array.index(offset,imageData)]=r,imageData[System.Array.index(offset+1|0,imageData)]=g,imageData[System.Array.index(offset+2|0,imageData)]=b,imageData[System.Array.index(offset+3|0,imageData)]=a)}},DecompressDxt3:function(imageData,width,height){var imageStream=new System.IO.MemoryStream.$ctor1(imageData);try{return Microsoft.Xna.Framework.Graphics.DxtUtil.DecompressDxt3$1(imageStream,width,height)}finally{Bridge.hasValue(imageStream)&&imageStream.System$IDisposable$Dispose()}},DecompressDxt3$1:function(imageStream,width,height){var imageData=System.Array.init(Bridge.Int.mul(Bridge.Int.mul(width,height),4),0,System.Byte),imageReader=new System.IO.BinaryReader.ctor(imageStream),blockCountX,blockCountY,y,x;try{for(blockCountX=Bridge.Int.div(width+3|0,4)|0,blockCountY=Bridge.Int.div(height+3|0,4)|0,y=0;y<blockCountY;y=y+1|0)for(x=0;x<blockCountX;x=x+1|0)Microsoft.Xna.Framework.Graphics.DxtUtil.DecompressDxt3Block(imageReader,x,y,blockCountX,width,height,imageData)}finally{Bridge.hasValue(imageReader)&&imageReader.System$IDisposable$Dispose()}return imageData},DecompressDxt3Block:function(imageReader,x,y,blockCountX,width,height,imageData){var a0=imageReader.ReadByte(),a1=imageReader.ReadByte(),a2=imageReader.ReadByte(),a3=imageReader.ReadByte(),a4=imageReader.ReadByte(),a5=imageReader.ReadByte(),a6=imageReader.ReadByte(),a7=imageReader.ReadByte(),c0=imageReader.ReadUInt16(),c1=imageReader.ReadUInt16(),r0={},g0={},b0={},r1={},g1={},b1={},lookupTable,alphaIndex,blockY,blockX,px,py,offset;for(Microsoft.Xna.Framework.Graphics.DxtUtil.ConvertRgb565ToRgb888(c0,r0,g0,b0),Microsoft.Xna.Framework.Graphics.DxtUtil.ConvertRgb565ToRgb888(c1,r1,g1,b1),lookupTable=imageReader.ReadUInt32(),alphaIndex=0,blockY=0;blockY<4;blockY=blockY+1|0)for(blockX=0;blockX<4;blockX=blockX+1|0){var r=0,g=0,b=0,a=0,index=(lookupTable>>>Bridge.Int.mul(2,Bridge.Int.mul(4,blockY)+blockX|0)&3)>>>0;switch(alphaIndex){case 0:a=(a0&15|(a0&15)<<4)&255;break;case 1:a=(a0&240|(a0&240)>>4)&255;break;case 2:a=(a1&15|(a1&15)<<4)&255;break;case 3:a=(a1&240|(a1&240)>>4)&255;break;case 4:a=(a2&15|(a2&15)<<4)&255;break;case 5:a=(a2&240|(a2&240)>>4)&255;break;case 6:a=(a3&15|(a3&15)<<4)&255;break;case 7:a=(a3&240|(a3&240)>>4)&255;break;case 8:a=(a4&15|(a4&15)<<4)&255;break;case 9:a=(a4&240|(a4&240)>>4)&255;break;case 10:a=(a5&15|(a5&15)<<4)&255;break;case 11:a=(a5&240|(a5&240)>>4)&255;break;case 12:a=(a6&15|(a6&15)<<4)&255;break;case 13:a=(a6&240|(a6&240)>>4)&255;break;case 14:a=(a7&15|(a7&15)<<4)&255;break;case 15:a=(a7&240|(a7&240)>>4)&255;break}alphaIndex=alphaIndex+1|0;switch(index){case 0:r=r0.v;g=g0.v;b=b0.v;break;case 1:r=r1.v;g=g1.v;b=b1.v;break;case 2:r=(Bridge.Int.div(Bridge.Int.mul(2,r0.v)+r1.v|0,3)|0)&255;g=(Bridge.Int.div(Bridge.Int.mul(2,g0.v)+g1.v|0,3)|0)&255;b=(Bridge.Int.div(Bridge.Int.mul(2,b0.v)+b1.v|0,3)|0)&255;break;case 3:r=(Bridge.Int.div(r0.v+Bridge.Int.mul(2,r1.v)|0,3)|0)&255;g=(Bridge.Int.div(g0.v+Bridge.Int.mul(2,g1.v)|0,3)|0)&255;b=(Bridge.Int.div(b0.v+Bridge.Int.mul(2,b1.v)|0,3)|0)&255;break}px=(x<<2)+blockX|0;py=(y<<2)+blockY|0;px<width&&py<height&&(offset=(Bridge.Int.mul(py,width)+px|0)<<2,imageData[System.Array.index(offset,imageData)]=r,imageData[System.Array.index(offset+1|0,imageData)]=g,imageData[System.Array.index(offset+2|0,imageData)]=b,imageData[System.Array.index(offset+3|0,imageData)]=a)}},DecompressDxt5:function(imageData,width,height){var imageStream=new System.IO.MemoryStream.$ctor1(imageData);try{return Microsoft.Xna.Framework.Graphics.DxtUtil.DecompressDxt5$1(imageStream,width,height)}finally{Bridge.hasValue(imageStream)&&imageStream.System$IDisposable$Dispose()}},DecompressDxt5$1:function(imageStream,width,height){var imageData=System.Array.init(Bridge.Int.mul(Bridge.Int.mul(width,height),4),0,System.Byte),imageReader=new System.IO.BinaryReader.ctor(imageStream),blockCountX,blockCountY,y,x;try{for(blockCountX=Bridge.Int.div(width+3|0,4)|0,blockCountY=Bridge.Int.div(height+3|0,4)|0,y=0;y<blockCountY;y=y+1|0)for(x=0;x<blockCountX;x=x+1|0)Microsoft.Xna.Framework.Graphics.DxtUtil.DecompressDxt5Block(imageReader,x,y,blockCountX,width,height,imageData)}finally{Bridge.hasValue(imageReader)&&imageReader.System$IDisposable$Dispose()}return imageData},DecompressDxt5Block:function(imageReader,x,y,blockCountX,width,height,imageData){var alpha0=imageReader.ReadByte(),alpha1=imageReader.ReadByte(),alphaMask=System.UInt64(imageReader.ReadByte()),lookupTable,blockY,blockX,px,py,offset;alphaMask=alphaMask.add(System.UInt64(imageReader.ReadByte()).shl(8));alphaMask=alphaMask.add(System.UInt64(imageReader.ReadByte()).shl(16));alphaMask=alphaMask.add(System.UInt64(imageReader.ReadByte()).shl(24));alphaMask=alphaMask.add(System.UInt64(imageReader.ReadByte()).shl(32));alphaMask=alphaMask.add(System.UInt64(imageReader.ReadByte()).shl(40));var c0=imageReader.ReadUInt16(),c1=imageReader.ReadUInt16(),r0={},g0={},b0={},r1={},g1={},b1={};for(Microsoft.Xna.Framework.Graphics.DxtUtil.ConvertRgb565ToRgb888(c0,r0,g0,b0),Microsoft.Xna.Framework.Graphics.DxtUtil.ConvertRgb565ToRgb888(c1,r1,g1,b1),lookupTable=imageReader.ReadUInt32(),blockY=0;blockY<4;blockY=blockY+1|0)for(blockX=0;blockX<4;blockX=blockX+1|0){var r=0,g=0,b=0,a=255,index=(lookupTable>>>Bridge.Int.mul(2,Bridge.Int.mul(4,blockY)+blockX|0)&3)>>>0,alphaIndex=System.Int64.clipu32(alphaMask.shru(Bridge.Int.mul(3,Bridge.Int.mul(4,blockY)+blockX|0)).and(System.UInt64(7)));a=alphaIndex===0?alpha0:alphaIndex===1?alpha1:alpha0>alpha1?Bridge.Int.div(Bridge.Int.umul(8-alphaIndex>>>0,alpha0)+Bridge.Int.umul(alphaIndex-1>>>0,alpha1)>>>0,7)>>>0&255:alphaIndex===6?0:alphaIndex===7?255:Bridge.Int.div(Bridge.Int.umul(6-alphaIndex>>>0,alpha0)+Bridge.Int.umul(alphaIndex-1>>>0,alpha1)>>>0,5)>>>0&255;switch(index){case 0:r=r0.v;g=g0.v;b=b0.v;break;case 1:r=r1.v;g=g1.v;b=b1.v;break;case 2:r=(Bridge.Int.div(Bridge.Int.mul(2,r0.v)+r1.v|0,3)|0)&255;g=(Bridge.Int.div(Bridge.Int.mul(2,g0.v)+g1.v|0,3)|0)&255;b=(Bridge.Int.div(Bridge.Int.mul(2,b0.v)+b1.v|0,3)|0)&255;break;case 3:r=(Bridge.Int.div(r0.v+Bridge.Int.mul(2,r1.v)|0,3)|0)&255;g=(Bridge.Int.div(g0.v+Bridge.Int.mul(2,g1.v)|0,3)|0)&255;b=(Bridge.Int.div(b0.v+Bridge.Int.mul(2,b1.v)|0,3)|0)&255;break}px=(x<<2)+blockX|0;py=(y<<2)+blockY|0;px<width&&py<height&&(offset=(Bridge.Int.mul(py,width)+px|0)<<2,imageData[System.Array.index(offset,imageData)]=r,imageData[System.Array.index(offset+1|0,imageData)]=g,imageData[System.Array.index(offset+2|0,imageData)]=b,imageData[System.Array.index(offset+3|0,imageData)]=a)}},ConvertRgb565ToRgb888:function(color,r,g,b){var temp;temp=Bridge.Int.mul(color>>11,255)+16|0;r.v=(Bridge.Int.div((Bridge.Int.div(temp,32)|0)+temp|0,32)|0)&255;temp=Bridge.Int.mul((color&2016)>>5,255)+32|0;g.v=(Bridge.Int.div((Bridge.Int.div(temp,64)|0)+temp|0,64)|0)&255;temp=Bridge.Int.mul(color&31,255)+16|0;b.v=(Bridge.Int.div((Bridge.Int.div(temp,32)|0)+temp|0,32)|0)&255}}}});Bridge.define("Microsoft.Xna.Framework.Graphics.Effect.MGFXHeader",{$kind:"nested struct",statics:{fields:{MGFXSignature:0,MGFXVersion:0},ctors:{init:function(){this.MGFXSignature=System.BitConverter.isLittleEndian?1481000781:1296516696;this.MGFXVersion=8}},methods:{getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.Effect.MGFXHeader}}},fields:{Signature:0,Version:0,Profile:0,EffectKey:0,HeaderSize:0},ctors:{ctor:function(){this.$initialize()}},methods:{getHashCode:function(){return Bridge.addHash([3165134586,this.Signature,this.Version,this.Profile,this.EffectKey,this.HeaderSize])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Graphics.Effect.MGFXHeader)?Bridge.equals(this.Signature,o.Signature)&&Bridge.equals(this.Version,o.Version)&&Bridge.equals(this.Profile,o.Profile)&&Bridge.equals(this.EffectKey,o.EffectKey)&&Bridge.equals(this.HeaderSize,o.HeaderSize):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.Effect.MGFXHeader;return s.Signature=this.Signature,s.Version=this.Version,s.Profile=this.Profile,s.EffectKey=this.EffectKey,s.HeaderSize=this.HeaderSize,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.EffectAnnotation",{fields:{ParameterClass:0,ParameterType:0,Name:null,RowCount:0,ColumnCount:0,Semantic:null},ctors:{$ctor1:function(class_,type,name,rowCount,columnCount,semantic,data){this.$initialize();this.ParameterClass=class_;this.ParameterType=type;this.Name=name;this.RowCount=rowCount;this.ColumnCount=columnCount;this.Semantic=semantic},ctor:function(parameter){this.$initialize();this.ParameterClass=parameter.ParameterClass;this.ParameterType=parameter.ParameterType;this.Name=parameter.Name;this.RowCount=parameter.RowCount;this.ColumnCount=parameter.ColumnCount;this.Semantic=parameter.Semantic}}});Bridge.define("Microsoft.Xna.Framework.Graphics.EffectDirtyFlags",{$kind:"enum",statics:{fields:{WorldViewProj:1,World:2,EyePosition:4,MaterialColor:8,Fog:16,FogEnable:32,AlphaTest:64,ShaderIndex:128,All:-1}},$flags:!0});Bridge.define("Microsoft.Xna.Framework.Graphics.EffectHelpers",{statics:{methods:{EnableDefaultLighting:function(light0,light1,light2){return light0.Direction=new Microsoft.Xna.Framework.Vector3.$ctor3(-.5265408,-.5735765,-.6275069),light0.DiffuseColor=new Microsoft.Xna.Framework.Vector3.$ctor3(1,.9607844,.8078432),light0.SpecularColor=new Microsoft.Xna.Framework.Vector3.$ctor3(1,.9607844,.8078432),light0.Enabled=!0,light1.Direction=new Microsoft.Xna.Framework.Vector3.$ctor3(.7198464,.3420201,.6040227),light1.DiffuseColor=new Microsoft.Xna.Framework.Vector3.$ctor3(.9647059,.7607844,.4078432),light1.SpecularColor=Microsoft.Xna.Framework.Vector3.Zero.$clone(),light1.Enabled=!0,light2.Direction=new Microsoft.Xna.Framework.Vector3.$ctor3(.4545195,-.7660444,.4545195),light2.DiffuseColor=new Microsoft.Xna.Framework.Vector3.$ctor3(.3231373,.3607844,.3937255),light2.SpecularColor=new Microsoft.Xna.Framework.Vector3.$ctor3(.3231373,.3607844,.3937255),light2.Enabled=!0,new Microsoft.Xna.Framework.Vector3.$ctor3(.05333332,.09882354,.1819608)},SetWorldViewProjAndFog:function(dirtyFlags,world,view,projection,worldView,fogEnabled,fogStart,fogEnd,worldViewProjParam,fogVectorParam){if((dirtyFlags&Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.WorldViewProj)!=0){var worldViewProj={v:new Microsoft.Xna.Framework.Matrix};Microsoft.Xna.Framework.Matrix.Multiply$2(world,view,worldView);Microsoft.Xna.Framework.Matrix.Multiply$2(worldView,projection,worldViewProj);worldViewProjParam.SetValue$1(worldViewProj.v.$clone());dirtyFlags&=-2}return fogEnabled?(dirtyFlags&48)!=0&&(Microsoft.Xna.Framework.Graphics.EffectHelpers.SetFogVector(worldView,fogStart,fogEnd,fogVectorParam),dirtyFlags&=-49):(dirtyFlags&Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.FogEnable)!=0&&(fogVectorParam.SetValue$8(Microsoft.Xna.Framework.Vector4.Zero.$clone()),dirtyFlags&=-33),dirtyFlags},SetFogVector:function(worldView,fogStart,fogEnd,fogVectorParam){if(fogStart===fogEnd)fogVectorParam.SetValue$8(new Microsoft.Xna.Framework.Vector4.$ctor4(0,0,0,1));else{var scale=1/(fogStart-fogEnd),fogVector=new Microsoft.Xna.Framework.Vector4.ctor;fogVector.X=worldView.v.M13*scale;fogVector.Y=worldView.v.M23*scale;fogVector.Z=worldView.v.M33*scale;fogVector.W=(worldView.v.M43+fogStart)*scale;fogVectorParam.SetValue$8(fogVector.$clone())}},SetLightingMatrices:function(dirtyFlags,world,view,worldParam,worldInverseTransposeParam,eyePositionParam){var worldTranspose,worldInverseTranspose,viewInverse;return(dirtyFlags&Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.World)!=0&&(worldTranspose={v:new Microsoft.Xna.Framework.Matrix},worldInverseTranspose={v:new Microsoft.Xna.Framework.Matrix},Microsoft.Xna.Framework.Matrix.Invert$1(world,worldTranspose),Microsoft.Xna.Framework.Matrix.Transpose$1(worldTranspose,worldInverseTranspose),worldParam.SetValue$1(world.v.$clone()),worldInverseTransposeParam.SetValue$1(worldInverseTranspose.v.$clone()),dirtyFlags&=-3),(dirtyFlags&Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.EyePosition)!=0&&(viewInverse={v:new Microsoft.Xna.Framework.Matrix},Microsoft.Xna.Framework.Matrix.Invert$1(view,viewInverse),eyePositionParam.SetValue$6(viewInverse.v.Translation.$clone()),dirtyFlags&=-5),dirtyFlags},SetMaterialColor:function(lightingEnabled,alpha,diffuseColor,emissiveColor,ambientLightColor,diffuseColorParam,emissiveColorParam){var diffuse,emissive,diffuse1;lightingEnabled?(diffuse=new Microsoft.Xna.Framework.Vector4.ctor,emissive=new Microsoft.Xna.Framework.Vector3.ctor,diffuse.X=diffuseColor.v.X*alpha,diffuse.Y=diffuseColor.v.Y*alpha,diffuse.Z=diffuseColor.v.Z*alpha,diffuse.W=alpha,emissive.X=(emissiveColor.v.X+ambientLightColor.v.X*diffuseColor.v.X)*alpha,emissive.Y=(emissiveColor.v.Y+ambientLightColor.v.Y*diffuseColor.v.Y)*alpha,emissive.Z=(emissiveColor.v.Z+ambientLightColor.v.Z*diffuseColor.v.Z)*alpha,diffuseColorParam.SetValue$8(diffuse.$clone()),emissiveColorParam.SetValue$6(emissive.$clone())):(diffuse1=new Microsoft.Xna.Framework.Vector4.ctor,diffuse1.X=(diffuseColor.v.X+emissiveColor.v.X)*alpha,diffuse1.Y=(diffuseColor.v.Y+emissiveColor.v.Y)*alpha,diffuse1.Z=(diffuseColor.v.Z+emissiveColor.v.Z)*alpha,diffuse1.W=alpha,diffuseColorParam.SetValue$8(diffuse1.$clone()))}}}});Bridge.define("Microsoft.Xna.Framework.Graphics.EffectParameter",{statics:{fields:{NextStateKey:System.UInt64(0)}},fields:{Name:null,Semantic:null,ParameterClass:0,ParameterType:0,RowCount:0,ColumnCount:0,Elements:null,StructureMembers:null,Annotations:null,Data:null,StateKey:System.UInt64(0)},props:{DebugDisplayString:{get:function(){var semanticStr="";return System.String.isNullOrEmpty(this.Semantic)||(semanticStr=System.String.concat(" <",this.Semantic,">")),System.String.concat("[",Bridge.box(this.ParameterClass,Microsoft.Xna.Framework.Graphics.EffectParameterClass,System.Enum.toStringFn(Microsoft.Xna.Framework.Graphics.EffectParameterClass))," ",Bridge.box(this.ParameterType,Microsoft.Xna.Framework.Graphics.EffectParameterType,System.Enum.toStringFn(Microsoft.Xna.Framework.Graphics.EffectParameterType)),"]",semanticStr," ",this.Name," : ",this.GetDataValueString())}}},ctors:{$ctor1:function(class_,type,name,rowCount,columnCount,semantic,annotations,elements,structMembers,data){var $t;this.$initialize();this.ParameterClass=class_;this.ParameterType=type;this.Name=name;this.Semantic=semantic;this.Annotations=annotations;this.RowCount=rowCount;this.ColumnCount=columnCount;this.Elements=elements;this.StructureMembers=structMembers;this.Data=data;this.StateKey=($t=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey,Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey.inc(),$t)},ctor:function(cloneSource){var $t,array;this.$initialize();this.ParameterClass=cloneSource.ParameterClass;this.ParameterType=cloneSource.ParameterType;this.Name=cloneSource.Name;this.Semantic=cloneSource.Semantic;this.Annotations=cloneSource.Annotations;this.RowCount=cloneSource.RowCount;this.ColumnCount=cloneSource.ColumnCount;this.Elements=cloneSource.Elements.Clone();this.StructureMembers=cloneSource.StructureMembers.Clone();array=Bridge.as(cloneSource.Data,Array);array!=null&&(this.Data=System.Array.clone(array));this.StateKey=($t=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey,Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey.inc(),$t)}},methods:{GetDataValueString:function(){var $t,valueStr,e;if(this.Data==null)valueStr=this.Elements==null?"(null)":Bridge.toArray(System.Linq.Enumerable.from(this.Elements).select(function(e){return e.GetDataValueString()})).join(", ");else switch(this.ParameterClass){case Microsoft.Xna.Framework.Graphics.EffectParameterClass.Object:valueStr=Bridge.toString(this.Data);break;case Microsoft.Xna.Framework.Graphics.EffectParameterClass.Matrix:valueStr="...";break;case Microsoft.Xna.Framework.Graphics.EffectParameterClass.Scalar:valueStr=Bridge.toString(System.Array.get(Bridge.as(this.Data,Array),0));break;case Microsoft.Xna.Framework.Graphics.EffectParameterClass.Vector:var array=Bridge.as(this.Data,Array),arrayStr=System.Array.init(array.length,null,System.String),idx=0;$t=Bridge.getEnumerator(array);try{while($t.moveNext())e=$t.Current,arrayStr[System.Array.index(idx,arrayStr)]=Bridge.toString(System.Array.get(array,idx)),idx=idx+1|0}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}valueStr=arrayStr.join(" ");break;default:valueStr=Bridge.toString(this.Data);break}return System.String.concat("{",valueStr,"}")},GetValueBoolean:function(){var $t;if(this.ParameterClass!==Microsoft.Xna.Framework.Graphics.EffectParameterClass.Scalar||this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Bool)throw new System.InvalidCastException.ctor;return($t=Bridge.cast(this.Data,System.Array.type(System.Int32)))[System.Array.index(0,$t)]!==0},GetValueInt32:function(){var $t;if(this.ParameterClass!==Microsoft.Xna.Framework.Graphics.EffectParameterClass.Scalar||this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Int32)throw new System.InvalidCastException.ctor;return($t=Bridge.cast(this.Data,System.Array.type(System.Int32)))[System.Array.index(0,$t)]},GetValueMatrix:function(){if(this.ParameterClass!==Microsoft.Xna.Framework.Graphics.EffectParameterClass.Matrix||this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Single)throw new System.InvalidCastException.ctor;if(this.RowCount!==4||this.ColumnCount!==4)throw new System.InvalidCastException.ctor;var floatData=Bridge.cast(this.Data,System.Array.type(System.Single));return new Microsoft.Xna.Framework.Matrix.$ctor2(floatData[System.Array.index(0,floatData)],floatData[System.Array.index(4,floatData)],floatData[System.Array.index(8,floatData)],floatData[System.Array.index(12,floatData)],floatData[System.Array.index(1,floatData)],floatData[System.Array.index(5,floatData)],floatData[System.Array.index(9,floatData)],floatData[System.Array.index(13,floatData)],floatData[System.Array.index(2,floatData)],floatData[System.Array.index(6,floatData)],floatData[System.Array.index(10,floatData)],floatData[System.Array.index(14,floatData)],floatData[System.Array.index(3,floatData)],floatData[System.Array.index(7,floatData)],floatData[System.Array.index(11,floatData)],floatData[System.Array.index(15,floatData)])},GetValueMatrixArray:function(count){var ret,i;if(this.ParameterClass!==Microsoft.Xna.Framework.Graphics.EffectParameterClass.Matrix||this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Single)throw new System.InvalidCastException.ctor;for(ret=System.Array.init(count,function(){return new Microsoft.Xna.Framework.Matrix},Microsoft.Xna.Framework.Matrix),i=0;i<count;i=i+1|0)ret[System.Array.index(i,ret)]=this.Elements.getItem(i).GetValueMatrix();return ret},GetValueQuaternion:function(){if(this.ParameterClass!==Microsoft.Xna.Framework.Graphics.EffectParameterClass.Vector||this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Single)throw new System.InvalidCastException.ctor;var vecInfo=Bridge.cast(this.Data,System.Array.type(System.Single));return new Microsoft.Xna.Framework.Quaternion.$ctor3(vecInfo[System.Array.index(0,vecInfo)],vecInfo[System.Array.index(1,vecInfo)],vecInfo[System.Array.index(2,vecInfo)],vecInfo[System.Array.index(3,vecInfo)])},GetValueSingle:function(){var $t;if(this.ParameterClass!==Microsoft.Xna.Framework.Graphics.EffectParameterClass.Scalar||this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Single)throw new System.InvalidCastException.ctor;return($t=Bridge.cast(this.Data,System.Array.type(System.Single)))[System.Array.index(0,$t)]},GetValueSingleArray:function(){var ret,i,elmArray,j;if(this.Elements!=null&&this.Elements.Count>0){for(ret=System.Array.init(Bridge.Int.mul(Bridge.Int.mul(this.RowCount,this.ColumnCount),this.Elements.Count),0,System.Single),i=0;i<this.Elements.Count;i=i+1|0)for(elmArray=this.Elements.getItem(i).GetValueSingleArray(),j=0;j<elmArray.length;j=j+1|0)ret[System.Array.index(Bridge.Int.mul(Bridge.Int.mul(this.RowCount,this.ColumnCount),i)+j|0,ret)]=elmArray[System.Array.index(j,elmArray)];return ret}switch(this.ParameterClass){case Microsoft.Xna.Framework.Graphics.EffectParameterClass.Scalar:return System.Array.init([this.GetValueSingle()],System.Single);case Microsoft.Xna.Framework.Graphics.EffectParameterClass.Vector:case Microsoft.Xna.Framework.Graphics.EffectParameterClass.Matrix:return Bridge.is(this.Data,Microsoft.Xna.Framework.Matrix)?Microsoft.Xna.Framework.Matrix.ToFloatArray(System.Nullable.getValue(Bridge.cast(Bridge.unbox(this.Data,Microsoft.Xna.Framework.Matrix),Microsoft.Xna.Framework.Matrix))):Bridge.cast(this.Data,System.Array.type(System.Single));default:throw new System.NotImplementedException.ctor;}},GetValueString:function(){var $t;if(this.ParameterClass!==Microsoft.Xna.Framework.Graphics.EffectParameterClass.Object||this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.String)throw new System.InvalidCastException.ctor;return($t=Bridge.cast(this.Data,System.Array.type(System.String)))[System.Array.index(0,$t)]},GetValueTexture2D:function(){if(this.ParameterClass!==Microsoft.Xna.Framework.Graphics.EffectParameterClass.Object||this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Texture2D)throw new System.InvalidCastException.ctor;return Bridge.cast(this.Data,Microsoft.Xna.Framework.Graphics.Texture2D)},GetValueTexture3D:function(){if(this.ParameterClass!==Microsoft.Xna.Framework.Graphics.EffectParameterClass.Object||this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Texture3D)throw new System.InvalidCastException.ctor;return Bridge.cast(this.Data,Microsoft.Xna.Framework.Graphics.Texture3D)},GetValueTextureCube:function(){if(this.ParameterClass!==Microsoft.Xna.Framework.Graphics.EffectParameterClass.Object||this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.TextureCube)throw new System.InvalidCastException.ctor;return Bridge.cast(this.Data,Microsoft.Xna.Framework.Graphics.TextureCube)},GetValueVector2:function(){if(this.ParameterClass!==Microsoft.Xna.Framework.Graphics.EffectParameterClass.Vector||this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Single)throw new System.InvalidCastException.ctor;var vecInfo=Bridge.cast(this.Data,System.Array.type(System.Single));return new Microsoft.Xna.Framework.Vector2.$ctor2(vecInfo[System.Array.index(0,vecInfo)],vecInfo[System.Array.index(1,vecInfo)])},GetValueVector2Array:function(){var result,i,v;if(this.ParameterClass!==Microsoft.Xna.Framework.Graphics.EffectParameterClass.Vector||this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Single)throw new System.InvalidCastException.ctor;if(this.Elements!=null&&this.Elements.Count>0){for(result=System.Array.init(this.Elements.Count,function(){return new Microsoft.Xna.Framework.Vector2},Microsoft.Xna.Framework.Vector2),i=0;i<this.Elements.Count;i=i+1|0)v=this.Elements.getItem(i).GetValueSingleArray(),result[System.Array.index(i,result)]=new Microsoft.Xna.Framework.Vector2.$ctor2(v[System.Array.index(0,v)],v[System.Array.index(1,v)]);return result}return null},GetValueVector3:function(){if(this.ParameterClass!==Microsoft.Xna.Framework.Graphics.EffectParameterClass.Vector||this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Single)throw new System.InvalidCastException.ctor;var vecInfo=Bridge.cast(this.Data,System.Array.type(System.Single));return new Microsoft.Xna.Framework.Vector3.$ctor3(vecInfo[System.Array.index(0,vecInfo)],vecInfo[System.Array.index(1,vecInfo)],vecInfo[System.Array.index(2,vecInfo)])},GetValueVector3Array:function(){var result,i,v;if(this.ParameterClass!==Microsoft.Xna.Framework.Graphics.EffectParameterClass.Vector||this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Single)throw new System.InvalidCastException.ctor;if(this.Elements!=null&&this.Elements.Count>0){for(result=System.Array.init(this.Elements.Count,function(){return new Microsoft.Xna.Framework.Vector3},Microsoft.Xna.Framework.Vector3),i=0;i<this.Elements.Count;i=i+1|0)v=this.Elements.getItem(i).GetValueSingleArray(),result[System.Array.index(i,result)]=new Microsoft.Xna.Framework.Vector3.$ctor3(v[System.Array.index(0,v)],v[System.Array.index(1,v)],v[System.Array.index(2,v)]);return result}return null},GetValueVector4:function(){if(this.ParameterClass!==Microsoft.Xna.Framework.Graphics.EffectParameterClass.Vector||this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Single)throw new System.InvalidCastException.ctor;var vecInfo=Bridge.cast(this.Data,System.Array.type(System.Single));return new Microsoft.Xna.Framework.Vector4.$ctor4(vecInfo[System.Array.index(0,vecInfo)],vecInfo[System.Array.index(1,vecInfo)],vecInfo[System.Array.index(2,vecInfo)],vecInfo[System.Array.index(3,vecInfo)])},GetValueVector4Array:function(){var result,i,v;if(this.ParameterClass!==Microsoft.Xna.Framework.Graphics.EffectParameterClass.Vector||this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Single)throw new System.InvalidCastException.ctor;if(this.Elements!=null&&this.Elements.Count>0){for(result=System.Array.init(this.Elements.Count,function(){return new Microsoft.Xna.Framework.Vector4},Microsoft.Xna.Framework.Vector4),i=0;i<this.Elements.Count;i=i+1|0)v=this.Elements.getItem(i).GetValueSingleArray(),result[System.Array.index(i,result)]=new Microsoft.Xna.Framework.Vector4.$ctor4(v[System.Array.index(0,v)],v[System.Array.index(1,v)],v[System.Array.index(2,v)],v[System.Array.index(3,v)]);return result}return null},SetValue$10:function(value){var $t,$t1;if(this.ParameterClass!==Microsoft.Xna.Framework.Graphics.EffectParameterClass.Scalar||this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Bool)throw new System.InvalidCastException.ctor;($t=Bridge.cast(this.Data,System.Array.type(System.Int32)))[System.Array.index(0,$t)]=value?1:0;this.StateKey=($t1=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey,Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey.inc(),$t1)},SetValue$11:function(value){var $t,$t1;if(this.ParameterClass!==Microsoft.Xna.Framework.Graphics.EffectParameterClass.Scalar||this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Int32)throw new System.InvalidCastException.ctor;($t=Bridge.cast(this.Data,System.Array.type(System.Int32)))[System.Array.index(0,$t)]=value;this.StateKey=($t1=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey,Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey.inc(),$t1)},SetValue$1:function(value){var $t,fData,fData1,fData2,fData3,fData4;if(this.ParameterClass!==Microsoft.Xna.Framework.Graphics.EffectParameterClass.Matrix||this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Single)throw new System.InvalidCastException.ctor;this.RowCount===4&&this.ColumnCount===4?(fData=Bridge.cast(this.Data,System.Array.type(System.Single)),fData[System.Array.index(0,fData)]=value.M11,fData[System.Array.index(1,fData)]=value.M21,fData[System.Array.index(2,fData)]=value.M31,fData[System.Array.index(3,fData)]=value.M41,fData[System.Array.index(4,fData)]=value.M12,fData[System.Array.index(5,fData)]=value.M22,fData[System.Array.index(6,fData)]=value.M32,fData[System.Array.index(7,fData)]=value.M42,fData[System.Array.index(8,fData)]=value.M13,fData[System.Array.index(9,fData)]=value.M23,fData[System.Array.index(10,fData)]=value.M33,fData[System.Array.index(11,fData)]=value.M43,fData[System.Array.index(12,fData)]=value.M14,fData[System.Array.index(13,fData)]=value.M24,fData[System.Array.index(14,fData)]=value.M34,fData[System.Array.index(15,fData)]=value.M44):this.RowCount===4&&this.ColumnCount===3?(fData1=Bridge.cast(this.Data,System.Array.type(System.Single)),fData1[System.Array.index(0,fData1)]=value.M11,fData1[System.Array.index(1,fData1)]=value.M21,fData1[System.Array.index(2,fData1)]=value.M31,fData1[System.Array.index(3,fData1)]=value.M41,fData1[System.Array.index(4,fData1)]=value.M12,fData1[System.Array.index(5,fData1)]=value.M22,fData1[System.Array.index(6,fData1)]=value.M32,fData1[System.Array.index(7,fData1)]=value.M42,fData1[System.Array.index(8,fData1)]=value.M13,fData1[System.Array.index(9,fData1)]=value.M23,fData1[System.Array.index(10,fData1)]=value.M33,fData1[System.Array.index(11,fData1)]=value.M43):this.RowCount===3&&this.ColumnCount===4?(fData2=Bridge.cast(this.Data,System.Array.type(System.Single)),fData2[System.Array.index(0,fData2)]=value.M11,fData2[System.Array.index(1,fData2)]=value.M21,fData2[System.Array.index(2,fData2)]=value.M31,fData2[System.Array.index(3,fData2)]=value.M12,fData2[System.Array.index(4,fData2)]=value.M22,fData2[System.Array.index(5,fData2)]=value.M32,fData2[System.Array.index(6,fData2)]=value.M13,fData2[System.Array.index(7,fData2)]=value.M23,fData2[System.Array.index(8,fData2)]=value.M33,fData2[System.Array.index(9,fData2)]=value.M14,fData2[System.Array.index(10,fData2)]=value.M24,fData2[System.Array.index(11,fData2)]=value.M34):this.RowCount===3&&this.ColumnCount===3?(fData3=Bridge.cast(this.Data,System.Array.type(System.Single)),fData3[System.Array.index(0,fData3)]=value.M11,fData3[System.Array.index(1,fData3)]=value.M21,fData3[System.Array.index(2,fData3)]=value.M31,fData3[System.Array.index(3,fData3)]=value.M12,fData3[System.Array.index(4,fData3)]=value.M22,fData3[System.Array.index(5,fData3)]=value.M32,fData3[System.Array.index(6,fData3)]=value.M13,fData3[System.Array.index(7,fData3)]=value.M23,fData3[System.Array.index(8,fData3)]=value.M33):this.RowCount===3&&this.ColumnCount===2&&(fData4=Bridge.cast(this.Data,System.Array.type(System.Single)),fData4[System.Array.index(0,fData4)]=value.M11,fData4[System.Array.index(1,fData4)]=value.M21,fData4[System.Array.index(2,fData4)]=value.M31,fData4[System.Array.index(3,fData4)]=value.M12,fData4[System.Array.index(4,fData4)]=value.M22,fData4[System.Array.index(5,fData4)]=value.M32);this.StateKey=($t=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey,Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey.inc(),$t)},SetValue$2:function(value){var $t,i,fData,i1,fData1,i2,fData2,i3,fData3,i4,fData4;if(this.ParameterClass!==Microsoft.Xna.Framework.Graphics.EffectParameterClass.Matrix||this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Single)throw new System.InvalidCastException.ctor;if(this.RowCount===4&&this.ColumnCount===4)for(i=0;i<value.length;i=i+1|0)fData=Bridge.cast(this.Elements.getItem(i).Data,System.Array.type(System.Single)),fData[System.Array.index(0,fData)]=value[System.Array.index(i,value)].M11,fData[System.Array.index(1,fData)]=value[System.Array.index(i,value)].M21,fData[System.Array.index(2,fData)]=value[System.Array.index(i,value)].M31,fData[System.Array.index(3,fData)]=value[System.Array.index(i,value)].M41,fData[System.Array.index(4,fData)]=value[System.Array.index(i,value)].M12,fData[System.Array.index(5,fData)]=value[System.Array.index(i,value)].M22,fData[System.Array.index(6,fData)]=value[System.Array.index(i,value)].M32,fData[System.Array.index(7,fData)]=value[System.Array.index(i,value)].M42,fData[System.Array.index(8,fData)]=value[System.Array.index(i,value)].M13,fData[System.Array.index(9,fData)]=value[System.Array.index(i,value)].M23,fData[System.Array.index(10,fData)]=value[System.Array.index(i,value)].M33,fData[System.Array.index(11,fData)]=value[System.Array.index(i,value)].M43,fData[System.Array.index(12,fData)]=value[System.Array.index(i,value)].M14,fData[System.Array.index(13,fData)]=value[System.Array.index(i,value)].M24,fData[System.Array.index(14,fData)]=value[System.Array.index(i,value)].M34,fData[System.Array.index(15,fData)]=value[System.Array.index(i,value)].M44;else if(this.RowCount===4&&this.ColumnCount===3)for(i1=0;i1<value.length;i1=i1+1|0)fData1=Bridge.cast(this.Elements.getItem(i1).Data,System.Array.type(System.Single)),fData1[System.Array.index(0,fData1)]=value[System.Array.index(i1,value)].M11,fData1[System.Array.index(1,fData1)]=value[System.Array.index(i1,value)].M21,fData1[System.Array.index(2,fData1)]=value[System.Array.index(i1,value)].M31,fData1[System.Array.index(3,fData1)]=value[System.Array.index(i1,value)].M41,fData1[System.Array.index(4,fData1)]=value[System.Array.index(i1,value)].M12,fData1[System.Array.index(5,fData1)]=value[System.Array.index(i1,value)].M22,fData1[System.Array.index(6,fData1)]=value[System.Array.index(i1,value)].M32,fData1[System.Array.index(7,fData1)]=value[System.Array.index(i1,value)].M42,fData1[System.Array.index(8,fData1)]=value[System.Array.index(i1,value)].M13,fData1[System.Array.index(9,fData1)]=value[System.Array.index(i1,value)].M23,fData1[System.Array.index(10,fData1)]=value[System.Array.index(i1,value)].M33,fData1[System.Array.index(11,fData1)]=value[System.Array.index(i1,value)].M43;else if(this.RowCount===3&&this.ColumnCount===4)for(i2=0;i2<value.length;i2=i2+1|0)fData2=Bridge.cast(this.Elements.getItem(i2).Data,System.Array.type(System.Single)),fData2[System.Array.index(0,fData2)]=value[System.Array.index(i2,value)].M11,fData2[System.Array.index(1,fData2)]=value[System.Array.index(i2,value)].M21,fData2[System.Array.index(2,fData2)]=value[System.Array.index(i2,value)].M31,fData2[System.Array.index(3,fData2)]=value[System.Array.index(i2,value)].M12,fData2[System.Array.index(4,fData2)]=value[System.Array.index(i2,value)].M22,fData2[System.Array.index(5,fData2)]=value[System.Array.index(i2,value)].M32,fData2[System.Array.index(6,fData2)]=value[System.Array.index(i2,value)].M13,fData2[System.Array.index(7,fData2)]=value[System.Array.index(i2,value)].M23,fData2[System.Array.index(8,fData2)]=value[System.Array.index(i2,value)].M33,fData2[System.Array.index(9,fData2)]=value[System.Array.index(i2,value)].M14,fData2[System.Array.index(10,fData2)]=value[System.Array.index(i2,value)].M24,fData2[System.Array.index(11,fData2)]=value[System.Array.index(i2,value)].M34;else if(this.RowCount===3&&this.ColumnCount===3)for(i3=0;i3<value.length;i3=i3+1|0)fData3=Bridge.cast(this.Elements.getItem(i3).Data,System.Array.type(System.Single)),fData3[System.Array.index(0,fData3)]=value[System.Array.index(i3,value)].M11,fData3[System.Array.index(1,fData3)]=value[System.Array.index(i3,value)].M21,fData3[System.Array.index(2,fData3)]=value[System.Array.index(i3,value)].M31,fData3[System.Array.index(3,fData3)]=value[System.Array.index(i3,value)].M12,fData3[System.Array.index(4,fData3)]=value[System.Array.index(i3,value)].M22,fData3[System.Array.index(5,fData3)]=value[System.Array.index(i3,value)].M32,fData3[System.Array.index(6,fData3)]=value[System.Array.index(i3,value)].M13,fData3[System.Array.index(7,fData3)]=value[System.Array.index(i3,value)].M23,fData3[System.Array.index(8,fData3)]=value[System.Array.index(i3,value)].M33;else if(this.RowCount===3&&this.ColumnCount===2)for(i4=0;i4<value.length;i4=i4+1|0)fData4=Bridge.cast(this.Elements.getItem(i4).Data,System.Array.type(System.Single)),fData4[System.Array.index(0,fData4)]=value[System.Array.index(i4,value)].M11,fData4[System.Array.index(1,fData4)]=value[System.Array.index(i4,value)].M21,fData4[System.Array.index(2,fData4)]=value[System.Array.index(i4,value)].M31,fData4[System.Array.index(3,fData4)]=value[System.Array.index(i4,value)].M12,fData4[System.Array.index(4,fData4)]=value[System.Array.index(i4,value)].M22,fData4[System.Array.index(5,fData4)]=value[System.Array.index(i4,value)].M32;this.StateKey=($t=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey,Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey.inc(),$t)},SetValue$3:function(value){var $t,fData;if(this.ParameterClass!==Microsoft.Xna.Framework.Graphics.EffectParameterClass.Vector||this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Single)throw new System.InvalidCastException.ctor;fData=Bridge.cast(this.Data,System.Array.type(System.Single));fData[System.Array.index(0,fData)]=value.X;fData[System.Array.index(1,fData)]=value.Y;fData[System.Array.index(2,fData)]=value.Z;fData[System.Array.index(3,fData)]=value.W;this.StateKey=($t=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey,Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey.inc(),$t)},SetValue$12:function(value){var $t,$t1;if(this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Single)throw new System.InvalidCastException.ctor;($t=Bridge.cast(this.Data,System.Array.type(System.Single)))[System.Array.index(0,$t)]=value;this.StateKey=($t1=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey,Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey.inc(),$t1)},SetValue$13:function(value){for(var $t,i=0;i<value.length;i=i+1|0)this.Elements.getItem(i).SetValue$12(value[System.Array.index(i,value)]);this.StateKey=($t=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey,Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey.inc(),$t)},SetValue:function(value){var $t;if(this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Texture&&this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Texture1D&&this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Texture2D&&this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Texture3D&&this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.TextureCube)throw new System.InvalidCastException.ctor;this.Data=value;this.StateKey=($t=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey,Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey.inc(),$t)},SetValue$4:function(value){var $t,fData;if(this.ParameterClass!==Microsoft.Xna.Framework.Graphics.EffectParameterClass.Vector||this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Single)throw new System.InvalidCastException.ctor;fData=Bridge.cast(this.Data,System.Array.type(System.Single));fData[System.Array.index(0,fData)]=value.X;fData[System.Array.index(1,fData)]=value.Y;this.StateKey=($t=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey,Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey.inc(),$t)},SetValue$5:function(value){for(var $t,i=0;i<value.length;i=i+1|0)this.Elements.getItem(i).SetValue$4(value[System.Array.index(i,value)].$clone());this.StateKey=($t=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey,Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey.inc(),$t)},SetValue$6:function(value){var $t,fData;if(this.ParameterClass!==Microsoft.Xna.Framework.Graphics.EffectParameterClass.Vector||this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Single)throw new System.InvalidCastException.ctor;fData=Bridge.cast(this.Data,System.Array.type(System.Single));fData[System.Array.index(0,fData)]=value.X;fData[System.Array.index(1,fData)]=value.Y;fData[System.Array.index(2,fData)]=value.Z;this.StateKey=($t=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey,Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey.inc(),$t)},SetValue$7:function(value){for(var $t,i=0;i<value.length;i=i+1|0)this.Elements.getItem(i).SetValue$6(value[System.Array.index(i,value)].$clone());this.StateKey=($t=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey,Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey.inc(),$t)},SetValue$8:function(value){var $t,fData;if(this.ParameterClass!==Microsoft.Xna.Framework.Graphics.EffectParameterClass.Vector||this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Single)throw new System.InvalidCastException.ctor;fData=Bridge.cast(this.Data,System.Array.type(System.Single));fData[System.Array.index(0,fData)]=value.X;fData[System.Array.index(1,fData)]=value.Y;fData[System.Array.index(2,fData)]=value.Z;fData[System.Array.index(3,fData)]=value.W;this.StateKey=($t=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey,Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey.inc(),$t)},SetValue$9:function(value){for(var $t,i=0;i<value.length;i=i+1|0)this.Elements.getItem(i).SetValue$8(value[System.Array.index(i,value)].$clone());this.StateKey=($t=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey,Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey.inc(),$t)},SetValueTranspose:function(value){var $t,fData,fData1,fData2,fData3,fData4;if(this.ParameterClass!==Microsoft.Xna.Framework.Graphics.EffectParameterClass.Matrix||this.ParameterType!==Microsoft.Xna.Framework.Graphics.EffectParameterType.Single)throw new System.InvalidCastException.ctor;this.RowCount===4&&this.ColumnCount===4?(fData=Bridge.cast(this.Data,System.Array.type(System.Single)),fData[System.Array.index(0,fData)]=value.M11,fData[System.Array.index(1,fData)]=value.M12,fData[System.Array.index(2,fData)]=value.M13,fData[System.Array.index(3,fData)]=value.M14,fData[System.Array.index(4,fData)]=value.M21,fData[System.Array.index(5,fData)]=value.M22,fData[System.Array.index(6,fData)]=value.M23,fData[System.Array.index(7,fData)]=value.M24,fData[System.Array.index(8,fData)]=value.M31,fData[System.Array.index(9,fData)]=value.M32,fData[System.Array.index(10,fData)]=value.M33,fData[System.Array.index(11,fData)]=value.M34,fData[System.Array.index(12,fData)]=value.M41,fData[System.Array.index(13,fData)]=value.M42,fData[System.Array.index(14,fData)]=value.M43,fData[System.Array.index(15,fData)]=value.M44):this.RowCount===4&&this.ColumnCount===3?(fData1=Bridge.cast(this.Data,System.Array.type(System.Single)),fData1[System.Array.index(0,fData1)]=value.M11,fData1[System.Array.index(1,fData1)]=value.M12,fData1[System.Array.index(2,fData1)]=value.M13,fData1[System.Array.index(3,fData1)]=value.M21,fData1[System.Array.index(4,fData1)]=value.M22,fData1[System.Array.index(5,fData1)]=value.M23,fData1[System.Array.index(6,fData1)]=value.M31,fData1[System.Array.index(7,fData1)]=value.M32,fData1[System.Array.index(8,fData1)]=value.M33,fData1[System.Array.index(9,fData1)]=value.M41,fData1[System.Array.index(10,fData1)]=value.M42,fData1[System.Array.index(11,fData1)]=value.M43):this.RowCount===3&&this.ColumnCount===4?(fData2=Bridge.cast(this.Data,System.Array.type(System.Single)),fData2[System.Array.index(0,fData2)]=value.M11,fData2[System.Array.index(1,fData2)]=value.M12,fData2[System.Array.index(2,fData2)]=value.M13,fData2[System.Array.index(3,fData2)]=value.M14,fData2[System.Array.index(4,fData2)]=value.M21,fData2[System.Array.index(5,fData2)]=value.M22,fData2[System.Array.index(6,fData2)]=value.M23,fData2[System.Array.index(7,fData2)]=value.M24,fData2[System.Array.index(8,fData2)]=value.M31,fData2[System.Array.index(9,fData2)]=value.M32,fData2[System.Array.index(10,fData2)]=value.M33,fData2[System.Array.index(11,fData2)]=value.M34):this.RowCount===3&&this.ColumnCount===3?(fData3=Bridge.cast(this.Data,System.Array.type(System.Single)),fData3[System.Array.index(0,fData3)]=value.M11,fData3[System.Array.index(1,fData3)]=value.M12,fData3[System.Array.index(2,fData3)]=value.M13,fData3[System.Array.index(3,fData3)]=value.M21,fData3[System.Array.index(4,fData3)]=value.M22,fData3[System.Array.index(5,fData3)]=value.M23,fData3[System.Array.index(6,fData3)]=value.M31,fData3[System.Array.index(7,fData3)]=value.M32,fData3[System.Array.index(8,fData3)]=value.M33):this.RowCount===3&&this.ColumnCount===2&&(fData4=Bridge.cast(this.Data,System.Array.type(System.Single)),fData4[System.Array.index(0,fData4)]=value.M11,fData4[System.Array.index(1,fData4)]=value.M12,fData4[System.Array.index(2,fData4)]=value.M13,fData4[System.Array.index(3,fData4)]=value.M21,fData4[System.Array.index(4,fData4)]=value.M22,fData4[System.Array.index(5,fData4)]=value.M23);this.StateKey=($t=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey,Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey.inc(),$t)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.EffectParameterClass",{$kind:"enum",statics:{fields:{Scalar:0,Vector:1,Matrix:2,Object:3,Struct:4}}});Bridge.define("Microsoft.Xna.Framework.Graphics.EffectParameterType",{$kind:"enum",statics:{fields:{Void:0,Bool:1,Int32:2,Single:3,String:4,Texture:5,Texture1D:6,Texture2D:7,Texture3D:8,TextureCube:9}}});Bridge.define("Microsoft.Xna.Framework.Graphics.EffectPass",{fields:{_effect:null,_pixelShader:null,_vertexShader:null,_blendState:null,_depthStencilState:null,_rasterizerState:null,Name:null,Annotations:null},ctors:{$ctor1:function(effect,name,vertexShader,pixelShader,blendState,depthStencilState,rasterizerState,annotations){this.$initialize();this._effect=effect;this.Name=name;this._vertexShader=vertexShader;this._pixelShader=pixelShader;this._blendState=blendState;this._depthStencilState=depthStencilState;this._rasterizerState=rasterizerState;this.Annotations=annotations},ctor:function(effect,cloneSource){this.$initialize();this._effect=effect;this.Name=cloneSource.Name;this._blendState=cloneSource._blendState;this._depthStencilState=cloneSource._depthStencilState;this._rasterizerState=cloneSource._rasterizerState;this.Annotations=cloneSource.Annotations;this._vertexShader=cloneSource._vertexShader;this._pixelShader=cloneSource._pixelShader}},methods:{Apply:function(){var $t,$t1,$t2,$t3,current=this._effect.CurrentTechnique,device,c,cb,c1,cb1;if(this._effect.OnApply(),!Bridge.referenceEquals(this._effect.CurrentTechnique,current)){this._effect.CurrentTechnique.Passes.getItem(0).Apply();return}if(device=this._effect.GraphicsDevice,this._vertexShader!=null)for(device.VertexShader=this._vertexShader,this.SetShaderSamplers(this._vertexShader,device.VertexTextures,device.VertexSamplerStates),c=0;c<this._vertexShader.CBuffers.length;c=c+1|0)cb=($t=this._effect.ConstantBuffers)[System.Array.index(($t1=this._vertexShader.CBuffers)[System.Array.index(c,$t1)],$t)],cb.Update(this._effect.Parameters),device.SetConstantBuffer(Microsoft.Xna.Framework.Graphics.ShaderStage.Vertex,c,cb);if(this._pixelShader!=null)for(device.PixelShader=this._pixelShader,this.SetShaderSamplers(this._pixelShader,device.Textures,device.SamplerStates),c1=0;c1<this._pixelShader.CBuffers.length;c1=c1+1|0)cb1=($t2=this._effect.ConstantBuffers)[System.Array.index(($t3=this._pixelShader.CBuffers)[System.Array.index(c1,$t3)],$t2)],cb1.Update(this._effect.Parameters),device.SetConstantBuffer(Microsoft.Xna.Framework.Graphics.ShaderStage.Pixel,c1,cb1);this._rasterizerState!=null&&(device.RasterizerState=this._rasterizerState);this._blendState!=null&&(device.BlendState=this._blendState);this._depthStencilState!=null&&(device.DepthStencilState=this._depthStencilState)},SetShaderSamplers:function(shader,textures,samplerStates){var $t=Bridge.getEnumerator(shader.Samplers);try{while($t.moveNext()){var sampler=$t.Current.$clone(),param=this._effect.Parameters.getItem(sampler.parameter),texture=Bridge.as(param.Data,Microsoft.Xna.Framework.Graphics.Texture);textures.setItem(sampler.textureSlot,texture);sampler.state!=null&&samplerStates.setItem(sampler.samplerSlot,sampler.state)}}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}}});Bridge.define("Microsoft.Xna.Framework.Graphics.EffectResource",{statics:{fields:{AlphaTestEffect:null,BasicEffect:null,DualTextureEffect:null,EnvironmentMapEffect:null,SkinnedEffect:null,SpriteEffect:null,AlphaTestEffectName:null,BasicEffectName:null,DualTextureEffectName:null,EnvironmentMapEffectName:null,SkinnedEffectName:null,SpriteEffectName:null},ctors:{init:function(){this.AlphaTestEffectName="AlphaTestEffect.ogl.mgfxo";this.BasicEffectName="BasicEffect.ogl.mgfxo";this.DualTextureEffectName="DualTextureEffect.ogl.mgfxo";this.EnvironmentMapEffectName="EnvironmentMapEffect.ogl.mgfxo";this.SkinnedEffectName="SkinnedEffect.ogl.mgfxo";this.SpriteEffectName="SpriteEffect.ogl.mgfxo"},ctor:function(){Microsoft.Xna.Framework.Graphics.EffectResource.AlphaTestEffect=new Microsoft.Xna.Framework.Graphics.EffectResource(Microsoft.Xna.Framework.Graphics.EffectResource.AlphaTestEffectName);Microsoft.Xna.Framework.Graphics.EffectResource.BasicEffect=new Microsoft.Xna.Framework.Graphics.EffectResource(Microsoft.Xna.Framework.Graphics.EffectResource.BasicEffectName);Microsoft.Xna.Framework.Graphics.EffectResource.DualTextureEffect=new Microsoft.Xna.Framework.Graphics.EffectResource(Microsoft.Xna.Framework.Graphics.EffectResource.DualTextureEffectName);Microsoft.Xna.Framework.Graphics.EffectResource.EnvironmentMapEffect=new Microsoft.Xna.Framework.Graphics.EffectResource(Microsoft.Xna.Framework.Graphics.EffectResource.EnvironmentMapEffectName);Microsoft.Xna.Framework.Graphics.EffectResource.SkinnedEffect=new Microsoft.Xna.Framework.Graphics.EffectResource(Microsoft.Xna.Framework.Graphics.EffectResource.SkinnedEffectName);Microsoft.Xna.Framework.Graphics.EffectResource.SpriteEffect=new Microsoft.Xna.Framework.Graphics.EffectResource(Microsoft.Xna.Framework.Graphics.EffectResource.SpriteEffectName)}}},fields:{_locker:null,_name:null,_bytecode:null},props:{Bytecode:{get:function(){if(this._bytecode==null){if(this._locker,this._bytecode!=null)return this._bytecode;var stream=System.IO.File.OpenRead(this._name),ms=new System.IO.MemoryStream.ctor;try{stream.CopyTo(ms);this._bytecode=ms.ToArray()}finally{Bridge.hasValue(ms)&&ms.System$IDisposable$Dispose()}}return this._bytecode}}},ctors:{init:function(){this._locker={}},ctor:function(name){this.$initialize();this._name=name}}});Bridge.define("Microsoft.Xna.Framework.Graphics.EffectTechnique",{fields:{Passes:null,Annotations:null,Name:null},ctors:{ctor:function(effect,cloneSource){this.$initialize();this.Name=cloneSource.Name;this.Annotations=cloneSource.Annotations;this.Passes=cloneSource.Passes.Clone(effect)},$ctor1:function(effect,name,passes,annotations){this.$initialize();this.Name=name;this.Passes=passes;this.Annotations=annotations}}});Bridge.define("Microsoft.Xna.Framework.Graphics.FillMode",{$kind:"enum",statics:{fields:{Solid:0,WireFrame:1}}});Bridge.define("Microsoft.Xna.Framework.Graphics.GraphicsAdapter",{inherits:[System.IDisposable],statics:{fields:{_adapters:null,UseDriverType:0},props:{DefaultAdapter:{get:function(){return Microsoft.Xna.Framework.Graphics.GraphicsAdapter.Adapters.getItem(0)}},Adapters:{get:function(){return Microsoft.Xna.Framework.Graphics.GraphicsAdapter._adapters==null&&(Microsoft.Xna.Framework.Graphics.GraphicsAdapter._adapters=new(System.Collections.ObjectModel.ReadOnlyCollection$1(Microsoft.Xna.Framework.Graphics.GraphicsAdapter))(System.Array.init([new Microsoft.Xna.Framework.Graphics.GraphicsAdapter],Microsoft.Xna.Framework.Graphics.GraphicsAdapter))),Microsoft.Xna.Framework.Graphics.GraphicsAdapter._adapters}},UseReferenceDevice:{get:function(){return Microsoft.Xna.Framework.Graphics.GraphicsAdapter.UseDriverType===Microsoft.Xna.Framework.Graphics.GraphicsAdapter.DriverType.Reference},set:function(value){Microsoft.Xna.Framework.Graphics.GraphicsAdapter.UseDriverType=value?Microsoft.Xna.Framework.Graphics.GraphicsAdapter.DriverType.Reference:Microsoft.Xna.Framework.Graphics.GraphicsAdapter.DriverType.Hardware}}}},fields:{_supportedDisplayModes:null,_description:null},props:{Description:{get:function(){return this._description},set:function(value){this._description=value}},CurrentDisplayMode:{get:function(){return new Microsoft.Xna.Framework.Graphics.DisplayMode(800,600,Microsoft.Xna.Framework.Graphics.SurfaceFormat.Color)}},SupportedDisplayModes:{get:function(){var displayChanged=!1,modes;return(this._supportedDisplayModes==null||displayChanged)&&(modes=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Graphics.DisplayMode).$ctor1)(System.Array.init([this.CurrentDisplayMode],Microsoft.Xna.Framework.Graphics.DisplayMode)),modes.Sort$2(function(a,b){return Microsoft.Xna.Framework.Graphics.DisplayMode.op_Equality(a,b)?0:a.Format<=b.Format&&a.Width<=b.Width&&a.Height<=b.Height?-1:1}),this._supportedDisplayModes=new Microsoft.Xna.Framework.Graphics.DisplayModeCollection(modes)),this._supportedDisplayModes}},IsWideScreen:{get:function(){var limit=1.33333337,aspect=this.CurrentDisplayMode.AspectRatio;return aspect>limit}}},alias:["Dispose","System$IDisposable$Dispose"],ctors:{init:function(){this._description=""},ctor:function(){this.$initialize()}},methods:{Dispose:function(){},QueryRenderTargetFormat:function(graphicsProfile,format,depthFormat,multiSampleCount,selectedFormat,selectedDepthFormat,selectedMultiSampleCount){return selectedFormat.v=format,selectedDepthFormat.v=depthFormat,selectedMultiSampleCount.v=multiSampleCount,(selectedFormat.v===Microsoft.Xna.Framework.Graphics.SurfaceFormat.Alpha8||selectedFormat.v===Microsoft.Xna.Framework.Graphics.SurfaceFormat.NormalizedByte2||selectedFormat.v===Microsoft.Xna.Framework.Graphics.SurfaceFormat.NormalizedByte4||selectedFormat.v===Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt1||selectedFormat.v===Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt3||selectedFormat.v===Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt5||selectedFormat.v===Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt1a||selectedFormat.v===Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt1SRgb||selectedFormat.v===Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt3SRgb||selectedFormat.v===Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt5SRgb)&&(selectedFormat.v=Microsoft.Xna.Framework.Graphics.SurfaceFormat.Color),format===selectedFormat.v&&depthFormat===selectedDepthFormat.v&&multiSampleCount===selectedMultiSampleCount.v},IsProfileSupported:function(graphicsProfile){if(Microsoft.Xna.Framework.Graphics.GraphicsAdapter.UseReferenceDevice)return!0;switch(graphicsProfile){case Microsoft.Xna.Framework.Graphics.GraphicsProfile.Reach:return!0;case Microsoft.Xna.Framework.Graphics.GraphicsProfile.HiDef:return!0;default:throw new System.InvalidOperationException.ctor;}}}});Bridge.define("Microsoft.Xna.Framework.Graphics.GraphicsAdapter.DriverType",{$kind:"nested enum",statics:{fields:{Hardware:0,Reference:1,FastSoftware:2}}});Bridge.define("Microsoft.Xna.Framework.Graphics.GraphicsCapabilities",{statics:{fields:{MultiSampleCountLimit:0},ctors:{init:function(){this.MultiSampleCountLimit=32}}},fields:{SupportsNonPowerOfTwo:!1,SupportsTextureFilterAnisotropic:!1,SupportsDepth24:!1,SupportsPackedDepthStencil:!1,SupportsDepthNonLinear:!1,SupportsDxt1:!1,SupportsS3tc:!1,SupportsPvrtc:!1,SupportsEtc1:!1,SupportsAtitc:!1,SupportsTextureMaxLevel:!1,SupportsSRgb:!1,SupportsTextureArrays:!1,SupportsDepthClamp:!1,SupportsVertexTextures:!1,MaxTextureAnisotropy:0,_maxMultiSampleCount:0,SupportsInstancing:!1,SupportsFramebufferObjectARB:!1,SupportsFramebufferObjectEXT:!1,SupportsFramebufferObjectIMG:!1},props:{MaxMultiSampleCount:{get:function(){return this._maxMultiSampleCount}}},methods:{Initialize:function(device){this.PlatformInitialize(device)},PlatformInitialize:function(device){var exts=WebHelper.gl.getSupportedExtensions(),anisotropy,ext;this.SupportsNonPowerOfTwo=System.Array.contains(exts,"OES_fbo_render_mipmap",System.String);this.SupportsTextureFilterAnisotropic=System.Array.contains(exts,"EXT_texture_filter_anisotropic",System.String);this.SupportsDepth24=!1;this.SupportsPackedDepthStencil=System.Array.contains(exts,"WEBGL_depth_texture",System.String);this.SupportsDepthNonLinear=!1;this.SupportsTextureMaxLevel=!0;this.SupportsS3tc=System.Array.contains(exts,"WEBGL_compressed_texture_s3tc",System.String);this.SupportsDxt1=this.SupportsS3tc;this.SupportsPvrtc=System.Array.contains(exts,"WEBGL_compressed_texture_pvrtc",System.String);this.SupportsEtc1=System.Array.contains(exts,"WEBGL_compressed_texture_etc1",System.String);this.SupportsAtitc=System.Array.contains(exts,"WEBGL_compressed_texture_atc",System.String);this.SupportsFramebufferObjectARB=!0;this.SupportsFramebufferObjectEXT=!0;this.SupportsFramebufferObjectIMG=!1;anisotropy=0;this.SupportsTextureFilterAnisotropic&&(ext=WebHelper.gl.getExtension("EXT_texture_filter_anisotropic"),anisotropy=System.Nullable.getValue(Bridge.cast(Bridge.unbox(WebHelper.gl.getParameter(34047),System.Int32),System.Int32)));this.MaxTextureAnisotropy=anisotropy;this.SupportsSRgb=System.Array.contains(exts,"EXT_sRGB",System.String)||System.Array.contains(exts,"WEBGL_compressed_texture_s3tc_srgb",System.String);this.SupportsTextureArrays=!1;this.SupportsDepthClamp=!1;this.SupportsVertexTextures=!1;this._maxMultiSampleCount=System.Nullable.getValue(Bridge.cast(Bridge.unbox(WebHelper.gl.getParameter(WebGL2RenderingContext.SAMPLES),System.Int32),System.Int32));this.SupportsInstancing=!1}}});Bridge.define("Microsoft.Xna.Framework.Graphics.GraphicsDebug",{methods:{TryDequeueMessage:function(message){return this.PlatformTryDequeueMessage(message)},PlatformTryDequeueMessage:function(message){return message.v=null,!1}}});Bridge.define("Microsoft.Xna.Framework.Graphics.GraphicsDebugMessage",{fields:{Message:null,Severity:null,Id:0,IdName:null,Category:null}});Bridge.define("Microsoft.Xna.Framework.Graphics.GraphicsDevice",{inherits:[System.IDisposable],statics:{fields:{DiscardColor:null,_disposeContexts:null,_disposeContextsLock:null,_posFixup:null,_bufferBindingInfos:null,_newEnabledVertexAttributes:null,_enabledVertexAttributes:null,_attribsDirty:!1},ctors:{init:function(){this.DiscardColor=new Microsoft.Xna.Framework.Color;this.DiscardColor=new Microsoft.Xna.Framework.Color.$ctor7(0,0,0,255);this._disposeContexts=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.IntPtr).ctor);this._disposeContextsLock={};this._posFixup=System.Array.init(4,0,System.Single);this._enabledVertexAttributes=new(System.Collections.Generic.List$1(System.Int32).ctor)}},methods:{GetElementCountArray:function(primitiveType,primitiveCount){switch(primitiveType){case Microsoft.Xna.Framework.Graphics.PrimitiveType.LineList:return Bridge.Int.mul(primitiveCount,2);case Microsoft.Xna.Framework.Graphics.PrimitiveType.LineStrip:return primitiveCount+1|0;case Microsoft.Xna.Framework.Graphics.PrimitiveType.TriangleList:return Bridge.Int.mul(primitiveCount,3);case Microsoft.Xna.Framework.Graphics.PrimitiveType.TriangleStrip:return primitiveCount+2|0}throw new System.NotSupportedException.ctor;},GetDefaultTitleSafeArea:function(x,y,width,height){var marginX=Bridge.Int.div(width+19|0,20)|0,marginY=Bridge.Int.div(height+19|0,20)|0;return x=x+marginX|0,y=y+marginY|0,width=width-Bridge.Int.mul(marginX,2)|0,height=height-Bridge.Int.mul(marginY,2)|0,new Microsoft.Xna.Framework.Rectangle.$ctor2(x,y,width,height)},GetTitleSafeArea:function(x,y,width,height){return Microsoft.Xna.Framework.Graphics.GraphicsDevice.PlatformGetTitleSafeArea(x,y,width,height)},PlatformGetTitleSafeArea:function(x,y,width,height){return new Microsoft.Xna.Framework.Rectangle.$ctor2(x,y,width,height)}}},fields:{_viewport:null,_isDisposed:!1,_blendFactor:null,_blendFactorDirty:!1,_blendState:null,_actualBlendState:null,_blendStateDirty:!1,_blendStateAdditive:null,_blendStateAlphaBlend:null,_blendStateNonPremultiplied:null,_blendStateOpaque:null,_depthStencilState:null,_actualDepthStencilState:null,_depthStencilStateDirty:!1,_depthStencilStateDefault:null,_depthStencilStateDepthRead:null,_depthStencilStateNone:null,_rasterizerState:null,_actualRasterizerState:null,_rasterizerStateDirty:!1,_rasterizerStateCullClockwise:null,_rasterizerStateCullCounterClockwise:null,_rasterizerStateCullNone:null,_scissorRectangle:null,_scissorRectangleDirty:!1,_vertexBuffers:null,_vertexBuffersDirty:!1,_indexBuffer:null,_indexBufferDirty:!1,_currentRenderTargetBindings:null,_currentRenderTargetCount:0,_tempRenderTargetBinding:null,GraphicsCapabilities:null,VertexTextures:null,VertexSamplerStates:null,Textures:null,SamplerStates:null,_vertexShader:null,_vertexShaderDirty:!1,_pixelShader:null,_pixelShaderDirty:!1,_vertexConstantBuffers:null,_pixelConstantBuffers:null,EffectCache:null,_resourcesLock:null,_resources:null,_maxVertexBufferSlots:0,MaxTextureSlots:0,MaxVertexTextureSlots:0,Adapter:null,_graphicsMetrics:null,_graphicsDebug:null,PresentationParameters:null,_graphicsProfile:0,ResourcesLost:!1,_disposeThisFrame:null,_disposeNextFrame:null,_disposeActionsLock:null,_programCache:null,_shaderProgram:null,framebufferHelper:null,glFramebuffer:null,MaxVertexAttributes:0,_maxTextureSize:0,_lastBlendEnable:!1,_lastBlendState:null,_lastDepthStencilState:null,_lastRasterizerState:null,_lastClearColor:null,_lastClearDepth:0,_lastClearStencil:0,clearDepthStencilState:null,_drawBuffers:null,glFramebuffers:null,glResolveFramebuffers:null},events:{DeviceLost:null,DeviceReset:null,DeviceResetting:null,ResourceCreated:null,ResourceDestroyed:null,Disposing:null,PresentationChanged:null},props:{VertexShaderDirty:{get:function(){return this._vertexShaderDirty}},PixelShaderDirty:{get:function(){return this._pixelShaderDirty}},IsDisposed:{get:function(){return this._isDisposed}},IsContentLost:{get:function(){return this.IsDisposed}},IsRenderTargetBound:{get:function(){return this._currentRenderTargetCount>0}},ActiveDepthFormat:{get:function(){return this.IsRenderTargetBound?this._currentRenderTargetBindings[System.Array.index(0,this._currentRenderTargetBindings)].DepthFormat:this.PresentationParameters.DepthStencilFormat}},Metrics:{get:function(){return this._graphicsMetrics.$clone()},set:function(value){this._graphicsMetrics=value.$clone()}},GraphicsDebug:{get:function(){return this._graphicsDebug},set:function(value){this._graphicsDebug=value}},RasterizerState:{get:function(){return this._rasterizerState},set:function(value){if(value==null)throw new System.ArgumentNullException.$ctor1("value");if(!Bridge.referenceEquals(this._rasterizerState,value)){if(!value.DepthClipEnable&&!this.GraphicsCapabilities.SupportsDepthClamp)throw new System.InvalidOperationException.$ctor1("Cannot set RasterizerState.DepthClipEnable to false on this graphics device");this._rasterizerState=value;var newRasterizerState=this._rasterizerState;Bridge.referenceEquals(this._rasterizerState,Microsoft.Xna.Framework.Graphics.RasterizerState.CullClockwise)?newRasterizerState=this._rasterizerStateCullClockwise:Bridge.referenceEquals(this._rasterizerState,Microsoft.Xna.Framework.Graphics.RasterizerState.CullCounterClockwise)?newRasterizerState=this._rasterizerStateCullCounterClockwise:Bridge.referenceEquals(this._rasterizerState,Microsoft.Xna.Framework.Graphics.RasterizerState.CullNone)&&(newRasterizerState=this._rasterizerStateCullNone);newRasterizerState.BindToGraphicsDevice(this);this._actualRasterizerState=newRasterizerState;this._rasterizerStateDirty=!0}}},BlendFactor:{get:function(){return this._blendFactor.$clone()},set:function(value){Microsoft.Xna.Framework.Color.op_Equality(this._blendFactor.$clone(),value.$clone())||(this._blendFactor=value.$clone(),this._blendFactorDirty=!0)}},BlendState:{get:function(){return this._blendState},set:function(value){if(value==null)throw new System.ArgumentNullException.$ctor1("value");if(!Bridge.referenceEquals(this._blendState,value)){this._blendState=value;var newBlendState=this._blendState;Bridge.referenceEquals(this._blendState,Microsoft.Xna.Framework.Graphics.BlendState.Additive)?newBlendState=this._blendStateAdditive:Bridge.referenceEquals(this._blendState,Microsoft.Xna.Framework.Graphics.BlendState.AlphaBlend)?newBlendState=this._blendStateAlphaBlend:Bridge.referenceEquals(this._blendState,Microsoft.Xna.Framework.Graphics.BlendState.NonPremultiplied)?newBlendState=this._blendStateNonPremultiplied:Bridge.referenceEquals(this._blendState,Microsoft.Xna.Framework.Graphics.BlendState.Opaque)&&(newBlendState=this._blendStateOpaque);newBlendState.BindToGraphicsDevice(this);this._actualBlendState=newBlendState;this.BlendFactor=this._actualBlendState.BlendFactor.$clone();this._blendStateDirty=!0}}},DepthStencilState:{get:function(){return this._depthStencilState},set:function(value){if(value==null)throw new System.ArgumentNullException.$ctor1("value");if(!Bridge.referenceEquals(this._depthStencilState,value)){this._depthStencilState=value;var newDepthStencilState=this._depthStencilState;Bridge.referenceEquals(this._depthStencilState,Microsoft.Xna.Framework.Graphics.DepthStencilState.Default)?newDepthStencilState=this._depthStencilStateDefault:Bridge.referenceEquals(this._depthStencilState,Microsoft.Xna.Framework.Graphics.DepthStencilState.DepthRead)?newDepthStencilState=this._depthStencilStateDepthRead:Bridge.referenceEquals(this._depthStencilState,Microsoft.Xna.Framework.Graphics.DepthStencilState.None)&&(newDepthStencilState=this._depthStencilStateNone);newDepthStencilState.BindToGraphicsDevice(this);this._actualDepthStencilState=newDepthStencilState;this._depthStencilStateDirty=!0}}},DisplayMode:{get:function(){return this.Adapter.CurrentDisplayMode}},GraphicsDeviceStatus:{get:function(){return Microsoft.Xna.Framework.Graphics.GraphicsDeviceStatus.Normal}},Viewport:{get:function(){return this._viewport.$clone()},set:function(value){value={v:value};this._viewport=value.v.$clone();this.PlatformSetViewport(value)}},GraphicsProfile:{get:function(){return this._graphicsProfile}},ScissorRectangle:{get:function(){return this._scissorRectangle.$clone()},set:function(value){Microsoft.Xna.Framework.Rectangle.op_Equality(this._scissorRectangle.$clone(),value.$clone())||(this._scissorRectangle=value.$clone(),this._scissorRectangleDirty=!0)}},RenderTargetCount:{get:function(){return this._currentRenderTargetCount}},Indices:{get:function(){return this._indexBuffer},set:function(value){this.SetIndexBuffer(value)}},VertexShader:{get:function(){return this._vertexShader},set:function(value){Bridge.referenceEquals(this._vertexShader,value)||(this._vertexShader=value,this._vertexConstantBuffers.Clear(),this._vertexShaderDirty=!0)}},PixelShader:{get:function(){return this._pixelShader},set:function(value){Bridge.referenceEquals(this._pixelShader,value)||(this._pixelShader=value,this._pixelConstantBuffers.Clear(),this._pixelShaderDirty=!0)}},ShaderProgramHash:{get:function(){if(this._vertexShader==null&&this._pixelShader==null)throw new System.InvalidOperationException.$ctor1("There is no shader bound!");return this._vertexShader==null?this._pixelShader.HashKey:this._pixelShader==null?this._vertexShader.HashKey:this._vertexShader.HashKey^this._pixelShader.HashKey}}},alias:["Dispose","System$IDisposable$Dispose"],ctors:{init:function(){var $t;this._viewport=new Microsoft.Xna.Framework.Graphics.Viewport;this._blendFactor=new Microsoft.Xna.Framework.Color;this._scissorRectangle=new Microsoft.Xna.Framework.Rectangle;this._graphicsMetrics=new Microsoft.Xna.Framework.Graphics.GraphicsMetrics;this._lastClearColor=new Microsoft.Xna.Framework.Vector4;this._blendFactor=Microsoft.Xna.Framework.Color.White.$clone();this._currentRenderTargetBindings=System.Array.init(4,function(){return new Microsoft.Xna.Framework.Graphics.RenderTargetBinding},Microsoft.Xna.Framework.Graphics.RenderTargetBinding);this._tempRenderTargetBinding=System.Array.init(1,function(){return new Microsoft.Xna.Framework.Graphics.RenderTargetBinding},Microsoft.Xna.Framework.Graphics.RenderTargetBinding);this._vertexConstantBuffers=new Microsoft.Xna.Framework.Graphics.ConstantBufferCollection(Microsoft.Xna.Framework.Graphics.ShaderStage.Vertex,16);this._pixelConstantBuffers=new Microsoft.Xna.Framework.Graphics.ConstantBufferCollection(Microsoft.Xna.Framework.Graphics.ShaderStage.Pixel,16);this._resourcesLock={};this._resources=new(System.Collections.Generic.List$1(System.WeakReference).ctor);this._disposeThisFrame=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceHandle).ctor);this._disposeNextFrame=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceHandle).ctor);this._disposeActionsLock={};this._maxTextureSize=0;this._lastBlendEnable=!1;this._lastBlendState=new Microsoft.Xna.Framework.Graphics.BlendState.ctor;this._lastDepthStencilState=new Microsoft.Xna.Framework.Graphics.DepthStencilState.ctor;this._lastRasterizerState=new Microsoft.Xna.Framework.Graphics.RasterizerState.ctor;this._lastClearColor=Microsoft.Xna.Framework.Vector4.Zero.$clone();this._lastClearDepth=1;this._lastClearStencil=0;this.clearDepthStencilState=($t=new Microsoft.Xna.Framework.Graphics.DepthStencilState.ctor,$t.StencilEnable=!0,$t);this.glFramebuffers=new(System.Collections.Generic.Dictionary$2(System.Array.type(Microsoft.Xna.Framework.Graphics.RenderTargetBinding),WebGLFramebuffer))(null,new Microsoft.Xna.Framework.Graphics.GraphicsDevice.RenderTargetBindingArrayComparer);this.glResolveFramebuffers=new(System.Collections.Generic.Dictionary$2(System.Array.type(Microsoft.Xna.Framework.Graphics.RenderTargetBinding),WebGLFramebuffer))(null,new Microsoft.Xna.Framework.Graphics.GraphicsDevice.RenderTargetBindingArrayComparer)},$ctor2:function(gdi){Microsoft.Xna.Framework.Graphics.GraphicsDevice.$ctor1.call(this,gdi.Adapter,gdi.GraphicsProfile,gdi.PresentationParameters)},ctor:function(){this.$initialize();this.PresentationParameters=new Microsoft.Xna.Framework.Graphics.PresentationParameters;this.PresentationParameters.DepthStencilFormat=Microsoft.Xna.Framework.Graphics.DepthFormat.Depth24;this.Setup();this.GraphicsCapabilities=new Microsoft.Xna.Framework.Graphics.GraphicsCapabilities;this.GraphicsCapabilities.Initialize(this);this.Initialize()},$ctor1:function(adapter,graphicsProfile,presentationParameters){if(this.$initialize(),adapter==null)throw new System.ArgumentNullException.$ctor1("adapter");if(!adapter.IsProfileSupported(graphicsProfile))throw new Microsoft.Xna.Framework.Graphics.NoSuitableGraphicsDeviceException.$ctor1(System.String.format("Adapter '{0}' does not support the {1} profile.",adapter.Description,Bridge.box(graphicsProfile,Microsoft.Xna.Framework.Graphics.GraphicsProfile,System.Enum.toStringFn(Microsoft.Xna.Framework.Graphics.GraphicsProfile))));if(presentationParameters==null)throw new System.ArgumentNullException.$ctor1("presentationParameters");this.Adapter=adapter;this.PresentationParameters=presentationParameters;this._graphicsProfile=graphicsProfile;this.Setup();this.GraphicsCapabilities=new Microsoft.Xna.Framework.Graphics.GraphicsCapabilities;this.GraphicsCapabilities.Initialize(this);this.Initialize()}},methods:{Setup:function(){this._viewport=new Microsoft.Xna.Framework.Graphics.Viewport.$ctor2(0,0,this.DisplayMode.Width,this.DisplayMode.Height);this._viewport.MaxDepth=1;this.PlatformSetup();this.VertexTextures=new Microsoft.Xna.Framework.Graphics.TextureCollection(this,this.MaxVertexTextureSlots,!0);this.VertexSamplerStates=new Microsoft.Xna.Framework.Graphics.SamplerStateCollection(this,this.MaxVertexTextureSlots,!0);this.Textures=new Microsoft.Xna.Framework.Graphics.TextureCollection(this,this.MaxTextureSlots,!1);this.SamplerStates=new Microsoft.Xna.Framework.Graphics.SamplerStateCollection(this,this.MaxTextureSlots,!1);this._blendStateAdditive=Microsoft.Xna.Framework.Graphics.BlendState.Additive.Clone();this._blendStateAlphaBlend=Microsoft.Xna.Framework.Graphics.BlendState.AlphaBlend.Clone();this._blendStateNonPremultiplied=Microsoft.Xna.Framework.Graphics.BlendState.NonPremultiplied.Clone();this._blendStateOpaque=Microsoft.Xna.Framework.Graphics.BlendState.Opaque.Clone();this.BlendState=Microsoft.Xna.Framework.Graphics.BlendState.Opaque;this._depthStencilStateDefault=Microsoft.Xna.Framework.Graphics.DepthStencilState.Default.Clone();this._depthStencilStateDepthRead=Microsoft.Xna.Framework.Graphics.DepthStencilState.DepthRead.Clone();this._depthStencilStateNone=Microsoft.Xna.Framework.Graphics.DepthStencilState.None.Clone();this.DepthStencilState=Microsoft.Xna.Framework.Graphics.DepthStencilState.Default;this._rasterizerStateCullClockwise=Microsoft.Xna.Framework.Graphics.RasterizerState.CullClockwise.Clone();this._rasterizerStateCullCounterClockwise=Microsoft.Xna.Framework.Graphics.RasterizerState.CullCounterClockwise.Clone();this._rasterizerStateCullNone=Microsoft.Xna.Framework.Graphics.RasterizerState.CullNone.Clone();this.RasterizerState=Microsoft.Xna.Framework.Graphics.RasterizerState.CullCounterClockwise;this.EffectCache=new(System.Collections.Generic.Dictionary$2(System.Int32,Microsoft.Xna.Framework.Graphics.Effect))},GetClampedMultisampleCount:function(multiSampleCount){if(multiSampleCount>1){var msc=multiSampleCount;return msc=msc|msc>>1,msc=msc|msc>>2,msc=msc|msc>>4,msc=msc-(msc>>1)|0,msc>this.GraphicsCapabilities.MaxMultiSampleCount&&(msc=this.GraphicsCapabilities.MaxMultiSampleCount),msc}else return 0},Initialize:function(){this.PlatformInitialize();this._blendStateDirty=this._depthStencilStateDirty=this._rasterizerStateDirty=!0;this.BlendState=Microsoft.Xna.Framework.Graphics.BlendState.Opaque;this.DepthStencilState=Microsoft.Xna.Framework.Graphics.DepthStencilState.Default;this.RasterizerState=Microsoft.Xna.Framework.Graphics.RasterizerState.CullCounterClockwise;this.VertexTextures.Clear();this.VertexSamplerStates.Clear();this.Textures.Clear();this.SamplerStates.Clear();this._vertexConstantBuffers.Clear();this._pixelConstantBuffers.Clear();this._vertexBuffers=new Microsoft.Xna.Framework.Graphics.VertexBufferBindings(this._maxVertexBufferSlots);this._vertexBuffersDirty=!0;this._indexBufferDirty=!0;this._vertexShaderDirty=!0;this._pixelShaderDirty=!0;this._scissorRectangleDirty=!0;this.ScissorRectangle=this._viewport.Bounds.$clone();this.ApplyRenderTargets(null)},ApplyState:function(applyShaders){this.PlatformBeginApplyState();this.PlatformApplyBlend();this._depthStencilStateDirty&&(this._actualDepthStencilState.PlatformApplyState(this),this._depthStencilStateDirty=!1);this._rasterizerStateDirty&&(this._actualRasterizerState.PlatformApplyState(this),this._rasterizerStateDirty=!1);this.PlatformApplyState(applyShaders)},Clear:function(color){var options=Microsoft.Xna.Framework.Graphics.ClearOptions.Target;options|=Microsoft.Xna.Framework.Graphics.ClearOptions.DepthBuffer;options|=Microsoft.Xna.Framework.Graphics.ClearOptions.Stencil;this.PlatformClear(options,color.ToVector4(),this._viewport.MaxDepth,0);this._graphicsMetrics._clearCount=this._graphicsMetrics._clearCount.inc()},Clear$1:function(options,color,depth,stencil){this.PlatformClear(options,color.ToVector4(),depth,stencil);this._graphicsMetrics._clearCount=this._graphicsMetrics._clearCount.inc()},Clear$2:function(options,color,depth,stencil){this.PlatformClear(options,color.$clone(),depth,stencil);this._graphicsMetrics._clearCount=this._graphicsMetrics._clearCount.inc()},Dispose:function(){this.Dispose$1(!0);System.GC.SuppressFinalize(this)},Dispose$1:function(disposing){var $t,resource,target;if(!this._isDisposed){if(disposing){this._resourcesLock;$t=Bridge.getEnumerator(this._resources.ToArray());try{while($t.moveNext())resource=$t.Current,target=Bridge.as(resource.Target,System.IDisposable),target!=null&&target.System$IDisposable$Dispose()}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}this._resources.clear();this.EffectCache.clear();this._blendState=null;this._actualBlendState=null;this._blendStateAdditive.Dispose();this._blendStateAlphaBlend.Dispose();this._blendStateNonPremultiplied.Dispose();this._blendStateOpaque.Dispose();this._depthStencilState=null;this._actualDepthStencilState=null;this._depthStencilStateDefault.Dispose();this._depthStencilStateDepthRead.Dispose();this._depthStencilStateNone.Dispose();this._rasterizerState=null;this._actualRasterizerState=null;this._rasterizerStateCullClockwise.Dispose();this._rasterizerStateCullCounterClockwise.Dispose();this._rasterizerStateCullNone.Dispose();this.PlatformDispose()}this._isDisposed=!0;Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.Disposing,{})}},AddResourceReference:function(resourceReference){this._resourcesLock;this._resources.add(resourceReference)},RemoveResourceReference:function(resourceReference){this._resourcesLock;this._resources.remove(resourceReference)},Present:function(){if(this._currentRenderTargetCount!==0)throw new System.InvalidOperationException.$ctor1("Cannot call Present when a render target is active.");this._graphicsMetrics=new Microsoft.Xna.Framework.Graphics.GraphicsMetrics;this.PlatformPresent()},Reset:function(){Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.DeviceResetting,{});this.OnPresentationChanged();Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.Microsoft.Xna.Framework.Graphics.PresentationEventArgs,this,this.PresentationChanged,new Microsoft.Xna.Framework.Graphics.PresentationEventArgs(this.PresentationParameters));Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.DeviceReset,{})},Reset$1:function(presentationParameters){if(presentationParameters==null)throw new System.ArgumentNullException.$ctor1("presentationParameters");this.PresentationParameters=presentationParameters;this.Reset()},OnDeviceResetting:function(){var $t,resource,target;Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.DeviceResetting,{});this._resourcesLock;$t=Bridge.getEnumerator(this._resources);try{while($t.moveNext())resource=$t.Current,target=Bridge.as(resource.Target,Microsoft.Xna.Framework.Graphics.GraphicsResource),target!=null&&target.GraphicsDeviceResetting()}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}this._resources.RemoveAll(function(wr){return!wr.IsAlive})},OnDeviceReset:function(){Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.DeviceReset,{})},SetRenderTarget:function(renderTarget){renderTarget==null?this.SetRenderTargets(null):(this._tempRenderTargetBinding[System.Array.index(0,this._tempRenderTargetBinding)]=new Microsoft.Xna.Framework.Graphics.RenderTargetBinding.$ctor1(renderTarget),this.SetRenderTargets(this._tempRenderTargetBinding))},SetRenderTarget$1:function(renderTarget,cubeMapFace){renderTarget==null?this.SetRenderTargets(null):(this._tempRenderTargetBinding[System.Array.index(0,this._tempRenderTargetBinding)]=new Microsoft.Xna.Framework.Graphics.RenderTargetBinding.$ctor2(renderTarget,cubeMapFace),this.SetRenderTargets(this._tempRenderTargetBinding))},SetRenderTargets:function(renderTargets){var renderTargetCount,isEqual,i;if(renderTargets===void 0&&(renderTargets=[]),renderTargetCount=0,renderTargets!=null&&(renderTargetCount=renderTargets.length,renderTargetCount===0&&(renderTargets=null)),this._currentRenderTargetCount===renderTargetCount){for(isEqual=!0,i=0;i<this._currentRenderTargetCount;i=i+1|0)if(!Bridge.referenceEquals(this._currentRenderTargetBindings[System.Array.index(i,this._currentRenderTargetBindings)].RenderTarget,renderTargets[System.Array.index(i,renderTargets)].RenderTarget)||this._currentRenderTargetBindings[System.Array.index(i,this._currentRenderTargetBindings)].ArraySlice!==renderTargets[System.Array.index(i,renderTargets)].ArraySlice){isEqual=!1;break}if(isEqual)return}this.ApplyRenderTargets(renderTargets);this._graphicsMetrics._targetCount=renderTargetCount===0?this._graphicsMetrics._targetCount.inc():this._graphicsMetrics._targetCount.add(System.Int64(renderTargetCount))},ApplyRenderTargets:function(renderTargets){var clearTarget=!1,renderTargetWidth,renderTargetHeight,renderTarget;this.PlatformResolveRenderTargets();System.Array.fill(this._currentRenderTargetBindings,Bridge.global.Microsoft.Xna.Framework.Graphics.RenderTargetBinding.getDefaultValue,0,this._currentRenderTargetBindings.length);renderTargets==null?(this._currentRenderTargetCount=0,this.PlatformApplyDefaultRenderTarget(),clearTarget=this.PresentationParameters.RenderTargetUsage===Microsoft.Xna.Framework.Graphics.RenderTargetUsage.DiscardContents,renderTargetWidth=this.PresentationParameters.BackBufferWidth,renderTargetHeight=this.PresentationParameters.BackBufferHeight):(System.Array.copy(renderTargets,0,this._currentRenderTargetBindings,0,renderTargets.length),this._currentRenderTargetCount=renderTargets.length,renderTarget=this.PlatformApplyRenderTargets(),clearTarget=renderTarget.Microsoft$Xna$Framework$Graphics$IRenderTarget$RenderTargetUsage===Microsoft.Xna.Framework.Graphics.RenderTargetUsage.DiscardContents,renderTargetWidth=renderTarget.Microsoft$Xna$Framework$Graphics$IRenderTarget$Width,renderTargetHeight=renderTarget.Microsoft$Xna$Framework$Graphics$IRenderTarget$Height);this.Viewport=new Microsoft.Xna.Framework.Graphics.Viewport.$ctor2(0,0,renderTargetWidth,renderTargetHeight);this.ScissorRectangle=new Microsoft.Xna.Framework.Rectangle.$ctor2(0,0,renderTargetWidth,renderTargetHeight);clearTarget&&this.Clear(Microsoft.Xna.Framework.Graphics.GraphicsDevice.DiscardColor.$clone())},GetRenderTargets:function(){var bindings=System.Array.init(this._currentRenderTargetCount,function(){return new Microsoft.Xna.Framework.Graphics.RenderTargetBinding},Microsoft.Xna.Framework.Graphics.RenderTargetBinding);return System.Array.copy(this._currentRenderTargetBindings,0,bindings,0,this._currentRenderTargetCount),bindings},GetRenderTargets$1:function(outTargets){System.Array.copy(this._currentRenderTargetBindings,0,outTargets,0,this._currentRenderTargetCount)},SetVertexBuffer:function(vertexBuffer){this._vertexBuffersDirty=!!(this._vertexBuffersDirty|vertexBuffer==null?this._vertexBuffers.Clear():this._vertexBuffers.Set(vertexBuffer,0))},SetVertexBuffer$1:function(vertexBuffer,vertexOffset){if(vertexOffset<0||vertexBuffer==null&&vertexOffset!==0||vertexBuffer!=null&&vertexOffset>=vertexBuffer.VertexCount)throw new System.ArgumentOutOfRangeException.$ctor1("vertexOffset");this._vertexBuffersDirty=!!(this._vertexBuffersDirty|vertexBuffer==null?this._vertexBuffers.Clear():this._vertexBuffers.Set(vertexBuffer,vertexOffset))},SetVertexBuffers:function(vertexBuffers){if(vertexBuffers===void 0&&(vertexBuffers=[]),vertexBuffers==null||vertexBuffers.length===0)this._vertexBuffersDirty=!!(this._vertexBuffersDirty|this._vertexBuffers.Clear());else{if(vertexBuffers.length>this._maxVertexBufferSlots){var message=System.String.formatProvider(System.Globalization.CultureInfo.invariantCulture,"Max number of vertex buffers is {0}.",[Bridge.box(this._maxVertexBufferSlots,System.Int32)]);throw new System.ArgumentOutOfRangeException.$ctor4("vertexBuffers",message);}this._vertexBuffersDirty=!!(this._vertexBuffersDirty|this._vertexBuffers.Set$1(vertexBuffers))}},SetIndexBuffer:function(indexBuffer){Bridge.referenceEquals(this._indexBuffer,indexBuffer)||(this._indexBuffer=indexBuffer,this._indexBufferDirty=!0)},SetConstantBuffer:function(stage,slot,buffer){stage===Microsoft.Xna.Framework.Graphics.ShaderStage.Vertex?this._vertexConstantBuffers.setItem(slot,buffer):this._pixelConstantBuffers.setItem(slot,buffer)},DrawIndexedPrimitives$1:function(primitiveType,baseVertex,minVertexIndex,numVertices,startIndex,primitiveCount){this.DrawIndexedPrimitives(primitiveType,baseVertex,startIndex,primitiveCount)},DrawIndexedPrimitives:function(primitiveType,baseVertex,startIndex,primitiveCount){if(this._vertexShader==null)throw new System.InvalidOperationException.$ctor1("Vertex shader must be set before calling DrawIndexedPrimitives.");if(this._vertexBuffers.Count===0)throw new System.InvalidOperationException.$ctor1("Vertex buffer must be set before calling DrawIndexedPrimitives.");if(this._indexBuffer==null)throw new System.InvalidOperationException.$ctor1("Index buffer must be set before calling DrawIndexedPrimitives.");if(primitiveCount<=0)throw new System.ArgumentOutOfRangeException.$ctor1("primitiveCount");this.PlatformDrawIndexedPrimitives(primitiveType,baseVertex,startIndex,primitiveCount);this._graphicsMetrics._drawCount=this._graphicsMetrics._drawCount.inc();this._graphicsMetrics._primitiveCount=this._graphicsMetrics._primitiveCount.add(System.Int64(primitiveCount))},DrawUserPrimitives:function(T,primitiveType,vertexData,vertexOffset,primitiveCount){this.DrawUserPrimitives$1(T,primitiveType,vertexData,vertexOffset,primitiveCount,Microsoft.Xna.Framework.Graphics.VertexDeclarationCache$1(T).VertexDeclaration)},DrawUserPrimitives$1:function(T,primitiveType,vertexData,vertexOffset,primitiveCount,vertexDeclaration){if(vertexData==null)throw new System.ArgumentNullException.$ctor1("vertexData");if(vertexData.length===0)throw new System.ArgumentOutOfRangeException.$ctor1("vertexData");if(vertexOffset<0||vertexOffset>=vertexData.length)throw new System.ArgumentOutOfRangeException.$ctor1("vertexOffset");if(primitiveCount<=0)throw new System.ArgumentOutOfRangeException.$ctor1("primitiveCount");var vertexCount=Microsoft.Xna.Framework.Graphics.GraphicsDevice.GetElementCountArray(primitiveType,primitiveCount);if((vertexOffset+vertexCount|0)>vertexData.length)throw new System.ArgumentOutOfRangeException.$ctor1("primitiveCount");if(Microsoft.Xna.Framework.Graphics.VertexDeclaration.op_Equality(vertexDeclaration,null))throw new System.ArgumentNullException.$ctor1("vertexDeclaration");this.PlatformDrawUserPrimitives(T,primitiveType,vertexData,vertexOffset,vertexDeclaration,vertexCount);this._graphicsMetrics._drawCount=this._graphicsMetrics._drawCount.inc();this._graphicsMetrics._primitiveCount=this._graphicsMetrics._primitiveCount.add(System.Int64(primitiveCount))},DrawPrimitives:function(primitiveType,vertexStart,primitiveCount){if(this._vertexShader==null)throw new System.InvalidOperationException.$ctor1("Vertex shader must be set before calling DrawPrimitives.");if(this._vertexBuffers.Count===0)throw new System.InvalidOperationException.$ctor1("Vertex buffer must be set before calling DrawPrimitives.");if(primitiveCount<=0)throw new System.ArgumentOutOfRangeException.$ctor1("primitiveCount");var vertexCount=Microsoft.Xna.Framework.Graphics.GraphicsDevice.GetElementCountArray(primitiveType,primitiveCount);this.PlatformDrawPrimitives(primitiveType,vertexStart,vertexCount);this._graphicsMetrics._drawCount=this._graphicsMetrics._drawCount.inc();this._graphicsMetrics._primitiveCount=this._graphicsMetrics._primitiveCount.add(System.Int64(primitiveCount))},DrawUserIndexedPrimitives:function(T,primitiveType,vertexData,vertexOffset,numVertices,indexData,indexOffset,primitiveCount){this.DrawUserIndexedPrimitives$1(T,primitiveType,vertexData,vertexOffset,numVertices,indexData,indexOffset,primitiveCount,Microsoft.Xna.Framework.Graphics.VertexDeclarationCache$1(T).VertexDeclaration)},DrawUserIndexedPrimitives$1:function(T,primitiveType,vertexData,vertexOffset,numVertices,indexData,indexOffset,primitiveCount,vertexDeclaration){if(vertexData==null||vertexData.length===0)throw new System.ArgumentNullException.$ctor1("vertexData");if(vertexOffset<0||vertexOffset>=vertexData.length)throw new System.ArgumentOutOfRangeException.$ctor1("vertexOffset");if(numVertices<=0||numVertices>vertexData.length)throw new System.ArgumentOutOfRangeException.$ctor1("numVertices");if((vertexOffset+numVertices|0)>vertexData.length)throw new System.ArgumentOutOfRangeException.$ctor1("numVertices");if(indexData==null||indexData.length===0)throw new System.ArgumentNullException.$ctor1("indexData");if(indexOffset<0||indexOffset>=indexData.length)throw new System.ArgumentOutOfRangeException.$ctor1("indexOffset");if(primitiveCount<=0)throw new System.ArgumentOutOfRangeException.$ctor1("primitiveCount");if((indexOffset+Microsoft.Xna.Framework.Graphics.GraphicsDevice.GetElementCountArray(primitiveType,primitiveCount)|0)>indexData.length)throw new System.ArgumentOutOfRangeException.$ctor1("primitiveCount");if(Microsoft.Xna.Framework.Graphics.VertexDeclaration.op_Equality(vertexDeclaration,null))throw new System.ArgumentNullException.$ctor1("vertexDeclaration");if(vertexDeclaration.VertexStride<Microsoft.Xna.Framework.Utilities.ReflectionHelpers.SizeOf$1(T).Get())throw new System.ArgumentOutOfRangeException.$ctor4("vertexDeclaration","Vertex stride of vertexDeclaration should be at least as big as the stride of the actual vertices.");this.PlatformDrawUserIndexedPrimitives(T,primitiveType,vertexData,vertexOffset,numVertices,indexData,indexOffset,primitiveCount,vertexDeclaration);this._graphicsMetrics._drawCount=this._graphicsMetrics._drawCount.inc();this._graphicsMetrics._primitiveCount=this._graphicsMetrics._primitiveCount.add(System.Int64(primitiveCount))},DrawUserIndexedPrimitives$2:function(T,primitiveType,vertexData,vertexOffset,numVertices,indexData,indexOffset,primitiveCount){this.DrawUserIndexedPrimitives$3(T,primitiveType,vertexData,vertexOffset,numVertices,indexData,indexOffset,primitiveCount,Microsoft.Xna.Framework.Graphics.VertexDeclarationCache$1(T).VertexDeclaration)},DrawUserIndexedPrimitives$3:function(T,primitiveType,vertexData,vertexOffset,numVertices,indexData,indexOffset,primitiveCount,vertexDeclaration){if(vertexData==null||vertexData.length===0)throw new System.ArgumentNullException.$ctor1("vertexData");if(vertexOffset<0||vertexOffset>=vertexData.length)throw new System.ArgumentOutOfRangeException.$ctor1("vertexOffset");if(numVertices<=0||numVertices>vertexData.length)throw new System.ArgumentOutOfRangeException.$ctor1("numVertices");if((vertexOffset+numVertices|0)>vertexData.length)throw new System.ArgumentOutOfRangeException.$ctor1("numVertices");if(indexData==null||indexData.length===0)throw new System.ArgumentNullException.$ctor1("indexData");if(indexOffset<0||indexOffset>=indexData.length)throw new System.ArgumentOutOfRangeException.$ctor1("indexOffset");if(primitiveCount<=0)throw new System.ArgumentOutOfRangeException.$ctor1("primitiveCount");if((indexOffset+Microsoft.Xna.Framework.Graphics.GraphicsDevice.GetElementCountArray(primitiveType,primitiveCount)|0)>indexData.length)throw new System.ArgumentOutOfRangeException.$ctor1("primitiveCount");if(Microsoft.Xna.Framework.Graphics.VertexDeclaration.op_Equality(vertexDeclaration,null))throw new System.ArgumentNullException.$ctor1("vertexDeclaration");if(vertexDeclaration.VertexStride<Microsoft.Xna.Framework.Utilities.ReflectionHelpers.SizeOf$1(T).Get())throw new System.ArgumentOutOfRangeException.$ctor4("vertexDeclaration","Vertex stride of vertexDeclaration should be at least as big as the stride of the actual vertices.");this.PlatformDrawUserIndexedPrimitives$1(T,primitiveType,vertexData,vertexOffset,numVertices,indexData,indexOffset,primitiveCount,vertexDeclaration);this._graphicsMetrics._drawCount=this._graphicsMetrics._drawCount.inc();this._graphicsMetrics._primitiveCount=this._graphicsMetrics._primitiveCount.add(System.Int64(primitiveCount))},DrawInstancedPrimitives$1:function(primitiveType,baseVertex,minVertexIndex,numVertices,startIndex,primitiveCount,instanceCount){this.DrawInstancedPrimitives(primitiveType,baseVertex,startIndex,primitiveCount,instanceCount)},DrawInstancedPrimitives:function(primitiveType,baseVertex,startIndex,primitiveCount,instanceCount){if(this._vertexShader==null)throw new System.InvalidOperationException.$ctor1("Vertex shader must be set before calling DrawInstancedPrimitives.");if(this._vertexBuffers.Count===0)throw new System.InvalidOperationException.$ctor1("Vertex buffer must be set before calling DrawInstancedPrimitives.");if(this._indexBuffer==null)throw new System.InvalidOperationException.$ctor1("Index buffer must be set before calling DrawInstancedPrimitives.");if(primitiveCount<=0)throw new System.ArgumentOutOfRangeException.$ctor1("primitiveCount");this.PlatformDrawInstancedPrimitives(primitiveType,baseVertex,startIndex,primitiveCount,instanceCount);this._graphicsMetrics._drawCount=this._graphicsMetrics._drawCount.inc();this._graphicsMetrics._primitiveCount=this._graphicsMetrics._primitiveCount.add(System.Int64(Bridge.Int.mul(primitiveCount,instanceCount)))},GetBackBufferData:function(T,data){if(data==null)throw new System.ArgumentNullException.$ctor1("data");this.GetBackBufferData$2(T,null,data,0,data.length)},GetBackBufferData$1:function(T,data,startIndex,elementCount){this.GetBackBufferData$2(T,null,data,startIndex,elementCount)},GetBackBufferData$2:function(T,rect,data,startIndex,elementCount){var width,height,rectangle,tSize,fSize,dataByteSize;if(data==null)throw new System.ArgumentNullException.$ctor1("data");if(System.Nullable.hasValue(rect)){if(rectangle=System.Nullable.getValue(rect).$clone(),width=rectangle.Width,height=rectangle.Height,rectangle.X<0||rectangle.Y<0||rectangle.Width<=0||rectangle.Height<=0||rectangle.Right>this.PresentationParameters.BackBufferWidth||rectangle.Top>this.PresentationParameters.BackBufferHeight)throw new System.ArgumentException.$ctor1("Rectangle must fit in BackBuffer dimensions");}else width=this.PresentationParameters.BackBufferWidth,height=this.PresentationParameters.BackBufferHeight;if(tSize=Microsoft.Xna.Framework.Utilities.ReflectionHelpers.SizeOf$1(T).Get(),fSize=Microsoft.Xna.Framework.Graphics.GraphicsExtensions.GetSize(this.PresentationParameters.BackBufferFormat),tSize>fSize||fSize%tSize!=0)throw new System.ArgumentException.$ctor3("Type T is of an invalid size for the format of this texture.","T");if(startIndex<0||startIndex>=data.length)throw new System.ArgumentException.$ctor3("startIndex must be at least zero and smaller than data.Length.","startIndex");if(data.length<(startIndex+elementCount|0))throw new System.ArgumentException.$ctor1("The data array is too small.");if(dataByteSize=Bridge.Int.mul(Bridge.Int.mul(width,height),fSize),Bridge.Int.mul(elementCount,tSize)!==dataByteSize)throw new System.ArgumentException.$ctor3(System.String.format("elementCount is not the right size, elementCount * sizeof(T) is {0}, but data size is {1} bytes.",Bridge.box(Bridge.Int.mul(elementCount,tSize),System.Int32),Bridge.box(dataByteSize,System.Int32)),"elementCount");this.PlatformGetBackBufferData(T,System.Nullable.lift1("$clone",rect),data,startIndex,elementCount)},SetVertexAttributeArray:function(attrs){for(var x=0;x<attrs.length;x=x+1|0)attrs[System.Array.index(x,attrs)]&&!Microsoft.Xna.Framework.Graphics.GraphicsDevice._enabledVertexAttributes.contains(x)?(Microsoft.Xna.Framework.Graphics.GraphicsDevice._enabledVertexAttributes.add(x),WebHelper.gl.enableVertexAttribArray(x)):!attrs[System.Array.index(x,attrs)]&&Microsoft.Xna.Framework.Graphics.GraphicsDevice._enabledVertexAttributes.contains(x)&&(Microsoft.Xna.Framework.Graphics.GraphicsDevice._enabledVertexAttributes.remove(x),WebHelper.gl.disableVertexAttribArray(x))},PlatformSetup:function(){var maxDrawBuffers,i;for(this._programCache=new Microsoft.Xna.Framework.Graphics.ShaderProgramCache(this),this.MaxTextureSlots=System.Nullable.getValue(Bridge.cast(Bridge.unbox(WebHelper.gl.getParameter(WebGL2RenderingContext.MAX_TEXTURE_IMAGE_UNITS),System.Int32),System.Int32)),this._maxTextureSize=System.Nullable.getValue(Bridge.cast(Bridge.unbox(WebHelper.gl.getParameter(WebGL2RenderingContext.MAX_TEXTURE_SIZE),System.Int32),System.Int32)),this.MaxVertexAttributes=System.Nullable.getValue(Bridge.cast(Bridge.unbox(WebHelper.gl.getParameter(WebGL2RenderingContext.MAX_VERTEX_ATTRIBS),System.Int32),System.Int32)),this._maxVertexBufferSlots=this.MaxVertexAttributes,Microsoft.Xna.Framework.Graphics.GraphicsDevice._newEnabledVertexAttributes=System.Array.init(this.MaxVertexAttributes,!1,System.Boolean),maxDrawBuffers=System.Nullable.getValue(Bridge.cast(Bridge.unbox(WebHelper.gl.getParameter(WebHelper.gl.MAX_DRAW_BUFFERS),System.Int32),System.Int32)),this._drawBuffers=System.Array.init(maxDrawBuffers,0,System.Double),i=0;i<maxDrawBuffers;i=i+1|0)this._drawBuffers[System.Array.index(i,this._drawBuffers)]=WebGL2RenderingContext.COLOR_ATTACHMENT0+i},PlatformInitialize:function(){this._viewport=new Microsoft.Xna.Framework.Graphics.Viewport.$ctor2(0,0,this.PresentationParameters.BackBufferWidth,this.PresentationParameters.BackBufferHeight);Microsoft.Xna.Framework.Graphics.GraphicsDevice._enabledVertexAttributes.clear();this._programCache.Clear();this._shaderProgram=null;this.framebufferHelper=Microsoft.Xna.Framework.Graphics.GraphicsDevice.FramebufferHelper.Create(this);this.PlatformApplyBlend(!0);this.DepthStencilState.PlatformApplyState(this,!0);this.RasterizerState.PlatformApplyState(this,!0);Microsoft.Xna.Framework.Graphics.GraphicsDevice._bufferBindingInfos=System.Array.init(this._maxVertexBufferSlots,null,Microsoft.Xna.Framework.Graphics.GraphicsDevice.BufferBindingInfo);for(var i=0;i<Microsoft.Xna.Framework.Graphics.GraphicsDevice._bufferBindingInfos.length;i=i+1|0)Microsoft.Xna.Framework.Graphics.GraphicsDevice._bufferBindingInfos[System.Array.index(i,Microsoft.Xna.Framework.Graphics.GraphicsDevice._bufferBindingInfos)]=new Microsoft.Xna.Framework.Graphics.GraphicsDevice.BufferBindingInfo(null,0,0,-1)},PlatformClear:function(options,color,depth,stencil){var prevScissorRect=this.ScissorRectangle.$clone(),prevDepthStencilState=this.DepthStencilState,prevBlendState=this.BlendState,bufferMask;this.ScissorRectangle=this._viewport.Bounds.$clone();this.DepthStencilState=this.clearDepthStencilState;this.BlendState=Microsoft.Xna.Framework.Graphics.BlendState.Opaque;this.ApplyState(!1);bufferMask=0;(options&Microsoft.Xna.Framework.Graphics.ClearOptions.Target)===Microsoft.Xna.Framework.Graphics.ClearOptions.Target&&(Microsoft.Xna.Framework.Vector4.op_Inequality(color.$clone(),this._lastClearColor.$clone())&&(WebHelper.gl.clearColor(color.X,color.Y,color.Z,color.W),this._lastClearColor=color.$clone()),bufferMask=bufferMask|Bridge.Int.clip32(WebGL2RenderingContext.COLOR_BUFFER_BIT));(options&Microsoft.Xna.Framework.Graphics.ClearOptions.Stencil)===Microsoft.Xna.Framework.Graphics.ClearOptions.Stencil&&(stencil!==this._lastClearStencil&&(WebHelper.gl.clearStencil(stencil),this._lastClearStencil=stencil),bufferMask=bufferMask|Bridge.Int.clip32(WebGL2RenderingContext.STENCIL_BUFFER_BIT));(options&Microsoft.Xna.Framework.Graphics.ClearOptions.DepthBuffer)===Microsoft.Xna.Framework.Graphics.ClearOptions.DepthBuffer&&(depth!==this._lastClearDepth&&(WebHelper.gl.clearDepth(depth),this._lastClearDepth=depth),bufferMask=bufferMask|Bridge.Int.clip32(WebGL2RenderingContext.DEPTH_BUFFER_BIT));WebHelper.gl.clear(bufferMask);this.ScissorRectangle=prevScissorRect.$clone();this.DepthStencilState=prevDepthStencilState;this.BlendState=prevBlendState},PlatformDispose:function(){this._programCache.Dispose()},DisposeTexture:function(handle){this._isDisposed||(this._disposeActionsLock,this._disposeNextFrame.add(Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceHandle.Texture(handle)))},DisposeBuffer:function(handle){this._isDisposed||(this._disposeActionsLock,this._disposeNextFrame.add(Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceHandle.Buffer(handle)))},DisposeShader:function(handle){this._isDisposed||(this._disposeActionsLock,this._disposeNextFrame.add(Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceHandle.Shader(handle)))},DisposeProgram:function(handle){this._isDisposed||(this._disposeActionsLock,this._disposeNextFrame.add(Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceHandle.Program(handle)))},DisposeFramebuffer:function(handle){this._isDisposed||(this._disposeActionsLock,this._disposeNextFrame.add(Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceHandle.Framebuffer(handle)))},PlatformPresent:function(){for(var temp,count=this._disposeThisFrame.Count,i=0;i<count;i=i+1|0)this._disposeThisFrame.getItem(i).$clone().Free();this._disposeThisFrame.clear();this._disposeActionsLock;temp=this._disposeThisFrame;this._disposeThisFrame=this._disposeNextFrame;this._disposeNextFrame=temp},PlatformSetViewport:function(value){this.IsRenderTargetBound?WebHelper.gl.viewport(value.v.X,value.v.Y,value.v.Width,value.v.Height):WebHelper.gl.viewport(value.v.X,(this.PresentationParameters.BackBufferHeight-value.v.Y|0)-value.v.Height|0,value.v.Width,value.v.Height);WebHelper.gl.depthRange(value.v.MinDepth,value.v.MaxDepth);this._vertexShaderDirty=!0},PlatformApplyDefaultRenderTarget:function(){this.framebufferHelper.BindFramebuffer(this.glFramebuffer);this._rasterizerStateDirty=!0;this.Textures.Dirty()},PlatformCreateRenderTarget:function(renderTarget,width,height,mipMap,preferredFormat,preferredDepthFormat,preferredMultiSampleCount,usage){var color={v:null},depth={v:null},stencil={v:null},depthInternalFormat,stencilInternalFormat;if(this.framebufferHelper.GenRenderbuffer(color),this.framebufferHelper.BindRenderbuffer(color.v),this.framebufferHelper.RenderbufferStorageMultisample(preferredMultiSampleCount,WebHelper.gl.RGBA8,width,height),preferredDepthFormat!==Microsoft.Xna.Framework.Graphics.DepthFormat.None){depthInternalFormat=WebGL2RenderingContext.DEPTH_COMPONENT16;stencilInternalFormat=WebGL2RenderingContext.NEVER;switch(preferredDepthFormat){case Microsoft.Xna.Framework.Graphics.DepthFormat.Depth16:depthInternalFormat=WebGL2RenderingContext.DEPTH_COMPONENT16;break;case Microsoft.Xna.Framework.Graphics.DepthFormat.Depth24:depthInternalFormat=WebHelper.gl.DEPTH_COMPONENT24;break;case Microsoft.Xna.Framework.Graphics.DepthFormat.Depth24Stencil8:depthInternalFormat=WebHelper.gl.DEPTH24_STENCIL8;break}depthInternalFormat!==0&&(this.framebufferHelper.GenRenderbuffer(depth),this.framebufferHelper.BindRenderbuffer(depth.v),this.framebufferHelper.RenderbufferStorageMultisample(preferredMultiSampleCount,depthInternalFormat,width,height),preferredDepthFormat===Microsoft.Xna.Framework.Graphics.DepthFormat.Depth24Stencil8&&(stencil.v=depth.v,stencilInternalFormat!==0&&(this.framebufferHelper.GenRenderbuffer(stencil),this.framebufferHelper.BindRenderbuffer(stencil.v),this.framebufferHelper.RenderbufferStorageMultisample(preferredMultiSampleCount,stencilInternalFormat,width,height))))}renderTarget.Microsoft$Xna$Framework$Graphics$IRenderTarget$GLColorBuffer=color.v;renderTarget.Microsoft$Xna$Framework$Graphics$IRenderTarget$GLDepthBuffer=depth.v;renderTarget.Microsoft$Xna$Framework$Graphics$IRenderTarget$GLStencilBuffer=stencil.v},PlatformDeleteRenderTarget:function(renderTarget){var $t,$t1,$t2,color=renderTarget.Microsoft$Xna$Framework$Graphics$IRenderTarget$GLColorBuffer,depth=renderTarget.Microsoft$Xna$Framework$Graphics$IRenderTarget$GLDepthBuffer,stencil=renderTarget.Microsoft$Xna$Framework$Graphics$IRenderTarget$GLStencilBuffer,bindingsToDelete,bindings,binding,bindings1,fbo;if(color!=null){this.framebufferHelper.DeleteRenderbuffer(color);stencil==null||Bridge.referenceEquals(stencil,depth)||this.framebufferHelper.DeleteRenderbuffer(stencil);depth!=null&&this.framebufferHelper.DeleteRenderbuffer(depth);bindingsToDelete=new(System.Collections.Generic.List$1(System.Array.type(Microsoft.Xna.Framework.Graphics.RenderTargetBinding)).ctor);$t=Bridge.getEnumerator(this.glFramebuffers.getKeys(),System.Array.type(Microsoft.Xna.Framework.Graphics.RenderTargetBinding));try{while($t.moveNext()){bindings=$t.Current;$t1=Bridge.getEnumerator(bindings);try{while($t1.moveNext())if(binding=$t1.Current.$clone(),Bridge.referenceEquals(binding.RenderTarget,renderTarget)){bindingsToDelete.add(bindings);break}}finally{Bridge.is($t1,System.IDisposable)&&$t1.System$IDisposable$Dispose()}}}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}$t2=Bridge.getEnumerator(bindingsToDelete);try{while($t2.moveNext())bindings1=$t2.Current,fbo={v:null},this.glFramebuffers.tryGetValue(bindings1,fbo)&&(this.framebufferHelper.DeleteFramebuffer(fbo.v),this.glFramebuffers.remove(bindings1)),this.glResolveFramebuffers.tryGetValue(bindings1,fbo)&&(this.framebufferHelper.DeleteFramebuffer(fbo.v),this.glResolveFramebuffers.remove(bindings1))}finally{Bridge.is($t2,System.IDisposable)&&$t2.System$IDisposable$Dispose()}}},PlatformResolveRenderTargets:function(){var renderTargetBinding,renderTarget,glResolveFramebuffer,i,rt,glFramebuffer,i1,i2;if(this._currentRenderTargetCount!==0){if(renderTargetBinding=this._currentRenderTargetBindings[System.Array.index(0,this._currentRenderTargetBindings)].$clone(),renderTarget=Bridge.as(renderTargetBinding.RenderTarget,Microsoft.Xna.Framework.Graphics.IRenderTarget),renderTarget.Microsoft$Xna$Framework$Graphics$IRenderTarget$MultiSampleCount>0&&this.framebufferHelper.SupportsBlitFramebuffer){if(glResolveFramebuffer={v:null},this.glResolveFramebuffers.tryGetValue(this._currentRenderTargetBindings,glResolveFramebuffer))this.framebufferHelper.BindFramebuffer(glResolveFramebuffer.v);else{for(this.framebufferHelper.GenFramebuffer(glResolveFramebuffer),this.framebufferHelper.BindFramebuffer(glResolveFramebuffer.v),i=0;i<this._currentRenderTargetCount;i=i+1|0)rt=Bridge.as(this._currentRenderTargetBindings[System.Array.index(i,this._currentRenderTargetBindings)].RenderTarget,Microsoft.Xna.Framework.Graphics.IRenderTarget),this.framebufferHelper.FramebufferTexture2D(Bridge.Int.clip32(WebGL2RenderingContext.COLOR_ATTACHMENT0+i),Bridge.Int.clip32(rt.Microsoft$Xna$Framework$Graphics$IRenderTarget$GetFramebufferTarget(renderTargetBinding.$clone())),rt.Microsoft$Xna$Framework$Graphics$IRenderTarget$GLTexture);this.glResolveFramebuffers.add(Bridge.cast(System.Array.clone(this._currentRenderTargetBindings),System.Array.type(Microsoft.Xna.Framework.Graphics.RenderTargetBinding)),glResolveFramebuffer.v)}for(this._lastRasterizerState.ScissorTestEnable&&WebHelper.gl.disable(WebGL2RenderingContext.SCISSOR_TEST),glFramebuffer=this.glFramebuffers.get(this._currentRenderTargetBindings),this.framebufferHelper.BindReadFramebuffer(glFramebuffer),i1=0;i1<this._currentRenderTargetCount;i1=i1+1|0)renderTargetBinding=this._currentRenderTargetBindings[System.Array.index(i1,this._currentRenderTargetBindings)].$clone(),renderTarget=Bridge.as(renderTargetBinding.RenderTarget,Microsoft.Xna.Framework.Graphics.IRenderTarget),this.framebufferHelper.BlitFramebuffer(i1,renderTarget.Microsoft$Xna$Framework$Graphics$IRenderTarget$Width,renderTarget.Microsoft$Xna$Framework$Graphics$IRenderTarget$Height);renderTarget.Microsoft$Xna$Framework$Graphics$IRenderTarget$RenderTargetUsage===Microsoft.Xna.Framework.Graphics.RenderTargetUsage.DiscardContents&&this.framebufferHelper.SupportsInvalidateFramebuffer&&this.framebufferHelper.InvalidateReadFramebuffer();this._lastRasterizerState.ScissorTestEnable&&WebHelper.gl.enable(WebGL2RenderingContext.SCISSOR_TEST)}for(i2=0;i2<this._currentRenderTargetCount;i2=i2+1|0)renderTargetBinding=this._currentRenderTargetBindings[System.Array.index(i2,this._currentRenderTargetBindings)].$clone(),renderTarget=Bridge.as(renderTargetBinding.RenderTarget,Microsoft.Xna.Framework.Graphics.IRenderTarget),renderTarget.Microsoft$Xna$Framework$Graphics$IRenderTarget$LevelCount>1&&(WebHelper.gl.bindTexture(renderTarget.Microsoft$Xna$Framework$Graphics$IRenderTarget$GLTarget,renderTarget.Microsoft$Xna$Framework$Graphics$IRenderTarget$GLTexture),this.framebufferHelper.GenerateMipmap(Bridge.Int.clip32(renderTarget.Microsoft$Xna$Framework$Graphics$IRenderTarget$GLTarget)))}},PlatformApplyRenderTargets:function(){var glFramebuffer={},renderTargetBinding,renderTarget,i,attachement,tmp,i1;if(this.glFramebuffers.tryGetValue(this._currentRenderTargetBindings,glFramebuffer))this.framebufferHelper.BindFramebuffer(glFramebuffer.v);else{for(this.framebufferHelper.GenFramebuffer(glFramebuffer),this.framebufferHelper.BindFramebuffer(glFramebuffer.v),renderTargetBinding=this._currentRenderTargetBindings[System.Array.index(0,this._currentRenderTargetBindings)].$clone(),renderTarget=Bridge.as(renderTargetBinding.RenderTarget,Microsoft.Xna.Framework.Graphics.IRenderTarget),this.framebufferHelper.FramebufferRenderbuffer(WebGL2RenderingContext.DEPTH_ATTACHMENT,renderTarget.Microsoft$Xna$Framework$Graphics$IRenderTarget$GLDepthBuffer,0),this.framebufferHelper.FramebufferRenderbuffer(WebGL2RenderingContext.STENCIL_ATTACHMENT,renderTarget.Microsoft$Xna$Framework$Graphics$IRenderTarget$GLStencilBuffer,0),i=0;i<this._currentRenderTargetCount;i=i+1|0)renderTargetBinding=this._currentRenderTargetBindings[System.Array.index(i,this._currentRenderTargetBindings)].$clone(),renderTarget=Bridge.as(renderTargetBinding.RenderTarget,Microsoft.Xna.Framework.Graphics.IRenderTarget),attachement=WebGL2RenderingContext.COLOR_ATTACHMENT0+i,this.framebufferHelper.FramebufferTexture2D(attachement,Bridge.Int.clip32(renderTarget.Microsoft$Xna$Framework$Graphics$IRenderTarget$GetFramebufferTarget(renderTargetBinding.$clone())),renderTarget.Microsoft$Xna$Framework$Graphics$IRenderTarget$GLTexture,0,renderTarget.Microsoft$Xna$Framework$Graphics$IRenderTarget$MultiSampleCount);this.glFramebuffers.add(Bridge.cast(System.Array.clone(this._currentRenderTargetBindings),System.Array.type(Microsoft.Xna.Framework.Graphics.RenderTargetBinding)),glFramebuffer.v)}for(tmp=System.Array.init(this._currentRenderTargetCount,0,System.Double),i1=0;i1<this._currentRenderTargetCount;i1=i1+1|0)tmp[System.Array.index(i1,tmp)]=this._drawBuffers[System.Array.index(i1,this._drawBuffers)];return WebHelper.gl.drawBuffers(tmp),this._rasterizerStateDirty=!0,this.Textures.Dirty(),Bridge.as(this._currentRenderTargetBindings[System.Array.index(0,this._currentRenderTargetBindings)].RenderTarget,Microsoft.Xna.Framework.Graphics.IRenderTarget)},OnPresentationChanged:function(){this.ApplyRenderTargets(null)},ActivateShaderProgram:function(){var shaderProgram=this._programCache.GetProgram(this.VertexShader,this.PixelShader),posFixupLoc;shaderProgram.Program!=null&&(Bridge.referenceEquals(this._shaderProgram,shaderProgram)||(WebHelper.gl.useProgram(shaderProgram.Program),this._shaderProgram=shaderProgram),posFixupLoc=shaderProgram.GetUniformLocation("posFixup"),posFixupLoc!=null)&&(Microsoft.Xna.Framework.Graphics.GraphicsDevice._posFixup[System.Array.index(0,Microsoft.Xna.Framework.Graphics.GraphicsDevice._posFixup)]=1,Microsoft.Xna.Framework.Graphics.GraphicsDevice._posFixup[System.Array.index(1,Microsoft.Xna.Framework.Graphics.GraphicsDevice._posFixup)]=1,Microsoft.Xna.Framework.Graphics.GraphicsDevice._posFixup[System.Array.index(2,Microsoft.Xna.Framework.Graphics.GraphicsDevice._posFixup)]=.984375/this.Viewport.Width,Microsoft.Xna.Framework.Graphics.GraphicsDevice._posFixup[System.Array.index(3,Microsoft.Xna.Framework.Graphics.GraphicsDevice._posFixup)]=-.984375/this.Viewport.Height,this.IsRenderTargetBound&&(Microsoft.Xna.Framework.Graphics.GraphicsDevice._posFixup[System.Array.index(1,Microsoft.Xna.Framework.Graphics.GraphicsDevice._posFixup)]*=-1,Microsoft.Xna.Framework.Graphics.GraphicsDevice._posFixup[System.Array.index(3,Microsoft.Xna.Framework.Graphics.GraphicsDevice._posFixup)]*=-1),WebHelper.gl.uniform4f(posFixupLoc,Microsoft.Xna.Framework.Graphics.GraphicsDevice._posFixup[System.Array.index(0,Microsoft.Xna.Framework.Graphics.GraphicsDevice._posFixup)],Microsoft.Xna.Framework.Graphics.GraphicsDevice._posFixup[System.Array.index(1,Microsoft.Xna.Framework.Graphics.GraphicsDevice._posFixup)],Microsoft.Xna.Framework.Graphics.GraphicsDevice._posFixup[System.Array.index(2,Microsoft.Xna.Framework.Graphics.GraphicsDevice._posFixup)],Microsoft.Xna.Framework.Graphics.GraphicsDevice._posFixup[System.Array.index(3,Microsoft.Xna.Framework.Graphics.GraphicsDevice._posFixup)]))},PlatformBeginApplyState:function(){},PlatformApplyBlend:function(force){force===void 0&&(force=!1);this._actualBlendState.PlatformApplyState(this,force);(force||Microsoft.Xna.Framework.Color.op_Inequality(this.BlendFactor.$clone(),this._lastBlendState.BlendFactor.$clone()))&&(WebHelper.gl.blendColor(this.BlendFactor.R/255,this.BlendFactor.G/255,this.BlendFactor.B/255,this.BlendFactor.A/255),this._lastBlendState.BlendFactor=this.BlendFactor.$clone())},PlatformApplyState:function(applyShaders){if(this._scissorRectangleDirty){var scissorRect=this._scissorRectangle.$clone();this.IsRenderTargetBound||(scissorRect.Y=this.PresentationParameters.BackBufferHeight-(scissorRect.Y+scissorRect.Height|0)|0);WebHelper.gl.scissor(scissorRect.X,scissorRect.Y,scissorRect.Width,scissorRect.Height);this._scissorRectangleDirty=!1}if(applyShaders){if(this._indexBufferDirty&&(this._indexBuffer!=null&&WebHelper.gl.bindBuffer(WebGL2RenderingContext.ELEMENT_ARRAY_BUFFER,this._indexBuffer.ibo),this._indexBufferDirty=!1),this._vertexShader==null)throw new System.InvalidOperationException.$ctor1("A vertex shader must be set!");if(this._pixelShader==null)throw new System.InvalidOperationException.$ctor1("A pixel shader must be set!");(this._vertexShaderDirty||this._pixelShaderDirty)&&(this.ActivateShaderProgram(),this._vertexShaderDirty&&(this._graphicsMetrics._vertexShaderCount=this._graphicsMetrics._vertexShaderCount.inc()),this._pixelShaderDirty&&(this._graphicsMetrics._pixelShaderCount=this._graphicsMetrics._pixelShaderCount.inc()),this._vertexShaderDirty=this._pixelShaderDirty=!1);this._vertexConstantBuffers.SetConstantBuffers(this,this._shaderProgram);this._pixelConstantBuffers.SetConstantBuffers(this,this._shaderProgram);this.Textures.SetTextures(this);this.SamplerStates.PlatformSetSamplers(this)}},PlatformDrawIndexedPrimitives:function(primitiveType,baseVertex,startIndex,primitiveCount){throw new System.NotImplementedException.ctor;},PlatformDrawUserPrimitives:function(T,primitiveType,vertexData,vertexOffset,vertexDeclaration,vertexCount){var vertexArrayBuffer,buffer,mode;this.ApplyState(!0);vertexArrayBuffer=this.ConvertVertices(T,vertexData,vertexOffset,vertexCount,vertexDeclaration);buffer=WebHelper.gl.createBuffer();WebHelper.gl.bindBuffer(WebGL2RenderingContext.ARRAY_BUFFER,buffer);WebHelper.gl.bufferData(WebGL2RenderingContext.ARRAY_BUFFER,vertexArrayBuffer,WebGL2RenderingContext.STATIC_DRAW);mode=Microsoft.Xna.Framework.Graphics.GraphicsExtensions.GetPrimitiveTypeGL(primitiveType)>>>0;vertexDeclaration.GraphicsDevice=this;vertexDeclaration.Apply(this._vertexShader,vertexOffset,this.ShaderProgramHash);WebHelper.gl.drawArrays(mode,0,vertexCount);WebHelper.gl.bindBuffer(WebGL2RenderingContext.ARRAY_BUFFER,null);WebHelper.gl.deleteBuffer(buffer)},PlatformDrawPrimitives:function(primitiveType,vertexStart,vertexCount){throw new System.NotImplementedException.ctor;},PlatformDrawUserIndexedPrimitives:function(T,primitiveType,vertexData,vertexOffset,numVertices,indexData,indexOffset,primitiveCount,vertexDeclaration){var i,vertexBuffer,indexBuffer,mode;this.ApplyState(!0);var count=Microsoft.Xna.Framework.Graphics.GraphicsDevice.GetElementCountArray(primitiveType,primitiveCount),vertexArrayBuffer=this.ConvertVertices(T,vertexData,vertexOffset,numVertices,vertexDeclaration),uintIndexData=new Uint16Array(count>>>0);for(i=0;System.Int64(i).lt(System.Int64(uintIndexData.length));i=i+1|0)uintIndexData[i>>>0]=indexData[System.Array.index(indexOffset+i|0,indexData)]&65535;vertexBuffer=WebHelper.gl.createBuffer();indexBuffer=WebHelper.gl.createBuffer();WebHelper.gl.bindBuffer(WebGL2RenderingContext.ARRAY_BUFFER,vertexBuffer);WebHelper.gl.bufferData(WebGL2RenderingContext.ARRAY_BUFFER,vertexArrayBuffer,WebGL2RenderingContext.STATIC_DRAW);WebHelper.gl.bindBuffer(WebGL2RenderingContext.ELEMENT_ARRAY_BUFFER,indexBuffer);WebHelper.gl.bufferData(WebGL2RenderingContext.ELEMENT_ARRAY_BUFFER,uintIndexData,WebGL2RenderingContext.STATIC_DRAW);this._vertexBuffersDirty=!0;this._indexBufferDirty=!0;mode=Microsoft.Xna.Framework.Graphics.GraphicsExtensions.GetPrimitiveTypeGL(primitiveType)>>>0;vertexDeclaration.GraphicsDevice=this;vertexDeclaration.Apply(this._vertexShader,vertexOffset,this.ShaderProgramHash);WebHelper.gl.drawElements(mode,count,WebGL2RenderingContext.UNSIGNED_SHORT,0);WebHelper.gl.bindBuffer(WebGL2RenderingContext.ARRAY_BUFFER,null);WebHelper.gl.bindBuffer(WebGL2RenderingContext.ELEMENT_ARRAY_BUFFER,null);WebHelper.gl.deleteBuffer(vertexBuffer);WebHelper.gl.deleteBuffer(indexBuffer)},PlatformDrawUserIndexedPrimitives$1:function(T,primitiveType,vertexData,vertexOffset,numVertices,indexData,indexOffset,primitiveCount,vertexDeclaration){throw new System.NotImplementedException.ctor;},PlatformDrawInstancedPrimitives:function(primitiveType,baseVertex,startIndex,primitiveCount,instanceCount){throw new System.NotImplementedException.ctor;},PlatformGetBackBufferData:function(T,rect,data,startIndex,count){throw new System.NotImplementedException.ctor;},PlatformSetMultiSamplingToMaximum:function(presentationParameters,quality){presentationParameters.MultiSampleCount=4;quality.v=0},ConvertVertices:function(T,vertices,startVertex,numVertices,decl){var $t,result=new ArrayBuffer(Bridge.Int.mul(numVertices,decl.VertexStride)),props=System.Linq.Enumerable.from(Object.getOwnPropertyNames(vertices[System.Array.index(0,vertices)])).where(function(p){return p.charCodeAt(0)!==36}).ToArray(System.String),propertyIndex=0,el,prop;$t=Bridge.getEnumerator(decl.InternalVertexElements);try{while($t.moveNext())el=$t.Current.$clone(),prop=props[System.Array.index(Bridge.identity(propertyIndex,propertyIndex=propertyIndex+1|0),props)],this.CopyVertexElement(T,vertices,startVertex,numVertices,result,prop,el.Offset,el.VertexElementFormat,decl.VertexStride)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return result},CopyVertexElement:function(T,vertices,startVertex,numVertices,buf,property,offset,format,stride){var props,i,i1,i2,ci,i3,i4,ci1;switch(format){case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Byte4:for(props=System.Linq.Enumerable.from(Object.getOwnPropertyNames(Bridge.unbox(vertices[System.Array.index(0,vertices)][property]))).where(function(p){return p.charCodeAt(0)!==36}).ToArray(System.String),i=0;i<numVertices;i=i+1|0){var byte4=vertices[System.Array.index(startVertex+i|0,vertices)][property],startIndex=offset+Bridge.Int.mul(i,stride)|0,byteView=new Uint8Array(buf,startIndex>>>0);byteView[0]=System.Nullable.getValue(Bridge.cast(Bridge.unbox(byte4[props[System.Array.index(0,props)]],System.Byte),System.Byte));byteView[1]=System.Nullable.getValue(Bridge.cast(Bridge.unbox(byte4[props[System.Array.index(1,props)]],System.Byte),System.Byte));byteView[2]=System.Nullable.getValue(Bridge.cast(Bridge.unbox(byte4[props[System.Array.index(2,props)]],System.Byte),System.Byte));byteView[3]=System.Nullable.getValue(Bridge.cast(Bridge.unbox(byte4[props[System.Array.index(3,props)]],System.Byte),System.Byte))}break;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Color:for(props=System.Linq.Enumerable.from(Object.getOwnPropertyNames(Bridge.unbox(vertices[System.Array.index(0,vertices)][property]))).where(function(p){return p.charCodeAt(0)!==36}).ToArray(System.String),i1=0;i1<numVertices;i1=i1+1|0){var color=vertices[System.Array.index(startVertex+i1|0,vertices)][property],startIndex1=offset+Bridge.Int.mul(i1,stride)|0,uintView=new Uint32Array(buf,startIndex1>>>0);uintView[0]=System.Nullable.getValue(Bridge.cast(Bridge.unbox(color[props[System.Array.index(0,props)]],System.UInt32),System.UInt32))}break;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.HalfVector2:case Microsoft.Xna.Framework.Graphics.VertexElementFormat.HalfVector4:throw new System.NotImplementedException.ctor;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.NormalizedShort2:case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Short2:case Microsoft.Xna.Framework.Graphics.VertexElementFormat.NormalizedShort4:case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Short4:for(props=System.Linq.Enumerable.from(Object.getOwnPropertyNames(Bridge.unbox(vertices[System.Array.index(0,vertices)][property]))).where(function(p){return p.charCodeAt(0)!==36}).ToArray(System.String),i2=0;i2<numVertices;i2=i2+1|0){var shorts=vertices[System.Array.index(startVertex+i2|0,vertices)][property],startIndex2=offset+Bridge.Int.mul(i2,stride)|0,shortView=new Int16Array(buf,startIndex2>>>0);for(ci=0;ci<props.length;ci=ci+1|0)shortView[ci>>>0]=System.Nullable.getValue(Bridge.cast(Bridge.unbox(shorts[props[System.Array.index(ci,props)]],System.Int16),System.Int16))}break;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Single:for(props=System.Linq.Enumerable.from(Object.getOwnPropertyNames(Bridge.unbox(vertices[System.Array.index(0,vertices)][property]))).where(function(p){return p.charCodeAt(0)!==36}).ToArray(System.String),i3=0;i3<numVertices;i3=i3+1|0){var floatVal=vertices[System.Array.index(startVertex+i3|0,vertices)][property],startIndex3=offset+Bridge.Int.mul(i3,stride)|0,floatView=new Float32Array(buf,startIndex3>>>0);floatView[0]=System.Nullable.getValue(Bridge.cast(Bridge.unbox(floatVal,System.Single),System.Single))}break;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Vector2:case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Vector3:case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Vector4:for(props=System.Linq.Enumerable.from(Object.getOwnPropertyNames(Bridge.unbox(vertices[System.Array.index(0,vertices)][property]))).where(function(p){return p.charCodeAt(0)!==36}).ToArray(System.String),i4=0;i4<numVertices;i4=i4+1|0){var startIndex4=offset+Bridge.Int.mul(i4,stride)|0,floatView1=new Float32Array(buf,startIndex4>>>0),vec=vertices[System.Array.index(startVertex+i4|0,vertices)][property];for(ci1=0;ci1<props.length;ci1=ci1+1|0)floatView1[ci1>>>0]=System.Nullable.getValue(Bridge.cast(Bridge.unbox(vec[props[System.Array.index(ci1,props)]],System.Single),System.Single))}break}}}});Bridge.define("Microsoft.Xna.Framework.Graphics.GraphicsDevice.BufferBindingInfo",{$kind:"nested class",fields:{AttributeInfo:null,VertexOffset:0,InstanceFrequency:0,Vbo:0},ctors:{ctor:function(attributeInfo,vertexOffset,instanceFrequency,vbo){this.$initialize();this.AttributeInfo=attributeInfo;this.VertexOffset=vertexOffset;this.InstanceFrequency=instanceFrequency;this.Vbo=vbo}}});Bridge.define("Microsoft.Xna.Framework.Graphics.GraphicsDevice.FramebufferHelper",{$kind:"nested class",statics:{fields:{_instance:null,FramebufferAttachements:null},ctors:{init:function(){this.FramebufferAttachements=System.Array.init([WebGL2RenderingContext.COLOR_ATTACHMENT0,WebGL2RenderingContext.DEPTH_ATTACHMENT,WebGL2RenderingContext.STENCIL_ATTACHMENT],System.Double)}},methods:{Create:function(gd){if(gd.GraphicsCapabilities.SupportsFramebufferObjectARB||gd.GraphicsCapabilities.SupportsFramebufferObjectEXT)Microsoft.Xna.Framework.Graphics.GraphicsDevice.FramebufferHelper._instance=new Microsoft.Xna.Framework.Graphics.GraphicsDevice.FramebufferHelper(gd);else throw new System.PlatformNotSupportedException("MonoGame requires either ARB_framebuffer_object or EXT_framebuffer_object.Try updating your graphics drivers.");return Microsoft.Xna.Framework.Graphics.GraphicsDevice.FramebufferHelper._instance},Get:function(){if(Microsoft.Xna.Framework.Graphics.GraphicsDevice.FramebufferHelper._instance==null)throw new System.InvalidOperationException.$ctor1("The FramebufferHelper has not been created yet!");return Microsoft.Xna.Framework.Graphics.GraphicsDevice.FramebufferHelper._instance}}},fields:{SupportsInvalidateFramebuffer:!1,SupportsBlitFramebuffer:!1},ctors:{ctor:function(graphicsDevice){this.$initialize();this.SupportsBlitFramebuffer=!0;this.SupportsInvalidateFramebuffer=!0}},methods:{GenRenderbuffer:function(renderbuffer){renderbuffer.v=WebHelper.gl.createRenderbuffer()},BindRenderbuffer:function(renderbuffer){WebHelper.gl.bindRenderbuffer(WebGL2RenderingContext.RENDERBUFFER,renderbuffer)},DeleteRenderbuffer:function(renderbuffer){WebHelper.gl.deleteRenderbuffer(renderbuffer)},RenderbufferStorageMultisample:function(samples,internalFormat,width,height){WebHelper.gl.renderbufferStorage(WebGL2RenderingContext.RENDERBUFFER,internalFormat,width,height)},GenFramebuffer:function(framebuffer){framebuffer.v=WebHelper.gl.createFramebuffer()},BindFramebuffer:function(framebuffer){WebHelper.gl.bindFramebuffer(WebGL2RenderingContext.FRAMEBUFFER,framebuffer)},BindReadFramebuffer:function(readFramebuffer){WebHelper.gl.bindFramebuffer(WebHelper.gl.READ_FRAMEBUFFER,readFramebuffer)},InvalidateDrawFramebuffer:function(){WebHelper.gl.invalidateFramebuffer(WebGL2RenderingContext.FRAMEBUFFER,Microsoft.Xna.Framework.Graphics.GraphicsDevice.FramebufferHelper.FramebufferAttachements)},InvalidateReadFramebuffer:function(){WebHelper.gl.invalidateFramebuffer(WebGL2RenderingContext.FRAMEBUFFER,Microsoft.Xna.Framework.Graphics.GraphicsDevice.FramebufferHelper.FramebufferAttachements)},DeleteFramebuffer:function(framebuffer){WebHelper.gl.deleteFramebuffer(framebuffer)},FramebufferTexture2D:function(attachement,target,texture,level,samples){level===void 0&&(level=0);samples===void 0&&(samples=0);WebHelper.gl.framebufferTexture2D(WebGL2RenderingContext.FRAMEBUFFER,attachement,target,texture,level)},FramebufferRenderbuffer:function(attachement,renderbuffer,level){level===void 0&&(level=0);WebHelper.gl.framebufferRenderbuffer(WebGL2RenderingContext.FRAMEBUFFER,attachement,WebGL2RenderingContext.RENDERBUFFER,renderbuffer)},GenerateMipmap:function(target){WebHelper.gl.generateMipmap(target)},BlitFramebuffer:function(iColorAttachment,width,height){WebHelper.gl.readBuffer(WebGL2RenderingContext.COLOR_ATTACHMENT0+iColorAttachment);WebHelper.gl.drawBuffers(System.Array.init([WebGL2RenderingContext.COLOR_ATTACHMENT0+iColorAttachment],System.Double));WebHelper.gl.blitFramebuffer(0,0,width,height,0,0,width,height,WebGL2RenderingContext.COLOR_BUFFER_BIT,WebGL2RenderingContext.NEAREST)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.RenderTargetBinding",{$kind:"struct",statics:{methods:{op_Implicit:function(renderTarget){return new Microsoft.Xna.Framework.Graphics.RenderTargetBinding.$ctor1(renderTarget)},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.RenderTargetBinding}}},fields:{_renderTarget:null,_arraySlice:0,_depthFormat:0},props:{RenderTarget:{get:function(){return this._renderTarget}},ArraySlice:{get:function(){return this._arraySlice}},DepthFormat:{get:function(){return this._depthFormat}}},ctors:{$ctor1:function(renderTarget){if(this.$initialize(),renderTarget==null)throw new System.ArgumentNullException.$ctor1("renderTarget");this._renderTarget=renderTarget;this._arraySlice=Microsoft.Xna.Framework.Graphics.CubeMapFace.PositiveX;this._depthFormat=renderTarget.DepthStencilFormat},$ctor2:function(renderTarget,cubeMapFace){if(this.$initialize(),renderTarget==null)throw new System.ArgumentNullException.$ctor1("renderTarget");if(cubeMapFace<Microsoft.Xna.Framework.Graphics.CubeMapFace.PositiveX||cubeMapFace>Microsoft.Xna.Framework.Graphics.CubeMapFace.NegativeZ)throw new System.ArgumentOutOfRangeException.$ctor1("cubeMapFace");this._renderTarget=renderTarget;this._arraySlice=cubeMapFace;this._depthFormat=renderTarget.DepthStencilFormat},ctor:function(){this.$initialize()}},methods:{getHashCode:function(){return Bridge.addHash([6962419412,this._renderTarget,this._arraySlice,this._depthFormat])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Graphics.RenderTargetBinding)?Bridge.equals(this._renderTarget,o._renderTarget)&&Bridge.equals(this._arraySlice,o._arraySlice)&&Bridge.equals(this._depthFormat,o._depthFormat):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.RenderTargetBinding;return s._renderTarget=this._renderTarget,s._arraySlice=this._arraySlice,s._depthFormat=this._depthFormat,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceHandle",{$kind:"nested struct",statics:{methods:{Texture:function(handle){var $t;return $t=new Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceHandle,$t.type=Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceType.Texture,$t.handle=handle,$t},Buffer:function(handle){var $t;return $t=new Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceHandle,$t.type=Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceType.Buffer,$t.handle=handle,$t},Shader:function(handle){var $t;return $t=new Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceHandle,$t.type=Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceType.Shader,$t.handle=handle,$t},Program:function(handle){var $t;return $t=new Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceHandle,$t.type=Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceType.Program,$t.handle=handle,$t},Query:function(handle){var $t;return $t=new Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceHandle,$t.type=Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceType.Query,$t.handle=handle,$t},Framebuffer:function(handle){var $t;return $t=new Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceHandle,$t.type=Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceType.Framebuffer,$t.handle=handle,$t},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceHandle}}},fields:{type:0,handle:null},ctors:{ctor:function(){this.$initialize()}},methods:{Free:function(){switch(this.type){case Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceType.Texture:WebHelper.gl.deleteTexture(Bridge.unbox(this.handle));break;case Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceType.Buffer:WebHelper.gl.deleteBuffer(Bridge.unbox(this.handle));break;case Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceType.Shader:WebHelper.gl.isShader(Bridge.unbox(this.handle))&&WebHelper.gl.deleteShader(Bridge.unbox(this.handle));break;case Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceType.Program:WebHelper.gl.isProgram(Bridge.unbox(this.handle))&&WebHelper.gl.deleteProgram(Bridge.unbox(this.handle));break;case Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceType.Framebuffer:WebHelper.gl.deleteFramebuffer(Bridge.unbox(this.handle));break}},getHashCode:function(){return Bridge.addHash([5255831163,this.type,this.handle])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceHandle)?Bridge.equals(this.type,o.type)&&Bridge.equals(this.handle,o.handle):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceHandle;return s.type=this.type,s.handle=this.handle,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.GraphicsDevice.ResourceType",{$kind:"nested enum",statics:{fields:{Texture:0,Buffer:1,Shader:2,Program:3,Query:4,Framebuffer:5}}});Bridge.define("Microsoft.Xna.Framework.Graphics.GraphicsDeviceStatus",{$kind:"enum",statics:{fields:{Normal:0,Lost:1,NotReset:2}}});Bridge.define("Microsoft.Xna.Framework.Graphics.GraphicsExtensions",{statics:{methods:{GetSyncInterval:function(interval){switch(interval){case Microsoft.Xna.Framework.Graphics.PresentInterval.Immediate:return 0;case Microsoft.Xna.Framework.Graphics.PresentInterval.Two:return 2;default:return 1}},IsCompressedFormat:function(format){switch(format){case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt1:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt1a:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt1SRgb:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt3:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt3SRgb:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt5:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt5SRgb:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbaAtcExplicitAlpha:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbaAtcInterpolatedAlpha:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbaPvrtc2Bpp:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbaPvrtc4Bpp:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbEtc1:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbPvrtc2Bpp:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbPvrtc4Bpp:return!0}return!1},GetSize:function(surfaceFormat){switch(surfaceFormat){case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt1:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt1SRgb:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt1a:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbPvrtc2Bpp:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbaPvrtc2Bpp:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbPvrtc4Bpp:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbaPvrtc4Bpp:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbEtc1:return 8;case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt3:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt3SRgb:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt5:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt5SRgb:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbaAtcExplicitAlpha:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbaAtcInterpolatedAlpha:return 16;case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Alpha8:return 1;case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Bgr565:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Bgra4444:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Bgra5551:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.HalfSingle:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.NormalizedByte2:return 2;case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Color:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.ColorSRgb:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Single:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Rg32:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.HalfVector2:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.NormalizedByte4:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Rgba1010102:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Bgra32:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Bgra32SRgb:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Bgr32:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Bgr32SRgb:return 4;case Microsoft.Xna.Framework.Graphics.SurfaceFormat.HalfVector4:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Rgba64:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Vector2:return 8;case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Vector4:return 16;default:throw new System.ArgumentException.ctor;}},GetSize$1:function(elementFormat){switch(elementFormat){case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Single:return 4;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Vector2:return 8;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Vector3:return 12;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Vector4:return 16;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Color:return 4;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Byte4:return 4;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Short2:return 4;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Short4:return 8;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.NormalizedShort2:return 4;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.NormalizedShort4:return 8;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.HalfVector2:return 4;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.HalfVector4:return 8}return 0},GetBlockSize:function(surfaceFormat,width,height){switch(surfaceFormat){case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbPvrtc2Bpp:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbaPvrtc2Bpp:width.v=8;height.v=4;break;case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt1:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt1SRgb:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt1a:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt3:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt3SRgb:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt5:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt5SRgb:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbPvrtc4Bpp:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbaPvrtc4Bpp:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbEtc1:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbaAtcExplicitAlpha:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbaAtcInterpolatedAlpha:width.v=4;height.v=4;break;default:width.v=1;height.v=1;break}},CheckGLError:function(){var error=WebHelper.gl.getError();if(error!==WebGL2RenderingContext.NO_ERROR)throw new Microsoft.Xna.Framework.Graphics.MonoGameGLException("GL.GetError() returned "+System.Double.format(error));},LogGLError:function(location){try{}catch($e1){$e1=System.Exception.create($e1);var ex;if(Bridge.is($e1,Microsoft.Xna.Framework.Graphics.MonoGameGLException))ex=$e1;else throw $e1;}},OpenGLNumberOfElements:function(elementFormat){switch(elementFormat){case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Single:return 1;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Vector2:return 2;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Vector3:return 3;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Vector4:return 4;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Color:return 4;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Byte4:return 4;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Short2:return 2;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Short4:return 4;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.NormalizedShort2:return 2;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.NormalizedShort4:return 4;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.HalfVector2:return 2;case Microsoft.Xna.Framework.Graphics.VertexElementFormat.HalfVector4:return 4}throw new System.ArgumentException.ctor;},OpenGLVertexAttribPointerType:function(elementFormat){switch(elementFormat){case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Single:case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Vector2:case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Vector3:case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Vector4:return Bridge.Int.clip32(WebGL2RenderingContext.FLOAT);case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Color:case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Byte4:return Bridge.Int.clip32(WebGL2RenderingContext.UNSIGNED_BYTE);case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Short2:case Microsoft.Xna.Framework.Graphics.VertexElementFormat.Short4:case Microsoft.Xna.Framework.Graphics.VertexElementFormat.NormalizedShort2:case Microsoft.Xna.Framework.Graphics.VertexElementFormat.NormalizedShort4:return Bridge.Int.clip32(WebGL2RenderingContext.SHORT)}throw new System.ArgumentException.ctor;},OpenGLVertexAttribNormalized:function(element){if(element.VertexElementUsage===Microsoft.Xna.Framework.Graphics.VertexElementUsage.Color)return!0;switch(element.VertexElementFormat){case Microsoft.Xna.Framework.Graphics.VertexElementFormat.NormalizedShort2:case Microsoft.Xna.Framework.Graphics.VertexElementFormat.NormalizedShort4:return!0;default:return!1}},GetBlendEquationMode:function($function){switch($function){case Microsoft.Xna.Framework.Graphics.BlendFunction.Add:return WebGL2RenderingContext.FUNC_ADD;case Microsoft.Xna.Framework.Graphics.BlendFunction.ReverseSubtract:return WebGL2RenderingContext.FUNC_REVERSE_SUBTRACT;case Microsoft.Xna.Framework.Graphics.BlendFunction.Subtract:return WebGL2RenderingContext.FUNC_SUBTRACT;default:throw new System.ArgumentException.ctor;}},GetBlendFactorSrc:function(blend){switch(blend){case Microsoft.Xna.Framework.Graphics.Blend.BlendFactor:return WebGL2RenderingContext.CONSTANT_COLOR;case Microsoft.Xna.Framework.Graphics.Blend.DestinationAlpha:return WebGL2RenderingContext.DST_ALPHA;case Microsoft.Xna.Framework.Graphics.Blend.DestinationColor:return WebGL2RenderingContext.DST_COLOR;case Microsoft.Xna.Framework.Graphics.Blend.InverseBlendFactor:return WebGL2RenderingContext.ONE_MINUS_CONSTANT_COLOR;case Microsoft.Xna.Framework.Graphics.Blend.InverseDestinationAlpha:return WebGL2RenderingContext.ONE_MINUS_DST_ALPHA;case Microsoft.Xna.Framework.Graphics.Blend.InverseDestinationColor:return WebGL2RenderingContext.ONE_MINUS_DST_COLOR;case Microsoft.Xna.Framework.Graphics.Blend.InverseSourceAlpha:return WebGL2RenderingContext.ONE_MINUS_SRC_ALPHA;case Microsoft.Xna.Framework.Graphics.Blend.InverseSourceColor:return WebGL2RenderingContext.ONE_MINUS_SRC_COLOR;case Microsoft.Xna.Framework.Graphics.Blend.One:return WebGL2RenderingContext.ONE;case Microsoft.Xna.Framework.Graphics.Blend.SourceAlpha:return WebGL2RenderingContext.SRC_ALPHA;case Microsoft.Xna.Framework.Graphics.Blend.SourceAlphaSaturation:return WebGL2RenderingContext.SRC_ALPHA_SATURATE;case Microsoft.Xna.Framework.Graphics.Blend.SourceColor:return WebGL2RenderingContext.SRC_COLOR;case Microsoft.Xna.Framework.Graphics.Blend.Zero:return WebGL2RenderingContext.ZERO;default:throw new System.ArgumentOutOfRangeException.$ctor4("blend","The specified blend function is not implemented.");}},GetBlendFactorDest:function(blend){switch(blend){case Microsoft.Xna.Framework.Graphics.Blend.BlendFactor:return WebGL2RenderingContext.CONSTANT_COLOR;case Microsoft.Xna.Framework.Graphics.Blend.DestinationAlpha:return WebGL2RenderingContext.DST_ALPHA;case Microsoft.Xna.Framework.Graphics.Blend.DestinationColor:return WebGL2RenderingContext.DST_COLOR;case Microsoft.Xna.Framework.Graphics.Blend.InverseBlendFactor:return WebGL2RenderingContext.ONE_MINUS_CONSTANT_COLOR;case Microsoft.Xna.Framework.Graphics.Blend.InverseDestinationAlpha:return WebGL2RenderingContext.ONE_MINUS_DST_ALPHA;case Microsoft.Xna.Framework.Graphics.Blend.InverseDestinationColor:return WebGL2RenderingContext.ONE_MINUS_DST_COLOR;case Microsoft.Xna.Framework.Graphics.Blend.InverseSourceAlpha:return WebGL2RenderingContext.ONE_MINUS_SRC_ALPHA;case Microsoft.Xna.Framework.Graphics.Blend.InverseSourceColor:return WebGL2RenderingContext.ONE_MINUS_SRC_COLOR;case Microsoft.Xna.Framework.Graphics.Blend.One:return WebGL2RenderingContext.ONE;case Microsoft.Xna.Framework.Graphics.Blend.SourceAlpha:return WebGL2RenderingContext.SRC_ALPHA;case Microsoft.Xna.Framework.Graphics.Blend.SourceAlphaSaturation:return WebGL2RenderingContext.SRC_ALPHA_SATURATE;case Microsoft.Xna.Framework.Graphics.Blend.SourceColor:return WebGL2RenderingContext.SRC_COLOR;case Microsoft.Xna.Framework.Graphics.Blend.Zero:return WebGL2RenderingContext.ZERO;default:throw new System.ArgumentOutOfRangeException.$ctor4("blend","The specified blend function is not implemented.");}},GetDepthFunction:function(compare){switch(compare){default:case Microsoft.Xna.Framework.Graphics.CompareFunction.Always:return WebGL2RenderingContext.ALWAYS;case Microsoft.Xna.Framework.Graphics.CompareFunction.Equal:return WebGL2RenderingContext.EQUAL;case Microsoft.Xna.Framework.Graphics.CompareFunction.Greater:return WebGL2RenderingContext.GREATER;case Microsoft.Xna.Framework.Graphics.CompareFunction.GreaterEqual:return WebGL2RenderingContext.GEQUAL;case Microsoft.Xna.Framework.Graphics.CompareFunction.Less:return WebGL2RenderingContext.LESS;case Microsoft.Xna.Framework.Graphics.CompareFunction.LessEqual:return WebGL2RenderingContext.LEQUAL;case Microsoft.Xna.Framework.Graphics.CompareFunction.Never:return WebGL2RenderingContext.NEVER;case Microsoft.Xna.Framework.Graphics.CompareFunction.NotEqual:return WebGL2RenderingContext.NOTEQUAL}},GetGLFormat:function(format,graphicsDevice,glInternalFormat,glFormat,glType){glInternalFormat.v=Bridge.Int.clip32(WebGL2RenderingContext.RGBA);glFormat.v=Bridge.Int.clip32(WebGL2RenderingContext.RGBA);glType.v=Bridge.Int.clip32(WebGL2RenderingContext.UNSIGNED_BYTE);var supportsSRgb=graphicsDevice.GraphicsCapabilities.SupportsSRgb;switch(format){case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Color:glInternalFormat.v=Bridge.Int.clip32(WebGL2RenderingContext.RGBA);glFormat.v=Bridge.Int.clip32(WebGL2RenderingContext.RGBA);glType.v=Bridge.Int.clip32(WebGL2RenderingContext.UNSIGNED_BYTE);break;case Microsoft.Xna.Framework.Graphics.SurfaceFormat.ColorSRgb:glInternalFormat.v=Bridge.Int.clip32(WebHelper.gl.SRGB);glFormat.v=Bridge.Int.clip32(WebGL2RenderingContext.RGBA);glType.v=Bridge.Int.clip32(WebGL2RenderingContext.UNSIGNED_BYTE);break;case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Bgr565:glInternalFormat.v=Bridge.Int.clip32(WebGL2RenderingContext.RGB);glFormat.v=Bridge.Int.clip32(WebGL2RenderingContext.RGB);glType.v=Bridge.Int.clip32(WebGL2RenderingContext.UNSIGNED_SHORT_5_6_5);break;case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Bgra4444:glInternalFormat.v=Bridge.Int.clip32(WebGL2RenderingContext.RGBA);glFormat.v=Bridge.Int.clip32(WebGL2RenderingContext.RGBA);glType.v=Bridge.Int.clip32(WebGL2RenderingContext.UNSIGNED_SHORT_4_4_4_4);break;case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Bgra5551:glInternalFormat.v=Bridge.Int.clip32(WebGL2RenderingContext.RGBA);glFormat.v=Bridge.Int.clip32(WebGL2RenderingContext.RGBA);glType.v=Bridge.Int.clip32(WebGL2RenderingContext.UNSIGNED_SHORT_5_5_5_1);break;case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Alpha8:glInternalFormat.v=Bridge.Int.clip32(WebGL2RenderingContext.LUMINANCE);glFormat.v=Bridge.Int.clip32(WebGL2RenderingContext.LUMINANCE);glType.v=Bridge.Int.clip32(WebGL2RenderingContext.UNSIGNED_BYTE);break;default:throw new System.NotSupportedException.ctor;}},GetPrimitiveTypeGL:function(primitiveType){switch(primitiveType){case Microsoft.Xna.Framework.Graphics.PrimitiveType.LineList:return Bridge.Int.clip32(WebGL2RenderingContext.LINES);case Microsoft.Xna.Framework.Graphics.PrimitiveType.LineStrip:return Bridge.Int.clip32(WebGL2RenderingContext.LINE_STRIP);case Microsoft.Xna.Framework.Graphics.PrimitiveType.TriangleList:return Bridge.Int.clip32(WebGL2RenderingContext.TRIANGLES);case Microsoft.Xna.Framework.Graphics.PrimitiveType.TriangleStrip:return Bridge.Int.clip32(WebGL2RenderingContext.TRIANGLE_STRIP)}throw new System.ArgumentException.ctor;},GetBoundTexture2D:function(){var ret=WebHelper.gl.getParameter(WebGL2RenderingContext.TEXTURE_BINDING_2D);return Bridge.unbox(ret)}}}});Bridge.define("Microsoft.Xna.Framework.Graphics.GraphicsMetrics",{$kind:"struct",statics:{methods:{op_Subtraction:function(value1,value2){var $t;return $t=new Microsoft.Xna.Framework.Graphics.GraphicsMetrics,$t._clearCount=value1._clearCount.sub(value2._clearCount),$t._drawCount=value1._drawCount.sub(value2._drawCount),$t._pixelShaderCount=value1._pixelShaderCount.sub(value2._pixelShaderCount),$t._primitiveCount=value1._primitiveCount.sub(value2._primitiveCount),$t._spriteCount=value1._spriteCount.sub(value2._spriteCount),$t._targetCount=value1._targetCount.sub(value2._targetCount),$t._textureCount=value1._textureCount.sub(value2._textureCount),$t._vertexShaderCount=value1._vertexShaderCount.sub(value2._vertexShaderCount),$t},op_Addition:function(value1,value2){var $t;return $t=new Microsoft.Xna.Framework.Graphics.GraphicsMetrics,$t._clearCount=value1._clearCount.add(value2._clearCount),$t._drawCount=value1._drawCount.add(value2._drawCount),$t._pixelShaderCount=value1._pixelShaderCount.add(value2._pixelShaderCount),$t._primitiveCount=value1._primitiveCount.add(value2._primitiveCount),$t._spriteCount=value1._spriteCount.add(value2._spriteCount),$t._targetCount=value1._targetCount.add(value2._targetCount),$t._textureCount=value1._textureCount.add(value2._textureCount),$t._vertexShaderCount=value1._vertexShaderCount.add(value2._vertexShaderCount),$t},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.GraphicsMetrics}}},fields:{_clearCount:System.Int64(0),_drawCount:System.Int64(0),_pixelShaderCount:System.Int64(0),_primitiveCount:System.Int64(0),_spriteCount:System.Int64(0),_targetCount:System.Int64(0),_textureCount:System.Int64(0),_vertexShaderCount:System.Int64(0)},props:{ClearCount:{get:function(){return this._clearCount}},DrawCount:{get:function(){return this._drawCount}},PixelShaderCount:{get:function(){return this._pixelShaderCount}},PrimitiveCount:{get:function(){return this._primitiveCount}},SpriteCount:{get:function(){return this._spriteCount}},TargetCount:{get:function(){return this._targetCount}},TextureCount:{get:function(){return this._textureCount}},VertexShaderCount:{get:function(){return this._vertexShaderCount}}},ctors:{ctor:function(){this.$initialize()}},methods:{getHashCode:function(){return Bridge.addHash([5749122149,this._clearCount,this._drawCount,this._pixelShaderCount,this._primitiveCount,this._spriteCount,this._targetCount,this._textureCount,this._vertexShaderCount])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Graphics.GraphicsMetrics)?Bridge.equals(this._clearCount,o._clearCount)&&Bridge.equals(this._drawCount,o._drawCount)&&Bridge.equals(this._pixelShaderCount,o._pixelShaderCount)&&Bridge.equals(this._primitiveCount,o._primitiveCount)&&Bridge.equals(this._spriteCount,o._spriteCount)&&Bridge.equals(this._targetCount,o._targetCount)&&Bridge.equals(this._textureCount,o._textureCount)&&Bridge.equals(this._vertexShaderCount,o._vertexShaderCount):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.GraphicsMetrics;return s._clearCount=this._clearCount,s._drawCount=this._drawCount,s._pixelShaderCount=this._pixelShaderCount,s._primitiveCount=this._primitiveCount,s._spriteCount=this._spriteCount,s._targetCount=this._targetCount,s._textureCount=this._textureCount,s._vertexShaderCount=this._vertexShaderCount,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.GraphicsProfile",{$kind:"enum",statics:{fields:{Reach:0,HiDef:1}}});Bridge.define("Microsoft.Xna.Framework.Graphics.IGraphicsDeviceService",{$kind:"interface"});Bridge.define("Microsoft.Xna.Framework.Graphics.VertexInputLayout",{inherits:function(){return[System.IEquatable$1(Microsoft.Xna.Framework.Graphics.VertexInputLayout)]},statics:{methods:{op_Equality:function(left,right){return Bridge.equals(left,right)},op_Inequality:function(left,right){return!Bridge.equals(left,right)}}},fields:{VertexDeclarations:null,InstanceFrequencies:null,Count:0},alias:["equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Graphics$VertexInputLayout$equalsT"],ctors:{$ctor1:function(maxVertexBufferSlots){Microsoft.Xna.Framework.Graphics.VertexInputLayout.ctor.call(this,System.Array.init(maxVertexBufferSlots,null,Microsoft.Xna.Framework.Graphics.VertexDeclaration),System.Array.init(maxVertexBufferSlots,0,System.Int32),0)},ctor:function(vertexDeclarations,instanceFrequencies,count){this.$initialize();this.Count=count;this.VertexDeclarations=vertexDeclarations;this.InstanceFrequencies=instanceFrequencies}},methods:{equals:function(obj){return this.equalsT(Bridge.as(obj,Microsoft.Xna.Framework.Graphics.VertexInputLayout))},equalsT:function(other){var $t,$t1,$t2,$t3,i,i1;if(Bridge.referenceEquals(null,other))return!1;if(Bridge.referenceEquals(this,other))return!0;if(this.Count!==other.Count)return!1;for(i=0;i<this.Count;i=i+1|0)if(!($t=this.VertexDeclarations)[System.Array.index(i,$t)].equalsT(($t1=other.VertexDeclarations)[System.Array.index(i,$t1)]))return!1;for(i1=0;i1<this.Count;i1=i1+1|0)if(!($t2=this.InstanceFrequencies)[System.Array.index(i1,$t2)]===($t3=other.InstanceFrequencies)[System.Array.index(i1,$t3)])return!1;return!0},getHashCode:function(){var hashCode=0,i;if(this.Count>0)for(hashCode=this.VertexDeclarations[0].getHashCode(),hashCode=Bridge.Int.mul(hashCode,397)^this.InstanceFrequencies[0],i=1;i<this.Count;i=i+1|0)hashCode=Bridge.Int.mul(hashCode,397)^this.VertexDeclarations[i].getHashCode(),hashCode=Bridge.Int.mul(hashCode,397)^this.InstanceFrequencies[i];return hashCode}}});Bridge.define("Microsoft.Xna.Framework.Graphics.IndexElementSize",{$kind:"enum",statics:{fields:{SixteenBits:0,ThirtyTwoBits:1}}});Bridge.define("Microsoft.Xna.Framework.Graphics.IRenderTarget",{$kind:"interface"});Bridge.define("Microsoft.Xna.Framework.Graphics.IVertexType",{$kind:"interface"});Bridge.define("Microsoft.Xna.Framework.Graphics.MonoGameGLException",{inherits:[System.Exception],ctors:{ctor:function(message){this.$initialize();System.Exception.ctor.call(this,message)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.NoSuitableGraphicsDeviceException",{inherits:[System.Exception],ctors:{ctor:function(){this.$initialize();System.Exception.ctor.call(this)},$ctor1:function(message){this.$initialize();System.Exception.ctor.call(this,message)},$ctor2:function(message,inner){this.$initialize();System.Exception.ctor.call(this,message,inner)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector",{$kind:"interface"});Bridge.define("Microsoft.Xna.Framework.Graphics.PackedVector.HalfTypeHelper",{statics:{methods:{Convert$2:function(f){var uif=new Microsoft.Xna.Framework.Graphics.PackedVector.HalfTypeHelper.uif;return uif.f=f,Microsoft.Xna.Framework.Graphics.PackedVector.HalfTypeHelper.Convert$1(uif.i)},Convert$1:function(i){var s=i>>16&32768,e=(i>>23&255)-112|0,m=i&8388607;if(e<=0){if(e<-10)return s&65535;m=m|8388608;var t=14-e|0,a=(1<<(t-1|0))-1|0,b=m>>t&1;return m=((m+a|0)+b|0)>>t,(s|m)&65535}else return e===143?m===0?(s|31744)&65535:(m=m>>13,(s|31744|m|(m===0?1:0))&65535):(m=(m+4095|0)+(m>>13&1)|0,(m&8388608)!=0&&(m=0,e=e+1|0),e>30)?(s|31744)&65535:(s|e<<10|m>>13)&65535},Convert:function(value){var rst,mantissa=(value&1023)>>>0,exp=4294967282,uif;if((value&-33792)==0)if(mantissa!==0){while((mantissa&1024)>>>0==0)exp=exp-1>>>0,mantissa=mantissa<<1>>>0;mantissa=(mantissa&4294966271)>>>0;rst=(((value&32768)>>>0<<16>>>0|exp+127>>>0<<23>>>0)>>>0|mantissa<<13>>>0)>>>0}else rst=(value&32768)<<16>>>0;else rst=(((value&32768)>>>0<<16>>>0|(((value>>>10&31)>>>0)-15>>>0)+127>>>0<<23>>>0)>>>0|mantissa<<13>>>0)>>>0;return uif=new Microsoft.Xna.Framework.Graphics.PackedVector.HalfTypeHelper.uif,uif.u=rst,uif.f}}}});Bridge.define("Microsoft.Xna.Framework.Graphics.PackedVector.HalfTypeHelper.uif",{$kind:"nested struct",statics:{methods:{getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.PackedVector.HalfTypeHelper.uif}}},fields:{f:0,i:0,u:0},ctors:{ctor:function(){this.$initialize()}},methods:{getHashCode:function(){return Bridge.addHash([6711669,this.f,this.i,this.u])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Graphics.PackedVector.HalfTypeHelper.uif)?Bridge.equals(this.f,o.f)&&Bridge.equals(this.i,o.i)&&Bridge.equals(this.u,o.u):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.PackedVector.HalfTypeHelper.uif;return s.f=this.f,s.i=this.i,s.u=this.u,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.PresentationEventArgs",{fields:{PresentationParameters:null},ctors:{ctor:function(presentationParameters){this.$initialize();System.Object.call(this);this.PresentationParameters=presentationParameters}}});Bridge.define("Microsoft.Xna.Framework.Graphics.PresentationParameters",{statics:{fields:{DefaultPresentRate:0},ctors:{init:function(){this.DefaultPresentRate=60}}},fields:{depthStencilFormat:0,backBufferFormat:0,backBufferHeight:0,backBufferWidth:0,deviceWindowHandle:null,multiSampleCount:0,disposed:!1,isFullScreen:!1,hardwareModeSwitch:!1,PresentationInterval:0,DisplayOrientation:0,RenderTargetUsage:0},props:{BackBufferFormat:{get:function(){return this.backBufferFormat},set:function(value){this.backBufferFormat=value}},BackBufferHeight:{get:function(){return this.backBufferHeight},set:function(value){this.backBufferHeight=value}},BackBufferWidth:{get:function(){return this.backBufferWidth},set:function(value){this.backBufferWidth=value}},Bounds:{get:function(){return new Microsoft.Xna.Framework.Rectangle.$ctor2(0,0,this.backBufferWidth,this.backBufferHeight)}},DeviceWindowHandle:{get:function(){return this.deviceWindowHandle},set:function(value){this.deviceWindowHandle=value}},DepthStencilFormat:{get:function(){return this.depthStencilFormat},set:function(value){this.depthStencilFormat=value}},IsFullScreen:{get:function(){return this.isFullScreen},set:function(value){this.isFullScreen=value}},HardwareModeSwitch:{get:function(){return this.hardwareModeSwitch},set:function(value){this.hardwareModeSwitch=value}},MultiSampleCount:{get:function(){return this.multiSampleCount},set:function(value){this.multiSampleCount=value}}},ctors:{init:function(){this.backBufferHeight=Microsoft.Xna.Framework.GraphicsDeviceManager.DefaultBackBufferHeight;this.backBufferWidth=Microsoft.Xna.Framework.GraphicsDeviceManager.DefaultBackBufferWidth;this.hardwareModeSwitch=!0},ctor:function(){this.$initialize();this.Clear()}},methods:{Clear:function(){this.backBufferFormat=Microsoft.Xna.Framework.Graphics.SurfaceFormat.Color;this.backBufferWidth=Microsoft.Xna.Framework.GraphicsDeviceManager.DefaultBackBufferWidth;this.backBufferHeight=Microsoft.Xna.Framework.GraphicsDeviceManager.DefaultBackBufferHeight;this.deviceWindowHandle=Microsoft.Xna.Framework.IntPtr.Zero;this.depthStencilFormat=Microsoft.Xna.Framework.Graphics.DepthFormat.None;this.multiSampleCount=0;this.PresentationInterval=Microsoft.Xna.Framework.Graphics.PresentInterval.Default;this.DisplayOrientation=Microsoft.Xna.Framework.DisplayOrientation.Default},Clone:function(){var clone=new Microsoft.Xna.Framework.Graphics.PresentationParameters;return clone.backBufferFormat=this.backBufferFormat,clone.backBufferHeight=this.backBufferHeight,clone.backBufferWidth=this.backBufferWidth,clone.deviceWindowHandle=this.deviceWindowHandle,clone.depthStencilFormat=this.depthStencilFormat,clone.IsFullScreen=this.IsFullScreen,clone.HardwareModeSwitch=this.HardwareModeSwitch,clone.multiSampleCount=this.multiSampleCount,clone.PresentationInterval=this.PresentationInterval,clone.DisplayOrientation=this.DisplayOrientation,clone.RenderTargetUsage=this.RenderTargetUsage,clone}}});Bridge.define("Microsoft.Xna.Framework.Graphics.PresentInterval",{$kind:"enum",statics:{fields:{Default:0,One:1,Two:2,Immediate:3}}});Bridge.define("Microsoft.Xna.Framework.Graphics.PrimitiveType",{$kind:"enum",statics:{fields:{TriangleList:0,TriangleStrip:1,LineList:2,LineStrip:3}}});Bridge.define("Microsoft.Xna.Framework.Graphics.RenderTargetUsage",{$kind:"enum",statics:{fields:{DiscardContents:0,PreserveContents:1,PlatformContents:2}}});Bridge.define("Microsoft.Xna.Framework.Graphics.ResourceCreatedEventArgs",{fields:{Resource:null}});Bridge.define("Microsoft.Xna.Framework.Graphics.ResourceDestroyedEventArgs",{fields:{Name:null,Tag:null}});Bridge.define("Microsoft.Xna.Framework.Graphics.SamplerInfo",{$kind:"struct",statics:{methods:{getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.SamplerInfo}}},fields:{type:0,textureSlot:0,samplerSlot:0,name:null,state:null,parameter:0},ctors:{ctor:function(){this.$initialize()}},methods:{getHashCode:function(){return Bridge.addHash([3125751085,this.type,this.textureSlot,this.samplerSlot,this.name,this.state,this.parameter])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Graphics.SamplerInfo)?Bridge.equals(this.type,o.type)&&Bridge.equals(this.textureSlot,o.textureSlot)&&Bridge.equals(this.samplerSlot,o.samplerSlot)&&Bridge.equals(this.name,o.name)&&Bridge.equals(this.state,o.state)&&Bridge.equals(this.parameter,o.parameter):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.SamplerInfo;return s.type=this.type,s.textureSlot=this.textureSlot,s.samplerSlot=this.samplerSlot,s.name=this.name,s.state=this.state,s.parameter=this.parameter,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.SamplerStateCollection",{fields:{_graphicsDevice:null,_samplerStateAnisotropicClamp:null,_samplerStateAnisotropicWrap:null,_samplerStateLinearClamp:null,_samplerStateLinearWrap:null,_samplerStatePointClamp:null,_samplerStatePointWrap:null,_samplers:null,_actualSamplers:null,_applyToVertexStage:!1},ctors:{ctor:function(device,maxSamplers,applyToVertexStage){this.$initialize();this._graphicsDevice=device;this._samplerStateAnisotropicClamp=Microsoft.Xna.Framework.Graphics.SamplerState.AnisotropicClamp.Clone();this._samplerStateAnisotropicWrap=Microsoft.Xna.Framework.Graphics.SamplerState.AnisotropicWrap.Clone();this._samplerStateLinearClamp=Microsoft.Xna.Framework.Graphics.SamplerState.LinearClamp.Clone();this._samplerStateLinearWrap=Microsoft.Xna.Framework.Graphics.SamplerState.LinearWrap.Clone();this._samplerStatePointClamp=Microsoft.Xna.Framework.Graphics.SamplerState.PointClamp.Clone();this._samplerStatePointWrap=Microsoft.Xna.Framework.Graphics.SamplerState.PointWrap.Clone();this._samplers=System.Array.init(maxSamplers,null,Microsoft.Xna.Framework.Graphics.SamplerState);this._actualSamplers=System.Array.init(maxSamplers,null,Microsoft.Xna.Framework.Graphics.SamplerState);this._applyToVertexStage=applyToVertexStage;this.Clear()}},methods:{getItem:function(index){return this._samplers[System.Array.index(index,this._samplers)]},setItem:function(index,value){if(value==null)throw new System.ArgumentNullException.$ctor1("value");if(!Bridge.referenceEquals(this._samplers[System.Array.index(index,this._samplers)],value)){this._samplers[System.Array.index(index,this._samplers)]=value;var newSamplerState=value;Bridge.referenceEquals(value,Microsoft.Xna.Framework.Graphics.SamplerState.AnisotropicClamp)?newSamplerState=this._samplerStateAnisotropicClamp:Bridge.referenceEquals(value,Microsoft.Xna.Framework.Graphics.SamplerState.AnisotropicWrap)?newSamplerState=this._samplerStateAnisotropicWrap:Bridge.referenceEquals(value,Microsoft.Xna.Framework.Graphics.SamplerState.LinearClamp)?newSamplerState=this._samplerStateLinearClamp:Bridge.referenceEquals(value,Microsoft.Xna.Framework.Graphics.SamplerState.LinearWrap)?newSamplerState=this._samplerStateLinearWrap:Bridge.referenceEquals(value,Microsoft.Xna.Framework.Graphics.SamplerState.PointClamp)?newSamplerState=this._samplerStatePointClamp:Bridge.referenceEquals(value,Microsoft.Xna.Framework.Graphics.SamplerState.PointWrap)&&(newSamplerState=this._samplerStatePointWrap);newSamplerState.BindToGraphicsDevice(this._graphicsDevice);this._actualSamplers[System.Array.index(index,this._actualSamplers)]=newSamplerState;this.PlatformSetSamplerState(index)}},Clear:function(){for(var i=0;i<this._samplers.length;i=i+1|0)this._samplers[System.Array.index(i,this._samplers)]=Microsoft.Xna.Framework.Graphics.SamplerState.LinearWrap,this._samplerStateLinearWrap.BindToGraphicsDevice(this._graphicsDevice),this._actualSamplers[System.Array.index(i,this._actualSamplers)]=this._samplerStateLinearWrap;this.PlatformClear()},Dirty:function(){this.PlatformDirty()},PlatformSetSamplerState:function(index){},PlatformClear:function(){},PlatformDirty:function(){},PlatformSetSamplers:function(device){for(var sampler,texture,i=0;i<this._actualSamplers.length;i=i+1|0)sampler=this._actualSamplers[System.Array.index(i,this._actualSamplers)],texture=device.Textures.getItem(i),sampler!=null&&texture!=null&&!Bridge.referenceEquals(sampler,texture.glLastSamplerState)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.SamplerType",{$kind:"enum",statics:{fields:{Sampler2D:0,SamplerCube:1,SamplerVolume:2,Sampler1D:3}}});Bridge.define("Microsoft.Xna.Framework.Graphics.SetDataOptions",{$kind:"enum",statics:{fields:{None:0,Discard:1,NoOverwrite:2}}});Bridge.define("Microsoft.Xna.Framework.Graphics.ShaderProgram",{fields:{Program:null,_uniformLocations:null},ctors:{init:function(){this._uniformLocations=new(System.Collections.Generic.Dictionary$2(System.String,WebGLUniformLocation))},ctor:function(program){this.$initialize();this.Program=program}},methods:{GetUniformLocation:function(name){if(this._uniformLocations.containsKey(name))return this._uniformLocations.get(name);var location=WebHelper.gl.getUniformLocation(this.Program,name);return this._uniformLocations.set(name,location),location}}});Bridge.define("Microsoft.Xna.Framework.Graphics.ShaderProgramCache",{inherits:[System.IDisposable],fields:{_programCache:null,_graphicsDevice:null,disposed:!1},alias:["Dispose","System$IDisposable$Dispose"],ctors:{init:function(){this._programCache=new(System.Collections.Generic.Dictionary$2(System.Int32,Microsoft.Xna.Framework.Graphics.ShaderProgram))},ctor:function(graphicsDevice){this.$initialize();this._graphicsDevice=graphicsDevice}},methods:{Clear:function(){var $t,pair;$t=Bridge.getEnumerator(this._programCache);try{while($t.moveNext())pair=$t.Current,this._graphicsDevice.DisposeProgram(pair.value.Program)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}this._programCache.clear()},GetProgram:function(vertexShader,pixelShader){var key=vertexShader.HashKey|pixelShader.HashKey;return this._programCache.containsKey(key)||this._programCache.add(key,this.Link(vertexShader,pixelShader)),this._programCache.get(key)},Link:function(vertexShader,pixelShader){var program=WebHelper.gl.createProgram(),linked,log;if(WebHelper.gl.attachShader(program,vertexShader.GetShaderHandle()),WebHelper.gl.attachShader(program,pixelShader.GetShaderHandle()),WebHelper.gl.linkProgram(program),WebHelper.gl.useProgram(program),vertexShader.GetVertexAttributeLocations(program),pixelShader.ApplySamplerTextureUnits(program),linked=System.Nullable.getValue(Bridge.cast(Bridge.unbox(WebHelper.gl.getProgramParameter(program,WebGL2RenderingContext.LINK_STATUS),System.Boolean),System.Boolean)),!linked){log=WebHelper.gl.getProgramInfoLog(program);WebHelper.gl.detachShader(program,vertexShader.GetShaderHandle());WebHelper.gl.detachShader(program,pixelShader.GetShaderHandle());this._graphicsDevice.DisposeProgram(program);throw new System.InvalidOperationException.$ctor1("Unable to link effect program");}return new Microsoft.Xna.Framework.Graphics.ShaderProgram(program)},Dispose:function(){this.Dispose$1(!0);System.GC.SuppressFinalize(this)},Dispose$1:function(disposing){this.disposed||(disposing&&this.Clear(),this.disposed=!0)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.ShaderStage",{$kind:"enum",statics:{fields:{Vertex:0,Pixel:1}}});Bridge.define("Microsoft.Xna.Framework.Graphics.SpriteBatcher",{statics:{fields:{InitialBatchSize:0,MaxBatchSize:0,InitialVertexArraySize:0},ctors:{init:function(){this.InitialBatchSize=256;this.MaxBatchSize=5461;this.InitialVertexArraySize=256}}},fields:{_batchItemList:null,_batchItemCount:0,_device:null,_index:null,_vertexArray:null},ctors:{ctor:function(device){this.$initialize();this._device=device;this._batchItemList=System.Array.init(Microsoft.Xna.Framework.Graphics.SpriteBatcher.InitialBatchSize,null,Microsoft.Xna.Framework.Graphics.SpriteBatchItem);this._batchItemCount=0;for(var i=0;i<Microsoft.Xna.Framework.Graphics.SpriteBatcher.InitialBatchSize;i=i+1|0)this._batchItemList[System.Array.index(i,this._batchItemList)]=new Microsoft.Xna.Framework.Graphics.SpriteBatchItem;this.EnsureArrayCapacity(Microsoft.Xna.Framework.Graphics.SpriteBatcher.InitialBatchSize)}},methods:{CreateBatchItem:function(){var oldSize,newSize,i;if(this._batchItemCount>=this._batchItemList.length){for(oldSize=this._batchItemList.length,newSize=oldSize+(Bridge.Int.div(oldSize,2)|0)|0,newSize=(newSize+63|0)&-64,System.Array.resize(Bridge.ref(this,"_batchItemList"),newSize,null),i=oldSize;i<newSize;i=i+1|0)this._batchItemList[System.Array.index(i,this._batchItemList)]=new Microsoft.Xna.Framework.Graphics.SpriteBatchItem;this.EnsureArrayCapacity(Math.min(newSize,Microsoft.Xna.Framework.Graphics.SpriteBatcher.MaxBatchSize))}return this._batchItemList[System.Array.index(Bridge.identity(this._batchItemCount,this._batchItemCount=this._batchItemCount+1|0),this._batchItemList)]},EnsureArrayCapacity:function(numBatchItems){var $t,neededCapacity=Bridge.Int.mul(6,numBatchItems),newIndex,start,indexpos,i;if(this._index==null||!(neededCapacity<=this._index.length)){for(newIndex=System.Array.init(Bridge.Int.mul(6,numBatchItems),0,System.Int16),start=0,this._index!=null&&($t=this._index,System.Array.copy($t,0,newIndex,0,$t.length),start=Bridge.Int.div(this._index.length,6)|0),this._index=System.Array.init(newIndex.length,0,System.Int16),indexpos=0,i=start;i<numBatchItems;i=i+1|0,indexpos=indexpos+6|0)this._index[System.Array.index(indexpos+0|0,this._index)]=Bridge.Int.sxs((Bridge.Int.mul(i,4)+0|0)&65535),this._index[System.Array.index(indexpos+1|0,this._index)]=Bridge.Int.sxs((Bridge.Int.mul(i,4)+1|0)&65535),this._index[System.Array.index(indexpos+2|0,this._index)]=Bridge.Int.sxs((Bridge.Int.mul(i,4)+2|0)&65535),this._index[System.Array.index(indexpos+3|0,this._index)]=Bridge.Int.sxs((Bridge.Int.mul(i,4)+1|0)&65535),this._index[System.Array.index(indexpos+4|0,this._index)]=Bridge.Int.sxs((Bridge.Int.mul(i,4)+3|0)&65535),this._index[System.Array.index(indexpos+5|0,this._index)]=Bridge.Int.sxs((Bridge.Int.mul(i,4)+2|0)&65535);this._vertexArray=System.Array.init(Bridge.Int.mul(4,numBatchItems),function(){return new Microsoft.Xna.Framework.Graphics.VertexPositionColorTexture},Microsoft.Xna.Framework.Graphics.VertexPositionColorTexture)}},DrawBatch:function(sortMode,effect){var batchIndex,batchCount,vertexArrayPos,i,item,shouldFlush;if(effect!=null&&effect.IsDisposed)throw new System.ObjectDisposedException.$ctor1("effect");if(this._batchItemCount!==0){switch(sortMode){case Microsoft.Xna.Framework.Graphics.SpriteSortMode.Texture:case Microsoft.Xna.Framework.Graphics.SpriteSortMode.FrontToBack:case Microsoft.Xna.Framework.Graphics.SpriteSortMode.BackToFront:System.Array.sort(this._batchItemList,0,this._batchItemCount);break}for(batchIndex=0,batchCount=this._batchItemCount,this._device._graphicsMetrics._spriteCount=this._device._graphicsMetrics._spriteCount.add(System.Int64(batchCount));batchCount>0;){var startIndex=0,index=0,tex=null,numBatchesToProcess=batchCount;for(numBatchesToProcess>Microsoft.Xna.Framework.Graphics.SpriteBatcher.MaxBatchSize&&(numBatchesToProcess=Microsoft.Xna.Framework.Graphics.SpriteBatcher.MaxBatchSize),vertexArrayPos=0,i=0;i<numBatchesToProcess;i=i+1|0,batchIndex=batchIndex+1|0,index=index+4|0,vertexArrayPos=vertexArrayPos+4|0)item=this._batchItemList[System.Array.index(batchIndex,this._batchItemList)],shouldFlush=!Bridge.referenceEquals(item.Texture,tex),shouldFlush&&(this.FlushVertexArray(startIndex,index,effect,tex),tex=item.Texture,startIndex=index=0,vertexArrayPos=0,this._device.Textures.setItem(0,tex)),this._vertexArray[System.Array.index(vertexArrayPos+0|0,this._vertexArray)]=item.vertexTL.$clone(),this._vertexArray[System.Array.index(vertexArrayPos+1|0,this._vertexArray)]=item.vertexTR.$clone(),this._vertexArray[System.Array.index(vertexArrayPos+2|0,this._vertexArray)]=item.vertexBL.$clone(),this._vertexArray[System.Array.index(vertexArrayPos+3|0,this._vertexArray)]=item.vertexBR.$clone(),item.Texture=null;this.FlushVertexArray(startIndex,index,effect,tex);batchCount=batchCount-numBatchesToProcess|0}this._batchItemCount=0}},FlushVertexArray:function(start,end,effect,texture){var $t,vertexCount,passes,pass;if(start!==end)if(vertexCount=end-start|0,effect!=null){passes=effect.CurrentTechnique.Passes;$t=Bridge.getEnumerator(passes);try{while($t.moveNext())pass=$t.Current,pass.Apply(),this._device.Textures.setItem(0,texture),this._device.DrawUserIndexedPrimitives$1(Bridge.global.Microsoft.Xna.Framework.Graphics.VertexPositionColorTexture,Microsoft.Xna.Framework.Graphics.PrimitiveType.TriangleList,this._vertexArray,0,vertexCount,this._index,0,Bridge.Int.mul(Bridge.Int.div(vertexCount,4)|0,2),Microsoft.Xna.Framework.Graphics.VertexPositionColorTexture.VertexDeclaration)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}else this._device.DrawUserIndexedPrimitives$1(Bridge.global.Microsoft.Xna.Framework.Graphics.VertexPositionColorTexture,Microsoft.Xna.Framework.Graphics.PrimitiveType.TriangleList,this._vertexArray,0,vertexCount,this._index,0,Bridge.Int.mul(Bridge.Int.div(vertexCount,4)|0,2),Microsoft.Xna.Framework.Graphics.VertexPositionColorTexture.VertexDeclaration)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.SpriteBatchItem",{inherits:function(){return[System.IComparable$1(Microsoft.Xna.Framework.Graphics.SpriteBatchItem)]},fields:{Texture:null,SortKey:0,vertexTL:null,vertexTR:null,vertexBL:null,vertexBR:null},alias:["compareTo",["System$IComparable$1$Microsoft$Xna$Framework$Graphics$SpriteBatchItem$compareTo","System$IComparable$1$compareTo"]],ctors:{init:function(){this.vertexTL=new Microsoft.Xna.Framework.Graphics.VertexPositionColorTexture;this.vertexTR=new Microsoft.Xna.Framework.Graphics.VertexPositionColorTexture;this.vertexBL=new Microsoft.Xna.Framework.Graphics.VertexPositionColorTexture;this.vertexBR=new Microsoft.Xna.Framework.Graphics.VertexPositionColorTexture},ctor:function(){this.$initialize();this.vertexTL=new Microsoft.Xna.Framework.Graphics.VertexPositionColorTexture.ctor;this.vertexTR=new Microsoft.Xna.Framework.Graphics.VertexPositionColorTexture.ctor;this.vertexBL=new Microsoft.Xna.Framework.Graphics.VertexPositionColorTexture.ctor;this.vertexBR=new Microsoft.Xna.Framework.Graphics.VertexPositionColorTexture.ctor}},methods:{Set$1:function(x,y,dx,dy,w,h,sin,cos,color,texCoordTL,texCoordBR,depth){this.vertexTL.Position.X=x+dx*cos-dy*sin;this.vertexTL.Position.Y=y+dx*sin+dy*cos;this.vertexTL.Position.Z=depth;this.vertexTL.Color=color.$clone();this.vertexTL.TextureCoordinate.X=texCoordTL.X;this.vertexTL.TextureCoordinate.Y=texCoordTL.Y;this.vertexTR.Position.X=x+(dx+w)*cos-dy*sin;this.vertexTR.Position.Y=y+(dx+w)*sin+dy*cos;this.vertexTR.Position.Z=depth;this.vertexTR.Color=color.$clone();this.vertexTR.TextureCoordinate.X=texCoordBR.X;this.vertexTR.TextureCoordinate.Y=texCoordTL.Y;this.vertexBL.Position.X=x+dx*cos-(dy+h)*sin;this.vertexBL.Position.Y=y+dx*sin+(dy+h)*cos;this.vertexBL.Position.Z=depth;this.vertexBL.Color=color.$clone();this.vertexBL.TextureCoordinate.X=texCoordTL.X;this.vertexBL.TextureCoordinate.Y=texCoordBR.Y;this.vertexBR.Position.X=x+(dx+w)*cos-(dy+h)*sin;this.vertexBR.Position.Y=y+(dx+w)*sin+(dy+h)*cos;this.vertexBR.Position.Z=depth;this.vertexBR.Color=color.$clone();this.vertexBR.TextureCoordinate.X=texCoordBR.X;this.vertexBR.TextureCoordinate.Y=texCoordBR.Y},Set:function(x,y,w,h,color,texCoordTL,texCoordBR,depth){this.vertexTL.Position.X=x;this.vertexTL.Position.Y=y;this.vertexTL.Position.Z=depth;this.vertexTL.Color=color.$clone();this.vertexTL.TextureCoordinate.X=texCoordTL.X;this.vertexTL.TextureCoordinate.Y=texCoordTL.Y;this.vertexTR.Position.X=x+w;this.vertexTR.Position.Y=y;this.vertexTR.Position.Z=depth;this.vertexTR.Color=color.$clone();this.vertexTR.TextureCoordinate.X=texCoordBR.X;this.vertexTR.TextureCoordinate.Y=texCoordTL.Y;this.vertexBL.Position.X=x;this.vertexBL.Position.Y=y+h;this.vertexBL.Position.Z=depth;this.vertexBL.Color=color.$clone();this.vertexBL.TextureCoordinate.X=texCoordTL.X;this.vertexBL.TextureCoordinate.Y=texCoordBR.Y;this.vertexBR.Position.X=x+w;this.vertexBR.Position.Y=y+h;this.vertexBR.Position.Z=depth;this.vertexBR.Color=color.$clone();this.vertexBR.TextureCoordinate.X=texCoordBR.X;this.vertexBR.TextureCoordinate.Y=texCoordBR.Y},compareTo:function(other){return Bridge.compare(this.SortKey,other.SortKey)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.SpriteEffects",{$kind:"enum",statics:{fields:{None:0,FlipHorizontally:1,FlipVertically:2}},$flags:!0});Bridge.define("Microsoft.Xna.Framework.Graphics.SpriteFont.CharacterRegion",{$kind:"nested struct",statics:{methods:{getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.SpriteFont.CharacterRegion}}},fields:{Start:0,End:0,StartIndex:0},ctors:{$ctor1:function(start,startIndex){this.$initialize();this.Start=start;this.End=start;this.StartIndex=startIndex},ctor:function(){this.$initialize()}},methods:{getHashCode:function(){return Bridge.addHash([5363043711,this.Start,this.End,this.StartIndex])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Graphics.SpriteFont.CharacterRegion)?Bridge.equals(this.Start,o.Start)&&Bridge.equals(this.End,o.End)&&Bridge.equals(this.StartIndex,o.StartIndex):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.SpriteFont.CharacterRegion;return s.Start=this.Start,s.End=this.End,s.StartIndex=this.StartIndex,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.SpriteFont.CharacterSource",{$kind:"nested struct",statics:{methods:{getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.SpriteFont.CharacterSource}}},fields:{_string:null,_builder:null,Length:0},ctors:{$ctor1:function(s){this.$initialize();this._string=s;this._builder=null;this.Length=s.length},$ctor2:function(builder){this.$initialize();this._builder=builder;this._string=null;this.Length=this._builder.getLength()},ctor:function(){this.$initialize()}},methods:{getItem:function(index){return this._string!=null?this._string.charCodeAt(index):this._builder.getChar(index)},getHashCode:function(){return Bridge.addHash([5597987464,this._string,this._builder,this.Length])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Graphics.SpriteFont.CharacterSource)?Bridge.equals(this._string,o._string)&&Bridge.equals(this._builder,o._builder)&&Bridge.equals(this.Length,o.Length):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.SpriteFont.CharacterSource;return s._string=this._string,s._builder=this._builder,s.Length=this.Length,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.SpriteFont.Errors",{$kind:"nested class",statics:{fields:{TextContainsUnresolvableCharacters:null,UnresolvableCharacter:null},ctors:{init:function(){this.TextContainsUnresolvableCharacters="Text contains characters that cannot be resolved by this SpriteFont.";this.UnresolvableCharacter="Character cannot be resolved by this SpriteFont."}}}});Bridge.define("Microsoft.Xna.Framework.Graphics.SpriteFont.Glyph",{$kind:"nested struct",statics:{fields:{Empty:null},ctors:{init:function(){this.Empty=new Microsoft.Xna.Framework.Graphics.SpriteFont.Glyph}},methods:{getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.SpriteFont.Glyph}}},fields:{Character:0,BoundsInTexture:null,Cropping:null,LeftSideBearing:0,RightSideBearing:0,Width:0,WidthIncludingBearings:0},ctors:{init:function(){this.BoundsInTexture=new Microsoft.Xna.Framework.Rectangle;this.Cropping=new Microsoft.Xna.Framework.Rectangle},ctor:function(){this.$initialize()}},methods:{toString:function(){return"CharacterIndex="+String.fromCharCode(this.Character)+", Glyph="+this.BoundsInTexture+", Cropping="+this.Cropping+", Kerning="+System.Single.format(this.LeftSideBearing)+","+System.Single.format(this.Width)+","+System.Single.format(this.RightSideBearing)},getHashCode:function(){return Bridge.addHash([1887005871,this.Character,this.BoundsInTexture,this.Cropping,this.LeftSideBearing,this.RightSideBearing,this.Width,this.WidthIncludingBearings])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Graphics.SpriteFont.Glyph)?Bridge.equals(this.Character,o.Character)&&Bridge.equals(this.BoundsInTexture,o.BoundsInTexture)&&Bridge.equals(this.Cropping,o.Cropping)&&Bridge.equals(this.LeftSideBearing,o.LeftSideBearing)&&Bridge.equals(this.RightSideBearing,o.RightSideBearing)&&Bridge.equals(this.Width,o.Width)&&Bridge.equals(this.WidthIncludingBearings,o.WidthIncludingBearings):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.SpriteFont.Glyph;return s.Character=this.Character,s.BoundsInTexture=this.BoundsInTexture.$clone(),s.Cropping=this.Cropping.$clone(),s.LeftSideBearing=this.LeftSideBearing,s.RightSideBearing=this.RightSideBearing,s.Width=this.Width,s.WidthIncludingBearings=this.WidthIncludingBearings,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.SpriteSortMode",{$kind:"enum",statics:{fields:{Deferred:0,Immediate:1,Texture:2,BackToFront:3,FrontToBack:4}}});Bridge.define("Microsoft.Xna.Framework.Graphics.StencilOperation",{$kind:"enum",statics:{fields:{Keep:0,Zero:1,Replace:2,Increment:3,Decrement:4,IncrementSaturation:5,DecrementSaturation:6,Invert:7}}});Bridge.define("Microsoft.Xna.Framework.Graphics.SurfaceFormat",{$kind:"enum",statics:{fields:{Color:0,Bgr565:1,Bgra5551:2,Bgra4444:3,Dxt1:4,Dxt3:5,Dxt5:6,NormalizedByte2:7,NormalizedByte4:8,Rgba1010102:9,Rg32:10,Rgba64:11,Alpha8:12,Single:13,Vector2:14,Vector4:15,HalfSingle:16,HalfVector2:17,HalfVector4:18,HdrBlendable:19,Bgr32:20,Bgra32:21,ColorSRgb:30,Bgr32SRgb:31,Bgra32SRgb:32,Dxt1SRgb:33,Dxt3SRgb:34,Dxt5SRgb:35,RgbPvrtc2Bpp:50,RgbPvrtc4Bpp:51,RgbaPvrtc2Bpp:52,RgbaPvrtc4Bpp:53,RgbEtc1:60,Dxt1a:70,RgbaAtcExplicitAlpha:80,RgbaAtcInterpolatedAlpha:81}}});Bridge.define("Microsoft.Xna.Framework.Graphics.TargetBlendState",{fields:{_parent:null,_alphaBlendFunction:0,_alphaDestinationBlend:0,_alphaSourceBlend:0,_colorBlendFunction:0,_colorDestinationBlend:0,_colorSourceBlend:0,_colorWriteChannels:0},props:{AlphaBlendFunction:{get:function(){return this._alphaBlendFunction},set:function(value){this._parent.ThrowIfBound();this._alphaBlendFunction=value}},AlphaDestinationBlend:{get:function(){return this._alphaDestinationBlend},set:function(value){this._parent.ThrowIfBound();this._alphaDestinationBlend=value}},AlphaSourceBlend:{get:function(){return this._alphaSourceBlend},set:function(value){this._parent.ThrowIfBound();this._alphaSourceBlend=value}},ColorBlendFunction:{get:function(){return this._colorBlendFunction},set:function(value){this._parent.ThrowIfBound();this._colorBlendFunction=value}},ColorDestinationBlend:{get:function(){return this._colorDestinationBlend},set:function(value){this._parent.ThrowIfBound();this._colorDestinationBlend=value}},ColorSourceBlend:{get:function(){return this._colorSourceBlend},set:function(value){this._parent.ThrowIfBound();this._colorSourceBlend=value}},ColorWriteChannels:{get:function(){return this._colorWriteChannels},set:function(value){this._parent.ThrowIfBound();this._colorWriteChannels=value}}},ctors:{ctor:function(parent){this.$initialize();this._parent=parent;this.AlphaBlendFunction=Microsoft.Xna.Framework.Graphics.BlendFunction.Add;this.AlphaDestinationBlend=Microsoft.Xna.Framework.Graphics.Blend.Zero;this.AlphaSourceBlend=Microsoft.Xna.Framework.Graphics.Blend.One;this.ColorBlendFunction=Microsoft.Xna.Framework.Graphics.BlendFunction.Add;this.ColorDestinationBlend=Microsoft.Xna.Framework.Graphics.Blend.Zero;this.ColorSourceBlend=Microsoft.Xna.Framework.Graphics.Blend.One;this.ColorWriteChannels=Microsoft.Xna.Framework.Graphics.ColorWriteChannels.All}},methods:{Clone:function(parent){var $t;return $t=new Microsoft.Xna.Framework.Graphics.TargetBlendState(parent),$t.AlphaBlendFunction=this.AlphaBlendFunction,$t.AlphaDestinationBlend=this.AlphaDestinationBlend,$t.AlphaSourceBlend=this.AlphaSourceBlend,$t.ColorBlendFunction=this.ColorBlendFunction,$t.ColorDestinationBlend=this.ColorDestinationBlend,$t.ColorSourceBlend=this.ColorSourceBlend,$t.ColorWriteChannels=this.ColorWriteChannels,$t}}});Bridge.define("Microsoft.Xna.Framework.Graphics.Texture2D.SurfaceType",{$kind:"nested enum",statics:{fields:{Texture:0,RenderTarget:1,SwapChainRenderTarget:2}}});Bridge.define("Microsoft.Xna.Framework.Graphics.TextureAddressMode",{$kind:"enum",statics:{fields:{Wrap:0,Clamp:1,Mirror:2,Border:3}}});Bridge.define("Microsoft.Xna.Framework.Graphics.TextureCollection",{fields:{_graphicsDevice:null,_textures:null,_applyToVertexStage:!1,_dirty:0,_targets:null},ctors:{ctor:function(graphicsDevice,maxTextures,applyToVertexStage){this.$initialize();this._graphicsDevice=graphicsDevice;this._textures=System.Array.init(maxTextures,null,Microsoft.Xna.Framework.Graphics.Texture);this._applyToVertexStage=applyToVertexStage;this._dirty=2147483647;this.PlatformInit()}},methods:{getItem:function(index){return this._textures[System.Array.index(index,this._textures)]},setItem:function(index,value){if(this._applyToVertexStage&&!this._graphicsDevice.GraphicsCapabilities.SupportsVertexTextures)throw new System.NotSupportedException.$ctor1("Vertex textures are not supported on this device.");Bridge.referenceEquals(this._textures[System.Array.index(index,this._textures)],value)||(this._textures[System.Array.index(index,this._textures)]=value,this._dirty=this._dirty|1<<index)},Clear:function(){for(var i=0;i<this._textures.length;i=i+1|0)this._textures[System.Array.index(i,this._textures)]=null;this.PlatformClear();this._dirty=2147483647},Dirty:function(){this._dirty=2147483647},SetTextures:function(device){(!this._applyToVertexStage||device.GraphicsCapabilities.SupportsVertexTextures)&&this.PlatformSetTextures(device)},PlatformInit:function(){this._targets=System.Array.init(this._textures.length,0,System.Double)},PlatformClear:function(){for(var i=0;i<this._targets.length;i=i+1|0)this._targets[System.Array.index(i,this._targets)]=0},PlatformSetTextures:function(device){var i,mask,tex;if(this._dirty!==0){for(i=0;i<this._textures.length;i=i+1|0)if((mask=1<<i,(this._dirty&mask)!=0)&&(tex=this._textures[System.Array.index(i,this._textures)],WebHelper.gl.activeTexture(WebGL2RenderingContext.TEXTURE0+i),this._targets[System.Array.index(i,this._targets)]!==0&&(tex==null||this._targets[System.Array.index(i,this._targets)]!==tex.glTarget)&&(WebHelper.gl.bindTexture(this._targets[System.Array.index(i,this._targets)],null),this._targets[System.Array.index(i,this._targets)]=0),tex!=null&&(this._targets[System.Array.index(i,this._targets)]=tex.glTarget,WebHelper.gl.bindTexture(tex.glTarget,tex.glTexture),this._graphicsDevice._graphicsMetrics._textureCount=this._graphicsDevice._graphicsMetrics._textureCount.inc()),this._dirty=this._dirty&~mask,this._dirty===0))break;this._dirty=0}}}});Bridge.define("Microsoft.Xna.Framework.Graphics.TextureFilter",{$kind:"enum",statics:{fields:{Linear:0,Point:1,Anisotropic:2,LinearMipPoint:3,PointMipLinear:4,MinLinearMagPointMipLinear:5,MinLinearMagPointMipPoint:6,MinPointMagLinearMipLinear:7,MinPointMagLinearMipPoint:8}}});Bridge.define("Microsoft.Xna.Framework.Graphics.TextureFilterMode",{$kind:"enum",statics:{fields:{Default:0,Comparison:1}}});Bridge.define("Microsoft.Xna.Framework.Graphics.VertexAttribute",{$kind:"struct",statics:{methods:{getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.VertexAttribute}}},fields:{usage:0,index:0,name:null,location:0},ctors:{ctor:function(){this.$initialize()}},methods:{getHashCode:function(){return Bridge.addHash([5561828516,this.usage,this.index,this.name,this.location])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Graphics.VertexAttribute)?Bridge.equals(this.usage,o.usage)&&Bridge.equals(this.index,o.index)&&Bridge.equals(this.name,o.name)&&Bridge.equals(this.location,o.location):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.VertexAttribute;return s.usage=this.usage,s.index=this.index,s.name=this.name,s.location=this.location,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.VertexBufferBinding",{$kind:"struct",statics:{methods:{getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.VertexBufferBinding}}},fields:{_vertexBuffer:null,_vertexOffset:0,_instanceFrequency:0},props:{VertexBuffer:{get:function(){return this._vertexBuffer}},VertexOffset:{get:function(){return this._vertexOffset}},InstanceFrequency:{get:function(){return this._instanceFrequency}}},ctors:{$ctor1:function(vertexBuffer){Microsoft.Xna.Framework.Graphics.VertexBufferBinding.$ctor3.call(this,vertexBuffer,0,0)},$ctor2:function(vertexBuffer,vertexOffset){Microsoft.Xna.Framework.Graphics.VertexBufferBinding.$ctor3.call(this,vertexBuffer,vertexOffset,0)},$ctor3:function(vertexBuffer,vertexOffset,instanceFrequency){if(this.$initialize(),vertexBuffer==null)throw new System.ArgumentNullException.$ctor1("vertexBuffer");if(vertexOffset<0||vertexOffset>=vertexBuffer.VertexCount)throw new System.ArgumentOutOfRangeException.$ctor1("vertexOffset");if(instanceFrequency<0)throw new System.ArgumentOutOfRangeException.$ctor1("instanceFrequency");this._vertexBuffer=vertexBuffer;this._vertexOffset=vertexOffset;this._instanceFrequency=instanceFrequency},ctor:function(){this.$initialize()}},methods:{getHashCode:function(){return Bridge.addHash([7531928524,this._vertexBuffer,this._vertexOffset,this._instanceFrequency])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Graphics.VertexBufferBinding)?Bridge.equals(this._vertexBuffer,o._vertexBuffer)&&Bridge.equals(this._vertexOffset,o._vertexOffset)&&Bridge.equals(this._instanceFrequency,o._instanceFrequency):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.VertexBufferBinding;return s._vertexBuffer=this._vertexBuffer,s._vertexOffset=this._vertexOffset,s._instanceFrequency=this._instanceFrequency,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.VertexDeclaration.Data",{inherits:function(){return[System.IEquatable$1(Microsoft.Xna.Framework.Graphics.VertexDeclaration.Data)]},$kind:"nested class",fields:{_hashCode:0,VertexStride:0,Elements:null},alias:["equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Graphics$VertexDeclaration$Data$equalsT"],ctors:{ctor:function(vertexStride,elements){this.$initialize();this.VertexStride=vertexStride;this.Elements=elements;this._hashCode=elements[0].getHashCode();for(var i=1;i<elements.length;i=i+1|0)this._hashCode=Bridge.Int.mul(this._hashCode,397)^elements[i].getHashCode();this._hashCode=Bridge.Int.mul(this._hashCode,397)^elements.length;this._hashCode=Bridge.Int.mul(this._hashCode,397)^vertexStride}},methods:{equals:function(obj){return this.equalsT(Bridge.as(obj,Microsoft.Xna.Framework.Graphics.VertexDeclaration.Data))},equalsT:function(other){if(Bridge.referenceEquals(null,other))return!1;if(Bridge.referenceEquals(this,other))return!0;if(this._hashCode!==other._hashCode||this.VertexStride!==other.VertexStride||this.Elements.length!==other.Elements.length)return!1;for(var i=0;i<this.Elements.length;i=i+1|0)if(!this.Elements[System.Array.index(i,this.Elements)].equalsT(other.Elements[System.Array.index(i,other.Elements)].$clone()))return!1;return!0},getHashCode:function(){return this._hashCode}}});Bridge.define("Microsoft.Xna.Framework.Graphics.VertexDeclaration.VertexDeclarationAttributeInfo",{$kind:"nested class",fields:{EnabledAttributes:null,Elements:null},ctors:{ctor:function(maxVertexAttributes){this.$initialize();this.EnabledAttributes=System.Array.init(maxVertexAttributes,!1,System.Boolean);this.Elements=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Graphics.VertexDeclaration.VertexDeclarationAttributeInfo.Element).ctor)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.VertexDeclaration.VertexDeclarationAttributeInfo.Element",{$kind:"nested class",fields:{Offset:0,AttributeLocation:0,NumberOfElements:0,VertexAttribPointerType:0,Normalized:!1}});Bridge.define("Microsoft.Xna.Framework.Graphics.VertexElement",{inherits:function(){return[System.IEquatable$1(Microsoft.Xna.Framework.Graphics.VertexElement)]},$kind:"struct",statics:{methods:{op_Equality:function(left,right){return left.equalsT(right.$clone())},op_Inequality:function(left,right){return!left.equalsT(right.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.VertexElement}}},fields:{_offset:0,_format:0,_usage:0,_usageIndex:0},props:{Offset:{get:function(){return this._offset},set:function(value){this._offset=value}},VertexElementFormat:{get:function(){return this._format},set:function(value){this._format=value}},VertexElementUsage:{get:function(){return this._usage},set:function(value){this._usage=value}},UsageIndex:{get:function(){return this._usageIndex},set:function(value){this._usageIndex=value}}},alias:["equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Graphics$VertexElement$equalsT"],ctors:{$ctor1:function(offset,elementFormat,elementUsage,usageIndex){this.$initialize();this._offset=offset;this._format=elementFormat;this._usageIndex=usageIndex;this._usage=elementUsage},ctor:function(){this.$initialize()}},methods:{getHashCode:function(){var hashCode=this._offset;return hashCode=hashCode^this._format<<9,hashCode=hashCode^this._usage<<13,hashCode^this._usageIndex<<17},toString:function(){return"{Offset:"+this._offset+" Format:"+System.Enum.toString(Microsoft.Xna.Framework.Graphics.VertexElementFormat,this._format)+" Usage:"+System.Enum.toString(Microsoft.Xna.Framework.Graphics.VertexElementUsage,this._usage)+" UsageIndex: "+this._usageIndex+"}"},equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Graphics.VertexElement)&&this.equalsT(System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Graphics.VertexElement),Microsoft.Xna.Framework.Graphics.VertexElement)))},equalsT:function(other){return this._offset===other._offset&&this._format===other._format&&this._usage===other._usage&&this._usageIndex===other._usageIndex},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.VertexElement;return s._offset=this._offset,s._format=this._format,s._usage=this._usage,s._usageIndex=this._usageIndex,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.VertexElementFormat",{$kind:"enum",statics:{fields:{Single:0,Vector2:1,Vector3:2,Vector4:3,Color:4,Byte4:5,Short2:6,Short4:7,NormalizedShort2:8,NormalizedShort4:9,HalfVector2:10,HalfVector4:11}}});Bridge.define("Microsoft.Xna.Framework.Graphics.VertexElementUsage",{$kind:"enum",statics:{fields:{Position:0,Color:1,TextureCoordinate:2,Normal:3,Binormal:4,Tangent:5,BlendIndices:6,BlendWeight:7,Depth:8,Fog:9,PointSize:10,Sample:11,TessellateFactor:12}}});Bridge.define("Microsoft.Xna.Framework.Graphics.Viewport",{$kind:"struct",statics:{methods:{WithinEpsilon:function(a,b){var num=a-b;return-1401298e-51<=num&&num<=1401298e-51},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.Viewport}}},fields:{x:0,y:0,width:0,height:0,minDepth:0,maxDepth:0},props:{Height:{get:function(){return this.height},set:function(value){this.height=value}},MaxDepth:{get:function(){return this.maxDepth},set:function(value){this.maxDepth=value}},MinDepth:{get:function(){return this.minDepth},set:function(value){this.minDepth=value}},Width:{get:function(){return this.width},set:function(value){this.width=value}},Y:{get:function(){return this.y},set:function(value){this.y=value}},X:{get:function(){return this.x},set:function(value){this.x=value}},AspectRatio:{get:function(){return this.height!==0&&this.width!==0?this.width/this.height:0}},Bounds:{get:function(){return new Microsoft.Xna.Framework.Rectangle.$ctor2(this.x,this.y,this.width,this.height)},set:function(value){this.x=value.X;this.y=value.Y;this.width=value.Width;this.height=value.Height}},TitleSafeArea:{get:function(){return Microsoft.Xna.Framework.Graphics.GraphicsDevice.GetTitleSafeArea(this.x,this.y,this.width,this.height)}}},ctors:{$ctor2:function(x,y,width,height){this.$initialize();this.x=x;this.y=y;this.width=width;this.height=height;this.minDepth=0;this.maxDepth=1},$ctor3:function(x,y,width,height,minDepth,maxDepth){this.$initialize();this.x=x;this.y=y;this.width=width;this.height=height;this.minDepth=minDepth;this.maxDepth=maxDepth},$ctor1:function(bounds){Microsoft.Xna.Framework.Graphics.Viewport.$ctor2.call(this,bounds.X,bounds.Y,bounds.Width,bounds.Height)},ctor:function(){this.$initialize()}},methods:{Project:function(source,projection,view,world){var matrix=Microsoft.Xna.Framework.Matrix.Multiply(Microsoft.Xna.Framework.Matrix.Multiply(world.$clone(),view.$clone()),projection.$clone()),vector=Microsoft.Xna.Framework.Vector3.Transform(source.$clone(),matrix.$clone()),a=source.X*matrix.M14+source.Y*matrix.M24+source.Z*matrix.M34+matrix.M44;return Microsoft.Xna.Framework.Graphics.Viewport.WithinEpsilon(a,1)||(vector.X=vector.X/a,vector.Y=vector.Y/a,vector.Z=vector.Z/a),vector.X=(vector.X+1)*.5*this.width+this.x,vector.Y=(-vector.Y+1)*.5*this.height+this.y,vector.Z=vector.Z*(this.maxDepth-this.minDepth)+this.minDepth,vector.$clone()},Unproject:function(source,projection,view,world){var matrix=Microsoft.Xna.Framework.Matrix.Invert(Microsoft.Xna.Framework.Matrix.Multiply(Microsoft.Xna.Framework.Matrix.Multiply(world.$clone(),view.$clone()),projection.$clone())),vector,a;return source.X=(source.X-this.x)/this.width*2-1,source.Y=-((source.Y-this.y)/this.height*2-1),source.Z=(source.Z-this.minDepth)/(this.maxDepth-this.minDepth),vector=Microsoft.Xna.Framework.Vector3.Transform(source.$clone(),matrix.$clone()),a=source.X*matrix.M14+source.Y*matrix.M24+source.Z*matrix.M34+matrix.M44,Microsoft.Xna.Framework.Graphics.Viewport.WithinEpsilon(a,1)||(vector.X=vector.X/a,vector.Y=vector.Y/a,vector.Z=vector.Z/a),vector.$clone()},toString:function(){return"{X:"+this.x+" Y:"+this.y+" Width:"+this.width+" Height:"+this.height+" MinDepth:"+System.Single.format(this.minDepth)+" MaxDepth:"+System.Single.format(this.maxDepth)+"}"},getHashCode:function(){return Bridge.addHash([3956791494,this.x,this.y,this.width,this.height,this.minDepth,this.maxDepth])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Graphics.Viewport)?Bridge.equals(this.x,o.x)&&Bridge.equals(this.y,o.y)&&Bridge.equals(this.width,o.width)&&Bridge.equals(this.height,o.height)&&Bridge.equals(this.minDepth,o.minDepth)&&Bridge.equals(this.maxDepth,o.maxDepth):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.Viewport;return s.x=this.x,s.y=this.y,s.width=this.width,s.height=this.height,s.minDepth=this.minDepth,s.maxDepth=this.maxDepth,s}}});Bridge.define("Microsoft.Xna.Framework.GraphicsDeviceInformation",{fields:{Adapter:null,GraphicsProfile:0,PresentationParameters:null}});Bridge.define("Microsoft.Xna.Framework.IGraphicsDeviceManager",{$kind:"interface"});Bridge.define("Microsoft.Xna.Framework.IDrawable",{$kind:"interface"});Bridge.define("Microsoft.Xna.Framework.Input.Buttons",{$kind:"enum",statics:{fields:{DPadUp:1,DPadDown:2,DPadLeft:4,DPadRight:8,Start:16,Back:32,LeftStick:64,RightStick:128,LeftShoulder:256,RightShoulder:512,BigButton:2048,A:4096,B:8192,X:16384,Y:32768,LeftThumbstickLeft:2097152,RightTrigger:4194304,LeftTrigger:8388608,RightThumbstickUp:16777216,RightThumbstickDown:33554432,RightThumbstickRight:67108864,RightThumbstickLeft:134217728,LeftThumbstickUp:268435456,LeftThumbstickDown:536870912,LeftThumbstickRight:1073741824}},$flags:!0});Bridge.define("Microsoft.Xna.Framework.Input.ButtonState",{$kind:"enum",statics:{fields:{Released:0,Pressed:1}}});Bridge.define("Microsoft.Xna.Framework.Input.GamePad",{statics:{props:{MaximumGamePadCount:{get:function(){return Microsoft.Xna.Framework.Input.GamePad.PlatformGetMaxNumberOfGamePads()}}},methods:{PlatformGetMaxNumberOfGamePads:function(){return 16},PlatformGetCapabilities:function(index){var $t,gamepads=navigator.getGamepads(),gamepad;return gamepads.length<=index||gamepads[System.Array.index(index,gamepads)]==null?new Microsoft.Xna.Framework.Input.GamePadCapabilities:(gamepad=gamepads[System.Array.index(index,gamepads)],gamepads[System.Array.index(index,gamepads)].mapping!=="standard")?($t=new Microsoft.Xna.Framework.Input.GamePadCapabilities,$t.IsConnected=gamepad.connected,$t.DisplayName=gamepad.id,$t.Identifier=gamepad.id,$t.GamePadType=Microsoft.Xna.Framework.Input.GamePadType.Unknown,$t):($t=new Microsoft.Xna.Framework.Input.GamePadCapabilities,$t.IsConnected=gamepad.connected,$t.DisplayName=gamepad.id,$t.Identifier=gamepad.id,$t.GamePadType=Microsoft.Xna.Framework.Input.GamePadType.GamePad,$t.HasAButton=gamepad.buttons.length>0,$t.HasBButton=gamepad.buttons.length>1,$t.HasXButton=gamepad.buttons.length>2,$t.HasYButton=gamepad.buttons.length>3,$t.HasBigButton=gamepad.buttons.length>16,$t.HasBackButton=gamepad.buttons.length>8,$t.HasLeftTrigger=gamepad.buttons.length>6,$t.HasStartButton=gamepad.buttons.length>9,$t.HasDPadUpButton=gamepad.buttons.length>12,$t.HasRightTrigger=gamepad.buttons.length>7,$t.HasDPadDownButton=gamepad.buttons.length>13,$t.HasDPadLeftButton=gamepad.buttons.length>14,$t.HasDPadRightButton=gamepad.buttons.length>15,$t.HasLeftStickButton=gamepad.buttons.length>10,$t.HasLeftXThumbStick=gamepad.axes.length>=2,$t.HasLeftYThumbStick=gamepad.axes.length>=2,$t.HasRightStickButton=gamepad.buttons.length>11,$t.HasRightXThumbStick=gamepad.axes.length>=4,$t.HasRightYThumbStick=gamepad.axes.length>=4,$t.HasLeftShoulderButton=gamepad.buttons.length>4,$t.HasLeftVibrationMotor=!1,$t.HasRightShoulderButton=gamepad.buttons.length>5,$t.HasRightVibrationMotor=!1,$t)},PlatformGetState:function(index,deadZoneMode){var $t,$t1,$t2,$t3,$t4,$t5,$t6,$t7,$t8,$t9,$t10,$t11,$t12,$t13,$t14,$t15,$t16,$t17,$t18,$t19,$t20,$t21,$t22,$t23,gamepads=navigator.getGamepads(),gamepad;if(gamepads.length<=index||gamepads[System.Array.index(index,gamepads)]==null)return new Microsoft.Xna.Framework.Input.GamePadState.ctor;if(gamepad=gamepads[System.Array.index(index,gamepads)],gamepad.mapping!=="standard")return $t=new Microsoft.Xna.Framework.Input.GamePadState.ctor,$t.IsConnected=gamepad.connected,$t.PacketNumber=Bridge.Int.clip32(gamepad.timestamp),$t;var buttons=new Microsoft.Xna.Framework.Input.GamePadButtons.$ctor1((gamepad.buttons.length>0&&($t=gamepad.buttons)[System.Array.index(0,$t)].pressed?Microsoft.Xna.Framework.Input.Buttons.A:0)|(gamepad.buttons.length>1&&($t1=gamepad.buttons)[System.Array.index(1,$t1)].pressed?Microsoft.Xna.Framework.Input.Buttons.B:0)|(gamepad.buttons.length>8&&($t2=gamepad.buttons)[System.Array.index(8,$t2)].pressed?Microsoft.Xna.Framework.Input.Buttons.Back:0)|(gamepad.buttons.length>16&&($t3=gamepad.buttons)[System.Array.index(16,$t3)].pressed?Microsoft.Xna.Framework.Input.Buttons.BigButton:0)|(gamepad.buttons.length>4&&($t4=gamepad.buttons)[System.Array.index(4,$t4)].pressed?Microsoft.Xna.Framework.Input.Buttons.LeftShoulder:0)|(gamepad.buttons.length>5&&($t5=gamepad.buttons)[System.Array.index(5,$t5)].pressed?Microsoft.Xna.Framework.Input.Buttons.RightShoulder:0)|(gamepad.buttons.length>10&&($t6=gamepad.buttons)[System.Array.index(10,$t6)].pressed?Microsoft.Xna.Framework.Input.Buttons.LeftStick:0)|(gamepad.buttons.length>11&&($t7=gamepad.buttons)[System.Array.index(11,$t7)].pressed?Microsoft.Xna.Framework.Input.Buttons.RightStick:0)|(gamepad.buttons.length>9&&($t8=gamepad.buttons)[System.Array.index(9,$t8)].pressed?Microsoft.Xna.Framework.Input.Buttons.Start:0)|(gamepad.buttons.length>2&&($t9=gamepad.buttons)[System.Array.index(2,$t9)].pressed?Microsoft.Xna.Framework.Input.Buttons.X:0)|(gamepad.buttons.length>3&&($t10=gamepad.buttons)[System.Array.index(3,$t10)].pressed?Microsoft.Xna.Framework.Input.Buttons.Y:0)|(gamepad.buttons.length>6&&($t11=gamepad.buttons)[System.Array.index(6,$t11)].pressed?Microsoft.Xna.Framework.Input.Buttons.LeftTrigger:0)|(gamepad.buttons.length>7&&($t12=gamepad.buttons)[System.Array.index(7,$t12)].pressed?Microsoft.Xna.Framework.Input.Buttons.RightTrigger:0)),dpad=new Microsoft.Xna.Framework.Input.GamePadDPad.$ctor2(gamepad.buttons.length>12&&($t13=gamepad.buttons)[System.Array.index(12,$t13)].pressed?Microsoft.Xna.Framework.Input.ButtonState.Pressed:Microsoft.Xna.Framework.Input.ButtonState.Released,gamepad.buttons.length>13&&($t14=gamepad.buttons)[System.Array.index(13,$t14)].pressed?Microsoft.Xna.Framework.Input.ButtonState.Pressed:Microsoft.Xna.Framework.Input.ButtonState.Released,gamepad.buttons.length>14&&($t15=gamepad.buttons)[System.Array.index(14,$t15)].pressed?Microsoft.Xna.Framework.Input.ButtonState.Pressed:Microsoft.Xna.Framework.Input.ButtonState.Released,gamepad.buttons.length>15&&($t16=gamepad.buttons)[System.Array.index(15,$t16)].pressed?Microsoft.Xna.Framework.Input.ButtonState.Pressed:Microsoft.Xna.Framework.Input.ButtonState.Released),thumbsticks=new Microsoft.Xna.Framework.Input.GamePadThumbSticks.$ctor2(gamepad.axes.length>=2?new Microsoft.Xna.Framework.Vector2.$ctor2(($t17=gamepad.axes)[System.Array.index(0,$t17)],($t18=gamepad.axes)[System.Array.index(1,$t18)]):Microsoft.Xna.Framework.Vector2.Zero,gamepad.axes.length>=4?new Microsoft.Xna.Framework.Vector2.$ctor2(($t19=gamepad.axes)[System.Array.index(2,$t19)],($t20=gamepad.axes)[System.Array.index(3,$t20)]):Microsoft.Xna.Framework.Vector2.Zero,deadZoneMode),triggers=new Microsoft.Xna.Framework.Input.GamePadTriggers.$ctor1(gamepad.buttons.length>6&&($t21=gamepad.buttons)[System.Array.index(6,$t21)].pressed?1:0,gamepad.buttons.length>7&&($t22=gamepad.buttons)[System.Array.index(7,$t22)].pressed?1:0);return $t23=new Microsoft.Xna.Framework.Input.GamePadState.ctor,$t23.IsConnected=gamepad.connected,$t23.PacketNumber=Bridge.Int.clip32(gamepad.timestamp),$t23.Buttons=buttons,$t23.DPad=dpad.$clone(),$t23.ThumbSticks=thumbsticks,$t23.Triggers=triggers.$clone(),$t23},PlatformSetVibration:function(index,leftMotor,rightMotor){return!1},GetCapabilities:function(playerIndex){return Microsoft.Xna.Framework.Input.GamePad.GetCapabilities$1(playerIndex)},GetCapabilities$1:function(index){return index<0||index>=Microsoft.Xna.Framework.Input.GamePad.PlatformGetMaxNumberOfGamePads()?new Microsoft.Xna.Framework.Input.GamePadCapabilities:Microsoft.Xna.Framework.Input.GamePad.PlatformGetCapabilities(index)},GetState:function(playerIndex){return Microsoft.Xna.Framework.Input.GamePad.GetState$3(playerIndex,Microsoft.Xna.Framework.Input.GamePadDeadZone.IndependentAxes)},GetState$2:function(index){return Microsoft.Xna.Framework.Input.GamePad.GetState$3(index,Microsoft.Xna.Framework.Input.GamePadDeadZone.IndependentAxes)},GetState$1:function(playerIndex,deadZoneMode){return Microsoft.Xna.Framework.Input.GamePad.GetState$3(playerIndex,deadZoneMode)},GetState$3:function(index,deadZoneMode){return index<0||index>=Microsoft.Xna.Framework.Input.GamePad.PlatformGetMaxNumberOfGamePads()?Microsoft.Xna.Framework.Input.GamePadState.Default.$clone():Microsoft.Xna.Framework.Input.GamePad.PlatformGetState(index,deadZoneMode)},SetVibration:function(playerIndex,leftMotor,rightMotor){return Microsoft.Xna.Framework.Input.GamePad.SetVibration$1(playerIndex,leftMotor,rightMotor)},SetVibration$1:function(index,leftMotor,rightMotor){return index<0||index>=Microsoft.Xna.Framework.Input.GamePad.PlatformGetMaxNumberOfGamePads()?!1:Microsoft.Xna.Framework.Input.GamePad.PlatformSetVibration(index,Microsoft.Xna.Framework.MathHelper.Clamp$1(leftMotor,0,1),Microsoft.Xna.Framework.MathHelper.Clamp$1(rightMotor,0,1))}}}});Bridge.define("Microsoft.Xna.Framework.Input.GamePadButtons",{$kind:"struct",statics:{methods:{op_Equality:function(left,right){return left._buttons===right._buttons},op_Inequality:function(left,right){return!Microsoft.Xna.Framework.Input.GamePadButtons.op_Equality(left,right)},getDefaultValue:function(){return new Microsoft.Xna.Framework.Input.GamePadButtons}}},fields:{_buttons:0},props:{A:{get:function(){return(this._buttons&Microsoft.Xna.Framework.Input.Buttons.A)===Microsoft.Xna.Framework.Input.Buttons.A?Microsoft.Xna.Framework.Input.ButtonState.Pressed:Microsoft.Xna.Framework.Input.ButtonState.Released}},B:{get:function(){return(this._buttons&Microsoft.Xna.Framework.Input.Buttons.B)===Microsoft.Xna.Framework.Input.Buttons.B?Microsoft.Xna.Framework.Input.ButtonState.Pressed:Microsoft.Xna.Framework.Input.ButtonState.Released}},Back:{get:function(){return(this._buttons&Microsoft.Xna.Framework.Input.Buttons.Back)===Microsoft.Xna.Framework.Input.Buttons.Back?Microsoft.Xna.Framework.Input.ButtonState.Pressed:Microsoft.Xna.Framework.Input.ButtonState.Released}},X:{get:function(){return(this._buttons&Microsoft.Xna.Framework.Input.Buttons.X)===Microsoft.Xna.Framework.Input.Buttons.X?Microsoft.Xna.Framework.Input.ButtonState.Pressed:Microsoft.Xna.Framework.Input.ButtonState.Released}},Y:{get:function(){return(this._buttons&Microsoft.Xna.Framework.Input.Buttons.Y)===Microsoft.Xna.Framework.Input.Buttons.Y?Microsoft.Xna.Framework.Input.ButtonState.Pressed:Microsoft.Xna.Framework.Input.ButtonState.Released}},Start:{get:function(){return(this._buttons&Microsoft.Xna.Framework.Input.Buttons.Start)===Microsoft.Xna.Framework.Input.Buttons.Start?Microsoft.Xna.Framework.Input.ButtonState.Pressed:Microsoft.Xna.Framework.Input.ButtonState.Released}},LeftShoulder:{get:function(){return(this._buttons&Microsoft.Xna.Framework.Input.Buttons.LeftShoulder)===Microsoft.Xna.Framework.Input.Buttons.LeftShoulder?Microsoft.Xna.Framework.Input.ButtonState.Pressed:Microsoft.Xna.Framework.Input.ButtonState.Released}},LeftStick:{get:function(){return(this._buttons&Microsoft.Xna.Framework.Input.Buttons.LeftStick)===Microsoft.Xna.Framework.Input.Buttons.LeftStick?Microsoft.Xna.Framework.Input.ButtonState.Pressed:Microsoft.Xna.Framework.Input.ButtonState.Released}},RightShoulder:{get:function(){return(this._buttons&Microsoft.Xna.Framework.Input.Buttons.RightShoulder)===Microsoft.Xna.Framework.Input.Buttons.RightShoulder?Microsoft.Xna.Framework.Input.ButtonState.Pressed:Microsoft.Xna.Framework.Input.ButtonState.Released}},RightStick:{get:function(){return(this._buttons&Microsoft.Xna.Framework.Input.Buttons.RightStick)===Microsoft.Xna.Framework.Input.Buttons.RightStick?Microsoft.Xna.Framework.Input.ButtonState.Pressed:Microsoft.Xna.Framework.Input.ButtonState.Released}},BigButton:{get:function(){return(this._buttons&Microsoft.Xna.Framework.Input.Buttons.BigButton)===Microsoft.Xna.Framework.Input.Buttons.BigButton?Microsoft.Xna.Framework.Input.ButtonState.Pressed:Microsoft.Xna.Framework.Input.ButtonState.Released}}},ctors:{$ctor1:function(buttons){this.$initialize();this._buttons=buttons},$ctor2:function(buttons){var $t,b;buttons===void 0&&(buttons=[]);Microsoft.Xna.Framework.Input.GamePadButtons.ctor.call(this);$t=Bridge.getEnumerator(buttons);try{while($t.moveNext())b=$t.Current,this._buttons|=b}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}},ctor:function(){this.$initialize()}},methods:{equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Input.GamePadButtons)&&Microsoft.Xna.Framework.Input.GamePadButtons.op_Equality(this,System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Input.GamePadButtons),Microsoft.Xna.Framework.Input.GamePadButtons)))},getHashCode:function(){return this._buttons},toString:function(){return"[GamePadButtons: A="+this.A+", B="+this.B+", Back="+this.Back+", X="+this.X+", Y="+this.Y+", Start="+this.Start+", LeftShoulder="+this.LeftShoulder+", LeftStick="+this.LeftStick+", RightShoulder="+this.RightShoulder+", RightStick="+this.RightStick+", BigButton="+this.BigButton+"]"},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Input.GamePadButtons;return s._buttons=this._buttons,s}}});Bridge.define("Microsoft.Xna.Framework.Input.GamePadCapabilities",{$kind:"struct",statics:{methods:{op_Equality:function(left,right){var eq=!0;return eq=!!(eq&Bridge.referenceEquals(left.DisplayName,right.DisplayName)),eq=!!(eq&Bridge.referenceEquals(left.Identifier,right.Identifier)),eq=!!(eq&left.IsConnected===right.IsConnected),eq=!!(eq&left.HasAButton===right.HasAButton),eq=!!(eq&left.HasBackButton===right.HasBackButton),eq=!!(eq&left.HasBButton===right.HasBButton),eq=!!(eq&left.HasDPadDownButton===right.HasDPadDownButton),eq=!!(eq&left.HasDPadLeftButton===right.HasDPadLeftButton),eq=!!(eq&left.HasDPadRightButton===right.HasDPadRightButton),eq=!!(eq&left.HasDPadUpButton===right.HasDPadUpButton),eq=!!(eq&left.HasLeftShoulderButton===right.HasLeftShoulderButton),eq=!!(eq&left.HasLeftStickButton===right.HasLeftStickButton),eq=!!(eq&left.HasRightShoulderButton===right.HasRightShoulderButton),eq=!!(eq&left.HasRightStickButton===right.HasRightStickButton),eq=!!(eq&left.HasStartButton===right.HasStartButton),eq=!!(eq&left.HasXButton===right.HasXButton),eq=!!(eq&left.HasYButton===right.HasYButton),eq=!!(eq&left.HasBigButton===right.HasBigButton),eq=!!(eq&left.HasLeftXThumbStick===right.HasLeftXThumbStick),eq=!!(eq&left.HasLeftYThumbStick===right.HasLeftYThumbStick),eq=!!(eq&left.HasRightXThumbStick===right.HasRightXThumbStick),eq=!!(eq&left.HasRightYThumbStick===right.HasRightYThumbStick),eq=!!(eq&left.HasLeftTrigger===right.HasLeftTrigger),eq=!!(eq&left.HasRightTrigger===right.HasRightTrigger),eq=!!(eq&left.HasLeftVibrationMotor===right.HasLeftVibrationMotor),eq=!!(eq&left.HasRightVibrationMotor===right.HasRightVibrationMotor),eq=!!(eq&left.HasVoiceSupport===right.HasVoiceSupport),!!(eq&left.GamePadType===right.GamePadType)},op_Inequality:function(left,right){return!Microsoft.Xna.Framework.Input.GamePadCapabilities.op_Equality(left.$clone(),right.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.Input.GamePadCapabilities}}},fields:{IsConnected:!1,DisplayName:null,Identifier:null,HasAButton:!1,HasBackButton:!1,HasBButton:!1,HasDPadDownButton:!1,HasDPadLeftButton:!1,HasDPadRightButton:!1,HasDPadUpButton:!1,HasLeftShoulderButton:!1,HasLeftStickButton:!1,HasRightShoulderButton:!1,HasRightStickButton:!1,HasStartButton:!1,HasXButton:!1,HasYButton:!1,HasBigButton:!1,HasLeftXThumbStick:!1,HasLeftYThumbStick:!1,HasRightXThumbStick:!1,HasRightYThumbStick:!1,HasLeftTrigger:!1,HasRightTrigger:!1,HasLeftVibrationMotor:!1,HasRightVibrationMotor:!1,HasVoiceSupport:!1,GamePadType:0},ctors:{ctor:function(){this.$initialize()}},methods:{equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Input.GamePadCapabilities)&&Microsoft.Xna.Framework.Input.GamePadCapabilities.op_Equality(this,System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Input.GamePadCapabilities),Microsoft.Xna.Framework.Input.GamePadCapabilities)))},getHashCode:function(){return Bridge.getHashCode(this.Identifier)},toString:function(){return"[GamePadCapabilities: IsConnected="+System.Boolean.toString(this.IsConnected)+", DisplayName="+(this.DisplayName||"")+", Identifier="+(this.Identifier||"")+", HasAButton="+System.Boolean.toString(this.HasAButton)+", HasBackButton="+System.Boolean.toString(this.HasBackButton)+", HasBButton="+System.Boolean.toString(this.HasBButton)+", HasDPadDownButton="+System.Boolean.toString(this.HasDPadDownButton)+", HasDPadLeftButton="+System.Boolean.toString(this.HasDPadLeftButton)+", HasDPadRightButton="+System.Boolean.toString(this.HasDPadRightButton)+", HasDPadUpButton="+System.Boolean.toString(this.HasDPadUpButton)+", HasLeftShoulderButton="+System.Boolean.toString(this.HasLeftShoulderButton)+", HasLeftStickButton="+System.Boolean.toString(this.HasLeftStickButton)+", HasRightShoulderButton="+System.Boolean.toString(this.HasRightShoulderButton)+", HasRightStickButton="+System.Boolean.toString(this.HasRightStickButton)+", HasStartButton="+System.Boolean.toString(this.HasStartButton)+", HasXButton="+System.Boolean.toString(this.HasXButton)+", HasYButton="+System.Boolean.toString(this.HasYButton)+", HasBigButton="+System.Boolean.toString(this.HasBigButton)+", HasLeftXThumbStick="+System.Boolean.toString(this.HasLeftXThumbStick)+", HasLeftYThumbStick="+System.Boolean.toString(this.HasLeftYThumbStick)+", HasRightXThumbStick="+System.Boolean.toString(this.HasRightXThumbStick)+", HasRightYThumbStick="+System.Boolean.toString(this.HasRightYThumbStick)+", HasLeftTrigger="+System.Boolean.toString(this.HasLeftTrigger)+", HasRightTrigger="+System.Boolean.toString(this.HasRightTrigger)+", HasLeftVibrationMotor="+System.Boolean.toString(this.HasLeftVibrationMotor)+", HasRightVibrationMotor="+System.Boolean.toString(this.HasRightVibrationMotor)+", HasVoiceSupport="+System.Boolean.toString(this.HasVoiceSupport)+", GamePadType="+System.Enum.toString(Microsoft.Xna.Framework.Input.GamePadType,this.GamePadType)+"]"},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Input.GamePadCapabilities;return s.IsConnected=this.IsConnected,s.DisplayName=this.DisplayName,s.Identifier=this.Identifier,s.HasAButton=this.HasAButton,s.HasBackButton=this.HasBackButton,s.HasBButton=this.HasBButton,s.HasDPadDownButton=this.HasDPadDownButton,s.HasDPadLeftButton=this.HasDPadLeftButton,s.HasDPadRightButton=this.HasDPadRightButton,s.HasDPadUpButton=this.HasDPadUpButton,s.HasLeftShoulderButton=this.HasLeftShoulderButton,s.HasLeftStickButton=this.HasLeftStickButton,s.HasRightShoulderButton=this.HasRightShoulderButton,s.HasRightStickButton=this.HasRightStickButton,s.HasStartButton=this.HasStartButton,s.HasXButton=this.HasXButton,s.HasYButton=this.HasYButton,s.HasBigButton=this.HasBigButton,s.HasLeftXThumbStick=this.HasLeftXThumbStick,s.HasLeftYThumbStick=this.HasLeftYThumbStick,s.HasRightXThumbStick=this.HasRightXThumbStick,s.HasRightYThumbStick=this.HasRightYThumbStick,s.HasLeftTrigger=this.HasLeftTrigger,s.HasRightTrigger=this.HasRightTrigger,s.HasLeftVibrationMotor=this.HasLeftVibrationMotor,s.HasRightVibrationMotor=this.HasRightVibrationMotor,s.HasVoiceSupport=this.HasVoiceSupport,s.GamePadType=this.GamePadType,s}}});Bridge.define("Microsoft.Xna.Framework.Input.GamePadDeadZone",{$kind:"enum",statics:{fields:{None:0,IndependentAxes:1,Circular:2}}});Bridge.define("Microsoft.Xna.Framework.Input.GamePadDPad",{$kind:"struct",statics:{methods:{op_Equality:function(left,right){return left.Down===right.Down&&left.Left===right.Left&&left.Right===right.Right&&left.Up===right.Up},op_Inequality:function(left,right){return!Microsoft.Xna.Framework.Input.GamePadDPad.op_Equality(left.$clone(),right.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.Input.GamePadDPad}}},fields:{Down:0,Left:0,Right:0,Up:0},ctors:{$ctor2:function(upValue,downValue,leftValue,rightValue){Microsoft.Xna.Framework.Input.GamePadDPad.ctor.call(this);this.Up=upValue;this.Down=downValue;this.Left=leftValue;this.Right=rightValue},$ctor1:function(buttons){Microsoft.Xna.Framework.Input.GamePadDPad.ctor.call(this);(buttons&Microsoft.Xna.Framework.Input.Buttons.DPadDown)===Microsoft.Xna.Framework.Input.Buttons.DPadDown&&(this.Down=Microsoft.Xna.Framework.Input.ButtonState.Pressed);(buttons&Microsoft.Xna.Framework.Input.Buttons.DPadLeft)===Microsoft.Xna.Framework.Input.Buttons.DPadLeft&&(this.Left=Microsoft.Xna.Framework.Input.ButtonState.Pressed);(buttons&Microsoft.Xna.Framework.Input.Buttons.DPadRight)===Microsoft.Xna.Framework.Input.Buttons.DPadRight&&(this.Right=Microsoft.Xna.Framework.Input.ButtonState.Pressed);(buttons&Microsoft.Xna.Framework.Input.Buttons.DPadUp)===Microsoft.Xna.Framework.Input.Buttons.DPadUp&&(this.Up=Microsoft.Xna.Framework.Input.ButtonState.Pressed)},ctor:function(){this.$initialize()}},methods:{equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Input.GamePadDPad)&&Microsoft.Xna.Framework.Input.GamePadDPad.op_Equality(this,System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Input.GamePadDPad),Microsoft.Xna.Framework.Input.GamePadDPad)))},getHashCode:function(){return(((this.Down===Microsoft.Xna.Framework.Input.ButtonState.Pressed?1:0)+(this.Left===Microsoft.Xna.Framework.Input.ButtonState.Pressed?2:0)|0)+(this.Right===Microsoft.Xna.Framework.Input.ButtonState.Pressed?4:0)|0)+(this.Up===Microsoft.Xna.Framework.Input.ButtonState.Pressed?8:0)|0},toString:function(){return""+this.Left+this.Up+this.Right+this.Down},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Input.GamePadDPad;return s.Down=this.Down,s.Left=this.Left,s.Right=this.Right,s.Up=this.Up,s}}});Bridge.define("Microsoft.Xna.Framework.Input.GamePadState",{$kind:"struct",statics:{fields:{Default:null},ctors:{init:function(){this.Default=new Microsoft.Xna.Framework.Input.GamePadState}},methods:{op_Equality:function(left,right){return left.IsConnected===right.IsConnected&&left.PacketNumber===right.PacketNumber&&Microsoft.Xna.Framework.Input.GamePadButtons.op_Equality(left.Buttons,right.Buttons)&&Microsoft.Xna.Framework.Input.GamePadDPad.op_Equality(left.DPad.$clone(),right.DPad.$clone())&&Microsoft.Xna.Framework.Input.GamePadThumbSticks.op_Equality(left.ThumbSticks,right.ThumbSticks)&&Microsoft.Xna.Framework.Input.GamePadTriggers.op_Equality(left.Triggers.$clone(),right.Triggers.$clone())},op_Inequality:function(left,right){return!Microsoft.Xna.Framework.Input.GamePadState.op_Equality(left.$clone(),right.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.Input.GamePadState}}},fields:{IsConnected:!1,PacketNumber:0,Buttons:null,DPad:null,ThumbSticks:null,Triggers:null},ctors:{init:function(){this.Buttons=new Microsoft.Xna.Framework.Input.GamePadButtons;this.DPad=new Microsoft.Xna.Framework.Input.GamePadDPad;this.ThumbSticks=new Microsoft.Xna.Framework.Input.GamePadThumbSticks;this.Triggers=new Microsoft.Xna.Framework.Input.GamePadTriggers},$ctor1:function(thumbSticks,triggers,buttons,dPad){Microsoft.Xna.Framework.Input.GamePadState.ctor.call(this);this.ThumbSticks=thumbSticks;this.Triggers=triggers.$clone();this.Buttons=buttons;this.DPad=dPad.$clone();this.IsConnected=!0},$ctor2:function(leftThumbStick,rightThumbStick,leftTrigger,rightTrigger,buttons){Microsoft.Xna.Framework.Input.GamePadState.$ctor1.call(this,new Microsoft.Xna.Framework.Input.GamePadThumbSticks.$ctor1(leftThumbStick.$clone(),rightThumbStick.$clone()),new Microsoft.Xna.Framework.Input.GamePadTriggers.$ctor1(leftTrigger,rightTrigger),new Microsoft.Xna.Framework.Input.GamePadButtons.$ctor1(buttons),new Microsoft.Xna.Framework.Input.GamePadDPad.$ctor1(buttons))},ctor:function(){this.$initialize()}},methods:{GetVirtualButtons:function(){var result=this.Buttons._buttons;return result|=this.ThumbSticks._virtualButtons,this.DPad.Down===Microsoft.Xna.Framework.Input.ButtonState.Pressed&&(result|=Microsoft.Xna.Framework.Input.Buttons.DPadDown),this.DPad.Up===Microsoft.Xna.Framework.Input.ButtonState.Pressed&&(result|=Microsoft.Xna.Framework.Input.Buttons.DPadUp),this.DPad.Left===Microsoft.Xna.Framework.Input.ButtonState.Pressed&&(result|=Microsoft.Xna.Framework.Input.Buttons.DPadLeft),this.DPad.Right===Microsoft.Xna.Framework.Input.ButtonState.Pressed&&(result|=Microsoft.Xna.Framework.Input.Buttons.DPadRight),result},IsButtonDown:function(button){return(this.GetVirtualButtons()&button)===button},IsButtonUp:function(button){return(this.GetVirtualButtons()&button)!==button},equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Input.GamePadState)&&Microsoft.Xna.Framework.Input.GamePadState.op_Equality(this,System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Input.GamePadState),Microsoft.Xna.Framework.Input.GamePadState)))},getHashCode:function(){var hash=this.PacketNumber;return hash=Bridge.Int.mul(hash,397)^this.Buttons.getHashCode(),hash=Bridge.Int.mul(hash,397)^this.DPad.getHashCode(),hash=Bridge.Int.mul(hash,397)^this.ThumbSticks.getHashCode(),Bridge.Int.mul(hash,397)^this.Triggers.getHashCode()},toString:function(){return this.IsConnected?"[GamePadState: IsConnected="+((this.IsConnected?"1":"0")||"")+", PacketNumber="+(System.Int32.format(this.PacketNumber,"00000")||"")+", Buttons="+this.Buttons+", DPad="+this.DPad+", ThumbSticks="+this.ThumbSticks+", Triggers="+this.Triggers+"]":"[GamePadState: IsConnected = 0]"},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Input.GamePadState;return s.IsConnected=this.IsConnected,s.PacketNumber=this.PacketNumber,s.Buttons=this.Buttons,s.DPad=this.DPad.$clone(),s.ThumbSticks=this.ThumbSticks,s.Triggers=this.Triggers.$clone(),s}}});Bridge.define("Microsoft.Xna.Framework.Input.GamePadThumbSticks",{$kind:"struct",statics:{fields:{leftThumbDeadZone:0,rightThumbDeadZone:0},ctors:{init:function(){this.leftThumbDeadZone=.24;this.rightThumbDeadZone=.265}},methods:{op_Equality:function(left,right){return Microsoft.Xna.Framework.Vector2.op_Equality(left.Left.$clone(),right.Left.$clone())&&Microsoft.Xna.Framework.Vector2.op_Equality(left.Right.$clone(),right.Right.$clone())},op_Inequality:function(left,right){return!Microsoft.Xna.Framework.Input.GamePadThumbSticks.op_Equality(left,right)},getDefaultValue:function(){return new Microsoft.Xna.Framework.Input.GamePadThumbSticks}}},fields:{_virtualButtons:0,_left:null,_right:null},props:{Left:{get:function(){return this._left.$clone()}},Right:{get:function(){return this._right.$clone()}}},ctors:{init:function(){this._left=new Microsoft.Xna.Framework.Vector2;this._right=new Microsoft.Xna.Framework.Vector2},$ctor1:function(leftPosition,rightPosition){Microsoft.Xna.Framework.Input.GamePadThumbSticks.$ctor2.call(this,leftPosition,rightPosition,Microsoft.Xna.Framework.Input.GamePadDeadZone.None)},$ctor2:function(leftPosition,rightPosition,deadZoneMode){Microsoft.Xna.Framework.Input.GamePadThumbSticks.ctor.call(this);switch(deadZoneMode){case Microsoft.Xna.Framework.Input.GamePadDeadZone.None:this._left=leftPosition.$clone();this._right=rightPosition.$clone();break;case Microsoft.Xna.Framework.Input.GamePadDeadZone.IndependentAxes:this._left=this.ExcludeIndependentAxesDeadZone(leftPosition.$clone(),Microsoft.Xna.Framework.Input.GamePadThumbSticks.leftThumbDeadZone);this._right=this.ExcludeIndependentAxesDeadZone(rightPosition.$clone(),Microsoft.Xna.Framework.Input.GamePadThumbSticks.rightThumbDeadZone);break;case Microsoft.Xna.Framework.Input.GamePadDeadZone.Circular:this._left=this.ExcludeCircularDeadZone(leftPosition.$clone(),Microsoft.Xna.Framework.Input.GamePadThumbSticks.leftThumbDeadZone);this._right=this.ExcludeCircularDeadZone(rightPosition.$clone(),Microsoft.Xna.Framework.Input.GamePadThumbSticks.rightThumbDeadZone);break}deadZoneMode===Microsoft.Xna.Framework.Input.GamePadDeadZone.Circular?(this._left.$clone().LengthSquared()>1&&this._left.$clone().Normalize(),this._right.$clone().LengthSquared()>1&&this._right.$clone().Normalize()):(this._left=new Microsoft.Xna.Framework.Vector2.$ctor2(Microsoft.Xna.Framework.MathHelper.Clamp$1(this.Left.X,-1,1),Microsoft.Xna.Framework.MathHelper.Clamp$1(this.Left.Y,-1,1)),this._right=new Microsoft.Xna.Framework.Vector2.$ctor2(Microsoft.Xna.Framework.MathHelper.Clamp$1(this.Right.X,-1,1),Microsoft.Xna.Framework.MathHelper.Clamp$1(this.Right.Y,-1,1)));this._virtualButtons=0;leftPosition.X<-.24?this._virtualButtons|=Microsoft.Xna.Framework.Input.Buttons.LeftThumbstickLeft:leftPosition.X>Microsoft.Xna.Framework.Input.GamePadThumbSticks.leftThumbDeadZone&&(this._virtualButtons|=Microsoft.Xna.Framework.Input.Buttons.LeftThumbstickRight);leftPosition.Y<-.24?this._virtualButtons|=Microsoft.Xna.Framework.Input.Buttons.LeftThumbstickDown:leftPosition.Y>Microsoft.Xna.Framework.Input.GamePadThumbSticks.leftThumbDeadZone&&(this._virtualButtons|=Microsoft.Xna.Framework.Input.Buttons.LeftThumbstickUp);rightPosition.X<-.265?this._virtualButtons|=Microsoft.Xna.Framework.Input.Buttons.RightThumbstickLeft:rightPosition.X>Microsoft.Xna.Framework.Input.GamePadThumbSticks.rightThumbDeadZone&&(this._virtualButtons|=Microsoft.Xna.Framework.Input.Buttons.RightThumbstickRight);rightPosition.Y<-.265?this._virtualButtons|=Microsoft.Xna.Framework.Input.Buttons.RightThumbstickDown:rightPosition.Y>Microsoft.Xna.Framework.Input.GamePadThumbSticks.rightThumbDeadZone&&(this._virtualButtons|=Microsoft.Xna.Framework.Input.Buttons.RightThumbstickUp)},ctor:function(){this.$initialize()}},methods:{ExcludeIndependentAxesDeadZone:function(value,deadZone){return new Microsoft.Xna.Framework.Vector2.$ctor2(this.ExcludeAxisDeadZone(value.X,deadZone),this.ExcludeAxisDeadZone(value.Y,deadZone))},ExcludeAxisDeadZone:function(value,deadZone){if(value<-deadZone)value+=deadZone;else if(value>deadZone)value-=deadZone;else return 0;return value/(1-deadZone)},ExcludeCircularDeadZone:function(value,deadZone){var originalLength=value.Length(),newLength;return originalLength<=deadZone?Microsoft.Xna.Framework.Vector2.Zero.$clone():(newLength=(originalLength-deadZone)/(1-deadZone),Microsoft.Xna.Framework.Vector2.op_Multiply$1(value.$clone(),newLength/originalLength))},equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Input.GamePadThumbSticks)&&Microsoft.Xna.Framework.Input.GamePadThumbSticks.op_Equality(this,System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Input.GamePadThumbSticks),Microsoft.Xna.Framework.Input.GamePadThumbSticks)))},getHashCode:function(){return Bridge.Int.mul(this.Left.getHashCode(),397)^this.Right.getHashCode()},toString:function(){return"[GamePadThumbSticks: Left="+this.Left+", Right="+this.Right+"]"},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Input.GamePadThumbSticks;return s._virtualButtons=this._virtualButtons,s._left=this._left.$clone(),s._right=this._right.$clone(),s}}});Bridge.define("Microsoft.Xna.Framework.Input.GamePadTriggers",{$kind:"struct",statics:{methods:{op_Equality:function(left,right){return left.Left===right.Left&&left.Right===right.Right},op_Inequality:function(left,right){return!Microsoft.Xna.Framework.Input.GamePadTriggers.op_Equality(left.$clone(),right.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.Input.GamePadTriggers}}},fields:{Left:0,Right:0},ctors:{$ctor1:function(leftTrigger,rightTrigger){Microsoft.Xna.Framework.Input.GamePadTriggers.ctor.call(this);this.Left=Microsoft.Xna.Framework.MathHelper.Clamp$1(leftTrigger,0,1);this.Right=Microsoft.Xna.Framework.MathHelper.Clamp$1(rightTrigger,0,1)},ctor:function(){this.$initialize()}},methods:{equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Input.GamePadTriggers)&&Microsoft.Xna.Framework.Input.GamePadTriggers.op_Equality(this,System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Input.GamePadTriggers),Microsoft.Xna.Framework.Input.GamePadTriggers)))},getHashCode:function(){return Bridge.Int.mul(System.Single.getHashCode(this.Left),397)^System.Single.getHashCode(this.Right)},toString:function(){return"[GamePadTriggers: Left="+System.Single.format(this.Left)+", Right="+System.Single.format(this.Right)+"]"},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Input.GamePadTriggers;return s.Left=this.Left,s.Right=this.Right,s}}});Bridge.define("Microsoft.Xna.Framework.Input.GamePadType",{$kind:"enum",statics:{fields:{Unknown:0,GamePad:1,Wheel:2,ArcadeStick:3,FlightStick:4,DancePad:5,Guitar:6,AlternateGuitar:7,DrumKit:8,BigButtonPad:768}}});Bridge.define("Microsoft.Xna.Framework.Input.Joystick",{statics:{props:{PlatformIsSupported:{get:function(){return!0}},IsSupported:{get:function(){return Microsoft.Xna.Framework.Input.Joystick.PlatformIsSupported}}},methods:{PlatformGetCapabilities:function(index){var $t,gamepads=navigator.getGamepads(),gamepad;return gamepads.length<=index||gamepads[System.Array.index(index,gamepads)]==null?($t=new Microsoft.Xna.Framework.Input.JoystickCapabilities,$t.IsConnected=!1,$t.Identifier="",$t.IsGamepad=!1,$t.AxisCount=0,$t.ButtonCount=0,$t.HatCount=0,$t):(gamepad=gamepads[System.Array.index(index,gamepads)],$t=new Microsoft.Xna.Framework.Input.JoystickCapabilities,$t.IsConnected=!1,$t.Identifier=gamepad.id,$t.IsGamepad=gamepad.mapping==="standard",$t.AxisCount=gamepad.axes.length,$t.ButtonCount=gamepad.buttons.length,$t.HatCount=0,$t)},PlatformGetState:function(index){var $t,$t1,$t2,$t3,$t4,gamepads=navigator.getGamepads(),gamepad,buttons,i,axes,i1;if(gamepads.length<=index||gamepads[System.Array.index(index,gamepads)]==null)return $t=new Microsoft.Xna.Framework.Input.JoystickState,$t.IsConnected=!1,$t.Axes=System.Array.init(0,0,System.Int32),$t.Buttons=System.Array.init(0,0,Microsoft.Xna.Framework.Input.ButtonState),$t.Hats=System.Array.init(0,function(){return new Microsoft.Xna.Framework.Input.JoystickHat},Microsoft.Xna.Framework.Input.JoystickHat),$t;for(gamepad=gamepads[System.Array.index(index,gamepads)],buttons=System.Array.init(gamepad.buttons.length,0,Microsoft.Xna.Framework.Input.ButtonState),i=0;i<buttons.length;i=i+1|0)buttons[System.Array.index(i,buttons)]=($t=gamepad.buttons)[System.Array.index(i,$t)].pressed?Microsoft.Xna.Framework.Input.ButtonState.Pressed:Microsoft.Xna.Framework.Input.ButtonState.Released;for(axes=System.Array.init(gamepad.axes.length,0,System.Int32),i1=0;i1<axes.length;i1=i1+1|0)axes[System.Array.index(i1,axes)]=Bridge.Int.clip32(($t1=gamepad.axes)[System.Array.index(i1,$t1)]<0?($t2=gamepad.axes)[System.Array.index(i1,$t2)]*32768:($t3=gamepad.axes)[System.Array.index(i1,$t3)]*32767);return $t4=new Microsoft.Xna.Framework.Input.JoystickState,$t4.IsConnected=gamepad.connected,$t4.Axes=axes,$t4.Buttons=buttons,$t4.Hats=System.Array.init(0,function(){return new Microsoft.Xna.Framework.Input.JoystickHat},Microsoft.Xna.Framework.Input.JoystickHat),$t4},GetCapabilities:function(index){return Microsoft.Xna.Framework.Input.Joystick.PlatformGetCapabilities(index)},GetState:function(index){return Microsoft.Xna.Framework.Input.Joystick.PlatformGetState(index)}}}});Bridge.define("Microsoft.Xna.Framework.Input.JoystickCapabilities",{$kind:"struct",statics:{methods:{op_Equality:function(left,right){return left.IsConnected===right.IsConnected&&Bridge.referenceEquals(left.Identifier,right.Identifier)&&left.IsGamepad===right.IsGamepad&&left.AxisCount===right.AxisCount&&left.ButtonCount===right.ButtonCount&&left.HatCount===right.HatCount},op_Inequality:function(left,right){return!Microsoft.Xna.Framework.Input.JoystickCapabilities.op_Equality(left.$clone(),right.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.Input.JoystickCapabilities}}},fields:{IsConnected:!1,Identifier:null,IsGamepad:!1,AxisCount:0,ButtonCount:0,HatCount:0},ctors:{ctor:function(){this.$initialize()}},methods:{equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Input.JoystickCapabilities)&&Microsoft.Xna.Framework.Input.JoystickCapabilities.op_Equality(this,System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Input.JoystickCapabilities),Microsoft.Xna.Framework.Input.JoystickCapabilities)))},getHashCode:function(){return Bridge.getHashCode(this.Identifier)},toString:function(){return"[JoystickCapabilities: IsConnected="+System.Boolean.toString(this.IsConnected)+", Identifier="+(this.Identifier||"")+", IsGamepad="+System.Boolean.toString(this.IsGamepad)+" , AxisCount="+this.AxisCount+", ButtonCount="+this.ButtonCount+", HatCount="+this.HatCount+"]"},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Input.JoystickCapabilities;return s.IsConnected=this.IsConnected,s.Identifier=this.Identifier,s.IsGamepad=this.IsGamepad,s.AxisCount=this.AxisCount,s.ButtonCount=this.ButtonCount,s.HatCount=this.HatCount,s}}});Bridge.define("Microsoft.Xna.Framework.Input.JoystickHat",{$kind:"struct",statics:{methods:{op_Equality:function(left,right){return left.Down===right.Down&&left.Left===right.Left&&left.Right===right.Right&&left.Up===right.Up},op_Inequality:function(left,right){return!Microsoft.Xna.Framework.Input.JoystickHat.op_Equality(left.$clone(),right.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.Input.JoystickHat}}},fields:{Down:0,Left:0,Right:0,Up:0},ctors:{ctor:function(){this.$initialize()}},methods:{equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Input.JoystickHat)&&Microsoft.Xna.Framework.Input.JoystickHat.op_Equality(this,System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Input.JoystickHat),Microsoft.Xna.Framework.Input.JoystickHat)))},getHashCode:function(){var hash=0;return this.Left===Microsoft.Xna.Framework.Input.ButtonState.Pressed&&(hash=hash|8),this.Up===Microsoft.Xna.Framework.Input.ButtonState.Pressed&&(hash=hash|4),this.Right===Microsoft.Xna.Framework.Input.ButtonState.Pressed&&(hash=hash|2),this.Down===Microsoft.Xna.Framework.Input.ButtonState.Pressed&&(hash=hash|1),hash},toString:function(){return""+this.Left+this.Up+this.Right+this.Down},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Input.JoystickHat;return s.Down=this.Down,s.Left=this.Left,s.Right=this.Right,s.Up=this.Up,s}}});Bridge.define("Microsoft.Xna.Framework.Input.JoystickState",{$kind:"struct",statics:{methods:{op_Equality:function(left,right){return left.IsConnected===right.IsConnected&&System.Linq.Enumerable.from(left.Axes).sequenceEqual(right.Axes)&&System.Linq.Enumerable.from(left.Buttons).sequenceEqual(right.Buttons)&&System.Linq.Enumerable.from(left.Hats).sequenceEqual(right.Hats)},op_Inequality:function(left,right){return!Microsoft.Xna.Framework.Input.JoystickState.op_Equality(left.$clone(),right.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.Input.JoystickState}}},fields:{IsConnected:!1,Axes:null,Buttons:null,Hats:null},ctors:{ctor:function(){this.$initialize()}},methods:{equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Input.JoystickState)&&Microsoft.Xna.Framework.Input.JoystickState.op_Equality(this,System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Input.JoystickState),Microsoft.Xna.Framework.Input.JoystickState)))},getHashCode:function(){var $t,$t1,hash=0,axis,i,hat;if(this.IsConnected){$t=Bridge.getEnumerator(this.Axes);try{while($t.moveNext())axis=$t.Current,hash=Bridge.Int.mul(hash,397)^axis}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}for(i=0;i<this.Buttons.length;i=i+1|0)hash=hash^this.Buttons[i]<<i%32;$t1=Bridge.getEnumerator(this.Hats);try{while($t1.moveNext())hat=$t1.Current.$clone(),hash=Bridge.Int.mul(hash,397)^hat.getHashCode()}finally{Bridge.is($t1,System.IDisposable)&&$t1.System$IDisposable$Dispose()}}return hash},toString:function(){var $t,$t1,$t2,ret=new System.Text.StringBuilder("",((52+Bridge.Int.mul(this.Axes.length,7)|0)+this.Buttons.length|0)+Bridge.Int.mul(this.Hats.length,5)|0),axis,button,hat;if(ret.append("[JoystickState: IsConnected="+(this.IsConnected?1:0)),this.IsConnected){ret.append(", Axes=");$t=Bridge.getEnumerator(this.Axes);try{while($t.moveNext())axis=$t.Current,ret.append(((axis>0?"+":"")||"")+(System.Int32.format(axis,"00000")||"")+" ")}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}ret.setLength(ret.getLength()-1|0);ret.append(", Buttons=");$t1=Bridge.getEnumerator(this.Buttons);try{while($t1.moveNext())button=$t1.Current,ret.append(button)}finally{Bridge.is($t1,System.IDisposable)&&$t1.System$IDisposable$Dispose()}ret.append(", Hats=");$t2=Bridge.getEnumerator(this.Hats);try{while($t2.moveNext())hat=$t2.Current.$clone(),ret.append(hat+" ")}finally{Bridge.is($t2,System.IDisposable)&&$t2.System$IDisposable$Dispose()}ret.setLength(ret.getLength()-1|0)}return ret.append("]"),ret.toString()},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Input.JoystickState;return s.IsConnected=this.IsConnected,s.Axes=this.Axes,s.Buttons=this.Buttons,s.Hats=this.Hats,s}}});Bridge.define("Microsoft.Xna.Framework.Input.Keyboard",{statics:{fields:{_keys:null,CapsLock:!1,NumLock:!1},methods:{GetState:function(){return Microsoft.Xna.Framework.Input.Keyboard.PlatformGetState()},GetState$1:function(playerIndex){return Microsoft.Xna.Framework.Input.Keyboard.PlatformGetState()},PlatformGetState:function(){return new Microsoft.Xna.Framework.Input.KeyboardState.$ctor3(Microsoft.Xna.Framework.Input.Keyboard._keys,Microsoft.Xna.Framework.Input.Keyboard.CapsLock,Microsoft.Xna.Framework.Input.Keyboard.NumLock)},SetKeys:function(keys){Microsoft.Xna.Framework.Input.Keyboard._keys=keys}}}});Bridge.define("Microsoft.Xna.Framework.Input.KeyboardState",{$kind:"struct",statics:{fields:{empty:null},ctors:{init:function(){this.empty=System.Array.init(0,0,Microsoft.Xna.Framework.Input.Keys)}},methods:{CountBits:function(v){return v=v-((v>>>1&1431655765)>>>0)>>>0,v=((v&858993459)>>>0)+((v>>>2&858993459)>>>0)>>>0,Bridge.Int.umul((v+(v>>>4)>>>0&252645135)>>>0,16843009)>>>24},AddKeysToArray:function(keys,offset,pressedKeys,index){for(var i=0;i<32;i=i+1|0)System.Int64(keys).and(System.Int64(1<<i)).ne(System.Int64(0))&&(pressedKeys[System.Array.index(Bridge.identity(index,index=index+1|0),pressedKeys)]=offset+i|0);return index},op_Equality:function(a,b){return a.keys0===b.keys0&&a.keys1===b.keys1&&a.keys2===b.keys2&&a.keys3===b.keys3&&a.keys4===b.keys4&&a.keys5===b.keys5&&a.keys6===b.keys6&&a.keys7===b.keys7},op_Inequality:function(a,b){return!Microsoft.Xna.Framework.Input.KeyboardState.op_Equality(a.$clone(),b.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.Input.KeyboardState}}},fields:{keys0:0,keys1:0,keys2:0,keys3:0,keys4:0,keys5:0,keys6:0,keys7:0,CapsLock:!1,NumLock:!1},ctors:{$ctor3:function(keys,capsLock,numLock){var $t,k;if(capsLock===void 0&&(capsLock=!1),numLock===void 0&&(numLock=!1),Microsoft.Xna.Framework.Input.KeyboardState.ctor.call(this),this.CapsLock=capsLock,this.NumLock=numLock,this.keys0=0,this.keys1=0,this.keys2=0,this.keys3=0,this.keys4=0,this.keys5=0,this.keys6=0,this.keys7=0,keys!=null){$t=Bridge.getEnumerator(keys);try{while($t.moveNext())k=$t.Current,this.InternalSetKey(k)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}},$ctor2:function(keys,capsLock,numLock){var $t,k;if(capsLock===void 0&&(capsLock=!1),numLock===void 0&&(numLock=!1),Microsoft.Xna.Framework.Input.KeyboardState.ctor.call(this),this.CapsLock=capsLock,this.NumLock=numLock,this.keys0=0,this.keys1=0,this.keys2=0,this.keys3=0,this.keys4=0,this.keys5=0,this.keys6=0,this.keys7=0,keys!=null){$t=Bridge.getEnumerator(keys);try{while($t.moveNext())k=$t.Current,this.InternalSetKey(k)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}},$ctor1:function(keys){var $t,k;if(keys===void 0&&(keys=[]),Microsoft.Xna.Framework.Input.KeyboardState.ctor.call(this),this.CapsLock=!1,this.NumLock=!1,this.keys0=0,this.keys1=0,this.keys2=0,this.keys3=0,this.keys4=0,this.keys5=0,this.keys6=0,this.keys7=0,keys!=null){$t=Bridge.getEnumerator(keys);try{while($t.moveNext())k=$t.Current,this.InternalSetKey(k)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}},ctor:function(){this.$initialize()}},methods:{getItem:function(key){return this.InternalGetKey(key)?Microsoft.Xna.Framework.Input.KeyState.Down:Microsoft.Xna.Framework.Input.KeyState.Up},InternalGetKey:function(key){var mask=1<<(key&31)>>>0,element;switch(key>>5){case 0:element=this.keys0;break;case 1:element=this.keys1;break;case 2:element=this.keys2;break;case 3:element=this.keys3;break;case 4:element=this.keys4;break;case 5:element=this.keys5;break;case 6:element=this.keys6;break;case 7:element=this.keys7;break;default:element=0;break}return(element&mask)>>>0!=0},InternalSetKey:function(key){var mask=1<<(key&31)>>>0;switch(key>>5){case 0:this.keys0=(this.keys0|mask)>>>0;break;case 1:this.keys1=(this.keys1|mask)>>>0;break;case 2:this.keys2=(this.keys2|mask)>>>0;break;case 3:this.keys3=(this.keys3|mask)>>>0;break;case 4:this.keys4=(this.keys4|mask)>>>0;break;case 5:this.keys5=(this.keys5|mask)>>>0;break;case 6:this.keys6=(this.keys6|mask)>>>0;break;case 7:this.keys7=(this.keys7|mask)>>>0;break}},InternalClearKey:function(key){var mask=1<<(key&31)>>>0;switch(key>>5){case 0:this.keys0=(this.keys0&~mask)>>>0;break;case 1:this.keys1=(this.keys1&~mask)>>>0;break;case 2:this.keys2=(this.keys2&~mask)>>>0;break;case 3:this.keys3=(this.keys3&~mask)>>>0;break;case 4:this.keys4=(this.keys4&~mask)>>>0;break;case 5:this.keys5=(this.keys5&~mask)>>>0;break;case 6:this.keys6=(this.keys6&~mask)>>>0;break;case 7:this.keys7=(this.keys7&~mask)>>>0;break}},InternalClearAllKeys:function(){this.keys0=0;this.keys1=0;this.keys2=0;this.keys3=0;this.keys4=0;this.keys5=0;this.keys6=0;this.keys7=0},IsKeyDown:function(key){return this.InternalGetKey(key)},IsKeyUp:function(key){return!this.InternalGetKey(key)},GetPressedKeys:function(){var count=((((((Microsoft.Xna.Framework.Input.KeyboardState.CountBits(this.keys0)+Microsoft.Xna.Framework.Input.KeyboardState.CountBits(this.keys1)>>>0)+Microsoft.Xna.Framework.Input.KeyboardState.CountBits(this.keys2)>>>0)+Microsoft.Xna.Framework.Input.KeyboardState.CountBits(this.keys3)>>>0)+Microsoft.Xna.Framework.Input.KeyboardState.CountBits(this.keys4)>>>0)+Microsoft.Xna.Framework.Input.KeyboardState.CountBits(this.keys5)>>>0)+Microsoft.Xna.Framework.Input.KeyboardState.CountBits(this.keys6)>>>0)+Microsoft.Xna.Framework.Input.KeyboardState.CountBits(this.keys7)>>>0,keys,index;return count===0?Microsoft.Xna.Framework.Input.KeyboardState.empty:(keys=System.Array.init(count,0,Microsoft.Xna.Framework.Input.Keys),index=0,this.keys0!==0&&(index=Microsoft.Xna.Framework.Input.KeyboardState.AddKeysToArray(this.keys0,0,keys,index)),this.keys1!==0&&(index=Microsoft.Xna.Framework.Input.KeyboardState.AddKeysToArray(this.keys1,32,keys,index)),this.keys2!==0&&(index=Microsoft.Xna.Framework.Input.KeyboardState.AddKeysToArray(this.keys2,64,keys,index)),this.keys3!==0&&(index=Microsoft.Xna.Framework.Input.KeyboardState.AddKeysToArray(this.keys3,96,keys,index)),this.keys4!==0&&(index=Microsoft.Xna.Framework.Input.KeyboardState.AddKeysToArray(this.keys4,128,keys,index)),this.keys5!==0&&(index=Microsoft.Xna.Framework.Input.KeyboardState.AddKeysToArray(this.keys5,160,keys,index)),this.keys6!==0&&(index=Microsoft.Xna.Framework.Input.KeyboardState.AddKeysToArray(this.keys6,192,keys,index)),this.keys7!==0&&(index=Microsoft.Xna.Framework.Input.KeyboardState.AddKeysToArray(this.keys7,224,keys,index)),keys)},getHashCode:function(){return(((((((this.keys0^this.keys1)>>>0^this.keys2)>>>0^this.keys3)>>>0^this.keys4)>>>0^this.keys5)>>>0^this.keys6)>>>0^this.keys7)>>>0|0},equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Input.KeyboardState)&&Microsoft.Xna.Framework.Input.KeyboardState.op_Equality(this,System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Input.KeyboardState),Microsoft.Xna.Framework.Input.KeyboardState)))},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Input.KeyboardState;return s.keys0=this.keys0,s.keys1=this.keys1,s.keys2=this.keys2,s.keys3=this.keys3,s.keys4=this.keys4,s.keys5=this.keys5,s.keys6=this.keys6,s.keys7=this.keys7,s.CapsLock=this.CapsLock,s.NumLock=this.NumLock,s}}});Bridge.define("Microsoft.Xna.Framework.Input.KeyboardUtil",{statics:{methods:{ToXna:function(key,location){switch(key){case 8:return Microsoft.Xna.Framework.Input.Keys.Back;case 9:return Microsoft.Xna.Framework.Input.Keys.Tab;case 13:return Microsoft.Xna.Framework.Input.Keys.Enter;case 16:return location===1?Microsoft.Xna.Framework.Input.Keys.LeftShift:Microsoft.Xna.Framework.Input.Keys.RightShift;case 17:return location===1?Microsoft.Xna.Framework.Input.Keys.LeftControl:Microsoft.Xna.Framework.Input.Keys.RightControl;case 18:return location===1?Microsoft.Xna.Framework.Input.Keys.LeftAlt:Microsoft.Xna.Framework.Input.Keys.RightAlt;case 19:return Microsoft.Xna.Framework.Input.Keys.Pause;case 20:return Microsoft.Xna.Framework.Input.Keys.CapsLock;case 27:return Microsoft.Xna.Framework.Input.Keys.Escape;case 32:return Microsoft.Xna.Framework.Input.Keys.Space;case 33:return Microsoft.Xna.Framework.Input.Keys.PageUp;case 34:return Microsoft.Xna.Framework.Input.Keys.PageDown;case 35:return Microsoft.Xna.Framework.Input.Keys.End;case 36:return Microsoft.Xna.Framework.Input.Keys.Home;case 37:return Microsoft.Xna.Framework.Input.Keys.Left;case 38:return Microsoft.Xna.Framework.Input.Keys.Up;case 39:return Microsoft.Xna.Framework.Input.Keys.Right;case 40:return Microsoft.Xna.Framework.Input.Keys.Down;case 45:return Microsoft.Xna.Framework.Input.Keys.Insert;case 46:return Microsoft.Xna.Framework.Input.Keys.Delete;case 48:return Microsoft.Xna.Framework.Input.Keys.D0;case 49:return Microsoft.Xna.Framework.Input.Keys.D1;case 50:return Microsoft.Xna.Framework.Input.Keys.D2;case 51:return Microsoft.Xna.Framework.Input.Keys.D3;case 52:return Microsoft.Xna.Framework.Input.Keys.D4;case 53:return Microsoft.Xna.Framework.Input.Keys.D5;case 54:return Microsoft.Xna.Framework.Input.Keys.D6;case 55:return Microsoft.Xna.Framework.Input.Keys.D7;case 56:return Microsoft.Xna.Framework.Input.Keys.D8;case 57:return Microsoft.Xna.Framework.Input.Keys.D9;case 65:return Microsoft.Xna.Framework.Input.Keys.A;case 66:return Microsoft.Xna.Framework.Input.Keys.B;case 67:return Microsoft.Xna.Framework.Input.Keys.C;case 68:return Microsoft.Xna.Framework.Input.Keys.D;case 69:return Microsoft.Xna.Framework.Input.Keys.E;case 70:return Microsoft.Xna.Framework.Input.Keys.F;case 71:return Microsoft.Xna.Framework.Input.Keys.G;case 72:return Microsoft.Xna.Framework.Input.Keys.H;case 73:return Microsoft.Xna.Framework.Input.Keys.I;case 74:return Microsoft.Xna.Framework.Input.Keys.J;case 75:return Microsoft.Xna.Framework.Input.Keys.K;case 76:return Microsoft.Xna.Framework.Input.Keys.L;case 77:return Microsoft.Xna.Framework.Input.Keys.M;case 78:return Microsoft.Xna.Framework.Input.Keys.N;case 79:return Microsoft.Xna.Framework.Input.Keys.O;case 80:return Microsoft.Xna.Framework.Input.Keys.P;case 81:return Microsoft.Xna.Framework.Input.Keys.Q;case 82:return Microsoft.Xna.Framework.Input.Keys.R;case 83:return Microsoft.Xna.Framework.Input.Keys.S;case 84:return Microsoft.Xna.Framework.Input.Keys.T;case 85:return Microsoft.Xna.Framework.Input.Keys.U;case 86:return Microsoft.Xna.Framework.Input.Keys.V;case 87:return Microsoft.Xna.Framework.Input.Keys.W;case 88:return Microsoft.Xna.Framework.Input.Keys.X;case 89:return Microsoft.Xna.Framework.Input.Keys.Y;case 90:return Microsoft.Xna.Framework.Input.Keys.Z;case 96:return Microsoft.Xna.Framework.Input.Keys.NumPad0;case 97:return Microsoft.Xna.Framework.Input.Keys.NumPad1;case 98:return Microsoft.Xna.Framework.Input.Keys.NumPad2;case 99:return Microsoft.Xna.Framework.Input.Keys.NumPad3;case 100:return Microsoft.Xna.Framework.Input.Keys.NumPad4;case 101:return Microsoft.Xna.Framework.Input.Keys.NumPad5;case 102:return Microsoft.Xna.Framework.Input.Keys.NumPad6;case 103:return Microsoft.Xna.Framework.Input.Keys.NumPad7;case 104:return Microsoft.Xna.Framework.Input.Keys.NumPad8;case 105:return Microsoft.Xna.Framework.Input.Keys.NumPad9;case 106:return Microsoft.Xna.Framework.Input.Keys.Multiply;case 107:return Microsoft.Xna.Framework.Input.Keys.Add;case 109:return Microsoft.Xna.Framework.Input.Keys.Subtract;case 110:return Microsoft.Xna.Framework.Input.Keys.Decimal;case 111:return Microsoft.Xna.Framework.Input.Keys.Divide;case 112:return Microsoft.Xna.Framework.Input.Keys.F1;case 113:return Microsoft.Xna.Framework.Input.Keys.F2;case 114:return Microsoft.Xna.Framework.Input.Keys.F3;case 115:return Microsoft.Xna.Framework.Input.Keys.F4;case 116:return Microsoft.Xna.Framework.Input.Keys.F5;case 117:return Microsoft.Xna.Framework.Input.Keys.F6;case 118:return Microsoft.Xna.Framework.Input.Keys.F7;case 119:return Microsoft.Xna.Framework.Input.Keys.F8;case 120:return Microsoft.Xna.Framework.Input.Keys.F9;case 121:return Microsoft.Xna.Framework.Input.Keys.F10;case 122:return Microsoft.Xna.Framework.Input.Keys.F11;case 123:return Microsoft.Xna.Framework.Input.Keys.F12;case 14:return Microsoft.Xna.Framework.Input.Keys.NumLock;case 145:return Microsoft.Xna.Framework.Input.Keys.Scroll;case 186:return Microsoft.Xna.Framework.Input.Keys.OemSemicolon;case 187:return Microsoft.Xna.Framework.Input.Keys.OemPlus;case 188:return Microsoft.Xna.Framework.Input.Keys.OemComma;case 189:return Microsoft.Xna.Framework.Input.Keys.OemMinus;case 190:return Microsoft.Xna.Framework.Input.Keys.OemPeriod;case 191:return Microsoft.Xna.Framework.Input.Keys.OemQuestion;case 192:return Microsoft.Xna.Framework.Input.Keys.OemTilde;case 219:return Microsoft.Xna.Framework.Input.Keys.OemOpenBrackets;case 220:return Microsoft.Xna.Framework.Input.Keys.OemPipe;case 221:return Microsoft.Xna.Framework.Input.Keys.OemCloseBrackets;case 222:return Microsoft.Xna.Framework.Input.Keys.OemQuotes}return Microsoft.Xna.Framework.Input.Keys.None}}}});Bridge.define("Microsoft.Xna.Framework.Input.Keys",{$kind:"enum",statics:{fields:{None:0,Back:8,Tab:9,Enter:13,CapsLock:20,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,Left:37,Up:38,Right:39,Down:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,Help:47,D0:48,D1:49,D2:50,D3:51,D4:52,D5:53,D6:54,D7:55,D8:56,D9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,LeftWindows:91,RightWindows:92,Apps:93,Sleep:95,NumPad0:96,NumPad1:97,NumPad2:98,NumPad3:99,NumPad4:100,NumPad5:101,NumPad6:102,NumPad7:103,NumPad8:104,NumPad9:105,Multiply:106,Add:107,Separator:108,Subtract:109,Decimal:110,Divide:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,Scroll:145,LeftShift:160,RightShift:161,LeftControl:162,RightControl:163,LeftAlt:164,RightAlt:165,BrowserBack:166,BrowserForward:167,BrowserRefresh:168,BrowserStop:169,BrowserSearch:170,BrowserFavorites:171,BrowserHome:172,VolumeMute:173,VolumeDown:174,VolumeUp:175,MediaNextTrack:176,MediaPreviousTrack:177,MediaStop:178,MediaPlayPause:179,LaunchMail:180,SelectMedia:181,LaunchApplication1:182,LaunchApplication2:183,OemSemicolon:186,OemPlus:187,OemComma:188,OemMinus:189,OemPeriod:190,OemQuestion:191,OemTilde:192,OemOpenBrackets:219,OemPipe:220,OemCloseBrackets:221,OemQuotes:222,Oem8:223,OemBackslash:226,ProcessKey:229,Attn:246,Crsel:247,Exsel:248,EraseEof:249,Play:250,Zoom:251,Pa1:253,OemClear:254,ChatPadGreen:202,ChatPadOrange:203,Pause:19,ImeConvert:28,ImeNoConvert:29,Kana:21,Kanji:25,OemAuto:243,OemCopy:242,OemEnlW:244}}});Bridge.define("Microsoft.Xna.Framework.Input.KeyState",{$kind:"enum",statics:{fields:{Up:0,Down:1}}});Bridge.define("Microsoft.Xna.Framework.Input.Mouse",{statics:{fields:{PrimaryWindow:null,_defaultState:null},props:{WindowHandle:{get:function(){return Microsoft.Xna.Framework.Input.Mouse.PlatformGetWindowHandle()},set:function(value){Microsoft.Xna.Framework.Input.Mouse.PlatformSetWindowHandle(value)}}},ctors:{init:function(){this._defaultState=new Microsoft.Xna.Framework.Input.MouseState}},methods:{GetState$1:function($window){return Microsoft.Xna.Framework.Input.Mouse.PlatformGetState($window)},GetState:function(){return Microsoft.Xna.Framework.Input.Mouse.PrimaryWindow!=null?Microsoft.Xna.Framework.Input.Mouse.GetState$1(Microsoft.Xna.Framework.Input.Mouse.PrimaryWindow):Microsoft.Xna.Framework.Input.Mouse._defaultState.$clone()},SetPosition:function(x,y){Microsoft.Xna.Framework.Input.Mouse.PlatformSetPosition(x,y)},SetCursor:function(cursor){Microsoft.Xna.Framework.Input.Mouse.PlatformSetCursor(cursor)},PlatformGetWindowHandle:function(){return Microsoft.Xna.Framework.IntPtr.Zero},PlatformSetWindowHandle:function(windowHandle){},PlatformGetState:function($window){return $window.MouseState.$clone()},PlatformSetPosition:function(x,y){Microsoft.Xna.Framework.Input.Mouse.PrimaryWindow.MouseState.X=x;Microsoft.Xna.Framework.Input.Mouse.PrimaryWindow.MouseState.Y=y},PlatformSetCursor:function(cursor){}}}});Bridge.define("Microsoft.Xna.Framework.Input.MouseCursor",{inherits:[System.IDisposable],statics:{fields:{Arrow:null,IBeam:null,Wait:null,Crosshair:null,WaitArrow:null,SizeNWSE:null,SizeNESW:null,SizeWE:null,SizeNS:null,SizeAll:null,No:null,Hand:null},ctors:{ctor:function(){Microsoft.Xna.Framework.Input.MouseCursor.PlatformInitalize()}},methods:{FromTexture2D:function(texture,originx,originy){if(texture.Format!==Microsoft.Xna.Framework.Graphics.SurfaceFormat.Color&&texture.Format!==Microsoft.Xna.Framework.Graphics.SurfaceFormat.ColorSRgb)throw new System.ArgumentException.$ctor3("Only Color or ColorSrgb textures are accepted for mouse cursors","texture");return Microsoft.Xna.Framework.Input.MouseCursor.PlatformFromTexture2D(texture,originx,originy)},PlatformInitalize:function(){Microsoft.Xna.Framework.Input.MouseCursor.Arrow=new Microsoft.Xna.Framework.Input.MouseCursor(Microsoft.Xna.Framework.IntPtr.Zero);Microsoft.Xna.Framework.Input.MouseCursor.IBeam=new Microsoft.Xna.Framework.Input.MouseCursor(Microsoft.Xna.Framework.IntPtr.Zero);Microsoft.Xna.Framework.Input.MouseCursor.Wait=new Microsoft.Xna.Framework.Input.MouseCursor(Microsoft.Xna.Framework.IntPtr.Zero);Microsoft.Xna.Framework.Input.MouseCursor.Crosshair=new Microsoft.Xna.Framework.Input.MouseCursor(Microsoft.Xna.Framework.IntPtr.Zero);Microsoft.Xna.Framework.Input.MouseCursor.WaitArrow=new Microsoft.Xna.Framework.Input.MouseCursor(Microsoft.Xna.Framework.IntPtr.Zero);Microsoft.Xna.Framework.Input.MouseCursor.SizeNWSE=new Microsoft.Xna.Framework.Input.MouseCursor(Microsoft.Xna.Framework.IntPtr.Zero);Microsoft.Xna.Framework.Input.MouseCursor.SizeNESW=new Microsoft.Xna.Framework.Input.MouseCursor(Microsoft.Xna.Framework.IntPtr.Zero);Microsoft.Xna.Framework.Input.MouseCursor.SizeWE=new Microsoft.Xna.Framework.Input.MouseCursor(Microsoft.Xna.Framework.IntPtr.Zero);Microsoft.Xna.Framework.Input.MouseCursor.SizeNS=new Microsoft.Xna.Framework.Input.MouseCursor(Microsoft.Xna.Framework.IntPtr.Zero);Microsoft.Xna.Framework.Input.MouseCursor.SizeAll=new Microsoft.Xna.Framework.Input.MouseCursor(Microsoft.Xna.Framework.IntPtr.Zero);Microsoft.Xna.Framework.Input.MouseCursor.No=new Microsoft.Xna.Framework.Input.MouseCursor(Microsoft.Xna.Framework.IntPtr.Zero);Microsoft.Xna.Framework.Input.MouseCursor.Hand=new Microsoft.Xna.Framework.Input.MouseCursor(Microsoft.Xna.Framework.IntPtr.Zero)},PlatformFromTexture2D:function(texture,originx,originy){return new Microsoft.Xna.Framework.Input.MouseCursor(Microsoft.Xna.Framework.IntPtr.Zero)}}},fields:{Handle:null,_disposed:!1},alias:["Dispose","System$IDisposable$Dispose"],ctors:{ctor:function(handle){this.$initialize();this.Handle=handle}},methods:{Dispose:function(){this._disposed||(this.PlatformDispose(),this._disposed=!0)},PlatformDispose:function(){}}});Bridge.define("Microsoft.Xna.Framework.Input.MouseState",{$kind:"struct",statics:{methods:{op_Equality:function(left,right){return left._x===right._x&&left._y===right._y&&left._leftButton===right._leftButton&&left._middleButton===right._middleButton&&left._rightButton===right._rightButton&&left._scrollWheelValue===right._scrollWheelValue&&left._horizontalScrollWheelValue===right._horizontalScrollWheelValue&&left._xButton1===right._xButton1&&left._xButton2===right._xButton2},op_Inequality:function(left,right){return!Microsoft.Xna.Framework.Input.MouseState.op_Equality(left.$clone(),right.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.Input.MouseState}}},fields:{_x:0,_y:0,_scrollWheelValue:0,_leftButton:0,_rightButton:0,_middleButton:0,_xButton1:0,_xButton2:0,_horizontalScrollWheelValue:0},props:{X:{get:function(){return this._x},set:function(value){this._x=value}},Y:{get:function(){return this._y},set:function(value){this._y=value}},Position:{get:function(){return new Microsoft.Xna.Framework.Point.$ctor2(this._x,this._y)}},LeftButton:{get:function(){return this._leftButton},set:function(value){this._leftButton=value}},MiddleButton:{get:function(){return this._middleButton},set:function(value){this._middleButton=value}},RightButton:{get:function(){return this._rightButton},set:function(value){this._rightButton=value}},ScrollWheelValue:{get:function(){return this._scrollWheelValue},set:function(value){this._scrollWheelValue=value}},HorizontalScrollWheelValue:{get:function(){return this._horizontalScrollWheelValue},set:function(value){this._horizontalScrollWheelValue=value}},XButton1:{get:function(){return this._xButton1},set:function(value){this._xButton1=value}},XButton2:{get:function(){return this._xButton2},set:function(value){this._xButton2=value}}},ctors:{$ctor1:function(x,y,scrollWheel,leftButton,middleButton,rightButton,xButton1,xButton2){this.$initialize();this._x=x;this._y=y;this._scrollWheelValue=scrollWheel;this._leftButton=leftButton;this._middleButton=middleButton;this._rightButton=rightButton;this._xButton1=xButton1;this._xButton2=xButton2;this._horizontalScrollWheelValue=0},$ctor2:function(x,y,scrollWheel,leftButton,middleButton,rightButton,xButton1,xButton2,horizontalScrollWheel){this.$initialize();this._x=x;this._y=y;this._scrollWheelValue=scrollWheel;this._leftButton=leftButton;this._middleButton=middleButton;this._rightButton=rightButton;this._xButton1=xButton1;this._xButton2=xButton2;this._horizontalScrollWheelValue=horizontalScrollWheel},ctor:function(){this.$initialize()}},methods:{equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Input.MouseState)?Microsoft.Xna.Framework.Input.MouseState.op_Equality(this,System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Input.MouseState),Microsoft.Xna.Framework.Input.MouseState))):!1},getHashCode:function(){var hashCode=this._x;return hashCode=Bridge.Int.mul(hashCode,397)^this._y,hashCode=Bridge.Int.mul(hashCode,397)^this._scrollWheelValue,hashCode=Bridge.Int.mul(hashCode,397)^this._horizontalScrollWheelValue,hashCode=Bridge.Int.mul(hashCode,397)^this._leftButton,hashCode=Bridge.Int.mul(hashCode,397)^this._rightButton,hashCode=Bridge.Int.mul(hashCode,397)^this._middleButton,hashCode=Bridge.Int.mul(hashCode,397)^this._xButton1,Bridge.Int.mul(hashCode,397)^this._xButton2},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Input.MouseState;return s._x=this._x,s._y=this._y,s._scrollWheelValue=this._scrollWheelValue,s._leftButton=this._leftButton,s._rightButton=this._rightButton,s._middleButton=this._middleButton,s._xButton1=this._xButton1,s._xButton2=this._xButton2,s._horizontalScrollWheelValue=this._horizontalScrollWheelValue,s}}});Bridge.define("Microsoft.Xna.Framework.Input.Touch.GestureSample",{$kind:"struct",statics:{methods:{getDefaultValue:function(){return new Microsoft.Xna.Framework.Input.Touch.GestureSample}}},fields:{_gestureType:0,_timestamp:null,_position:null,_position2:null,_delta:null,_delta2:null},props:{GestureType:{get:function(){return this._gestureType}},Timestamp:{get:function(){return this._timestamp}},Position:{get:function(){return this._position.$clone()}},Position2:{get:function(){return this._position2.$clone()}},Delta:{get:function(){return this._delta.$clone()}},Delta2:{get:function(){return this._delta2.$clone()}}},ctors:{init:function(){this._timestamp=new System.TimeSpan;this._position=new Microsoft.Xna.Framework.Vector2;this._position2=new Microsoft.Xna.Framework.Vector2;this._delta=new Microsoft.Xna.Framework.Vector2;this._delta2=new Microsoft.Xna.Framework.Vector2},$ctor1:function(gestureType,timestamp,position,position2,delta,delta2){this.$initialize();this._gestureType=gestureType;this._timestamp=timestamp;this._position=position.$clone();this._position2=position2.$clone();this._delta=delta.$clone();this._delta2=delta2.$clone()},ctor:function(){this.$initialize()}},methods:{getHashCode:function(){return Bridge.addHash([5172184450,this._gestureType,this._timestamp,this._position,this._position2,this._delta,this._delta2])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Input.Touch.GestureSample)?Bridge.equals(this._gestureType,o._gestureType)&&Bridge.equals(this._timestamp,o._timestamp)&&Bridge.equals(this._position,o._position)&&Bridge.equals(this._position2,o._position2)&&Bridge.equals(this._delta,o._delta)&&Bridge.equals(this._delta2,o._delta2):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Input.Touch.GestureSample;return s._gestureType=this._gestureType,s._timestamp=this._timestamp,s._position=this._position.$clone(),s._position2=this._position2.$clone(),s._delta=this._delta.$clone(),s._delta2=this._delta2.$clone(),s}}});Bridge.define("Microsoft.Xna.Framework.Input.Touch.GestureType",{$kind:"enum",statics:{fields:{None:0,Tap:1,DragComplete:2,Flick:4,FreeDrag:8,Hold:16,HorizontalDrag:32,Pinch:64,PinchComplete:128,DoubleTap:256,VerticalDrag:512}},$flags:!0});Bridge.define("Microsoft.Xna.Framework.Input.Touch.TouchLocation",{inherits:function(){return[System.IEquatable$1(Microsoft.Xna.Framework.Input.Touch.TouchLocation)]},$kind:"struct",statics:{fields:{Invalid:null},ctors:{init:function(){this.Invalid=new Microsoft.Xna.Framework.Input.Touch.TouchLocation}},methods:{op_Inequality:function(value1,value2){return value1._id!==value2._id||value1._state!==value2._state||Microsoft.Xna.Framework.Vector2.op_Inequality(value1._position.$clone(),value2._position.$clone())||value1._previousState!==value2._previousState||Microsoft.Xna.Framework.Vector2.op_Inequality(value1._previousPosition.$clone(),value2._previousPosition.$clone())},op_Equality:function(value1,value2){return value1._id===value2._id&&value1._state===value2._state&&Microsoft.Xna.Framework.Vector2.op_Equality(value1._position.$clone(),value2._position.$clone())&&value1._previousState===value2._previousState&&Microsoft.Xna.Framework.Vector2.op_Equality(value1._previousPosition.$clone(),value2._previousPosition.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.Input.Touch.TouchLocation}}},fields:{_id:0,_position:null,_previousPosition:null,_state:0,_previousState:0,_pressure:0,_previousPressure:0,_velocity:null,_pressPosition:null,_pressTimestamp:null,_timestamp:null,SameFrameReleased:!1},props:{PressPosition:{get:function(){return this._pressPosition.$clone()}},PressTimestamp:{get:function(){return this._pressTimestamp}},Timestamp:{get:function(){return this._timestamp}},Velocity:{get:function(){return this._velocity.$clone()}},Id:{get:function(){return this._id}},Position:{get:function(){return this._position.$clone()}},Pressure:{get:function(){return this._pressure}},State:{get:function(){return this._state}}},alias:["equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Input$Touch$TouchLocation$equalsT"],ctors:{init:function(){this._position=new Microsoft.Xna.Framework.Vector2;this._previousPosition=new Microsoft.Xna.Framework.Vector2;this._velocity=new Microsoft.Xna.Framework.Vector2;this._pressPosition=new Microsoft.Xna.Framework.Vector2;this._pressTimestamp=new System.TimeSpan;this._timestamp=new System.TimeSpan},$ctor1:function(id,state,position){Microsoft.Xna.Framework.Input.Touch.TouchLocation.$ctor2.call(this,id,state,position,Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Invalid,Microsoft.Xna.Framework.Vector2.Zero)},$ctor2:function(id,state,position,previousState,previousPosition){Microsoft.Xna.Framework.Input.Touch.TouchLocation.$ctor3.call(this,id,state,position,previousState,previousPosition,System.TimeSpan.zero)},$ctor4:function(id,state,position,timestamp){Microsoft.Xna.Framework.Input.Touch.TouchLocation.$ctor3.call(this,id,state,position,Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Invalid,Microsoft.Xna.Framework.Vector2.Zero,timestamp)},$ctor3:function(id,state,position,previousState,previousPosition,timestamp){this.$initialize();this._id=id;this._state=state;this._position=position.$clone();this._pressure=0;this._previousState=previousState;this._previousPosition=previousPosition.$clone();this._previousPressure=0;this._timestamp=timestamp;this._velocity=Microsoft.Xna.Framework.Vector2.Zero.$clone();state===Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Pressed?(this._pressPosition=this._position.$clone(),this._pressTimestamp=this._timestamp):(this._pressPosition=Microsoft.Xna.Framework.Vector2.Zero.$clone(),this._pressTimestamp=System.TimeSpan.zero);this.SameFrameReleased=!1},ctor:function(){this.$initialize()}},methods:{AsMovedState:function(){var touch=this;return touch._previousState=touch._state,touch._previousPosition=touch._position.$clone(),touch._previousPressure=touch._pressure,touch._state=Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Moved,touch.$clone()},UpdateState:function(touchEvent){var delta,elapsed,velocity;return this._previousPosition=this._position.$clone(),this._previousState=this._state,this._previousPressure=this._pressure,this._position=touchEvent._position.$clone(),touchEvent.State===Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Released&&(this._state=touchEvent._state),this._pressure=touchEvent._pressure,delta=Microsoft.Xna.Framework.Vector2.op_Subtraction(this._position.$clone(),this._previousPosition.$clone()),elapsed=System.TimeSpan.sub(touchEvent.Timestamp,this._timestamp),System.TimeSpan.gt(elapsed,System.TimeSpan.zero)&&(velocity=Microsoft.Xna.Framework.Vector2.op_Division$1(delta.$clone(),elapsed.getTotalSeconds()),this._velocity=Microsoft.Xna.Framework.Vector2.op_Addition(this._velocity.$clone(),Microsoft.Xna.Framework.Vector2.op_Multiply$1(Microsoft.Xna.Framework.Vector2.op_Subtraction(velocity.$clone(),this._velocity.$clone()),.45))),this._previousState===Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Pressed&&this._state===Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Released&&System.TimeSpan.eq(elapsed,System.TimeSpan.zero)&&(this.SameFrameReleased=!0,this._state=Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Pressed),this._timestamp=touchEvent.Timestamp,this._state!==this._previousState||delta.LengthSquared()>.001},equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Input.Touch.TouchLocation)?this.equalsT(System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Input.Touch.TouchLocation),Microsoft.Xna.Framework.Input.Touch.TouchLocation))):!1},equalsT:function(other){return this._id===other._id&&this._position.equalsT(other._position.$clone())&&this._previousPosition.equalsT(other._previousPosition.$clone())},getHashCode:function(){return this._id},toString:function(){return"Touch id:"+this._id+" state:"+System.Enum.toString(Microsoft.Xna.Framework.Input.Touch.TouchLocationState,this._state)+" position:"+this._position+" pressure:"+System.Single.format(this._pressure)+" prevState:"+System.Enum.toString(Microsoft.Xna.Framework.Input.Touch.TouchLocationState,this._previousState)+" prevPosition:"+this._previousPosition+" previousPressure:"+System.Single.format(this._previousPressure)},TryGetPreviousLocation:function(aPreviousLocation){return this._previousState===Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Invalid?(aPreviousLocation.v._id=-1,aPreviousLocation.v._state=Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Invalid,aPreviousLocation.v._position=Microsoft.Xna.Framework.Vector2.Zero.$clone(),aPreviousLocation.v._previousState=Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Invalid,aPreviousLocation.v._previousPosition=Microsoft.Xna.Framework.Vector2.Zero.$clone(),aPreviousLocation.v._pressure=0,aPreviousLocation.v._previousPressure=0,aPreviousLocation.v._timestamp=System.TimeSpan.zero,aPreviousLocation.v._pressPosition=Microsoft.Xna.Framework.Vector2.Zero.$clone(),aPreviousLocation.v._pressTimestamp=System.TimeSpan.zero,aPreviousLocation.v._velocity=Microsoft.Xna.Framework.Vector2.Zero.$clone(),aPreviousLocation.v.SameFrameReleased=!1,!1):(aPreviousLocation.v._id=this._id,aPreviousLocation.v._state=this._previousState,aPreviousLocation.v._position=this._previousPosition.$clone(),aPreviousLocation.v._previousState=Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Invalid,aPreviousLocation.v._previousPosition=Microsoft.Xna.Framework.Vector2.Zero.$clone(),aPreviousLocation.v._pressure=this._previousPressure,aPreviousLocation.v._previousPressure=0,aPreviousLocation.v._timestamp=this._timestamp,aPreviousLocation.v._pressPosition=this._pressPosition.$clone(),aPreviousLocation.v._pressTimestamp=this._pressTimestamp,aPreviousLocation.v._velocity=this._velocity.$clone(),aPreviousLocation.v.SameFrameReleased=this.SameFrameReleased,!0)},AgeState:function(){this._previousState=this._state;this._previousPosition=this._position.$clone();this._previousPressure=this._pressure;this._state=this.SameFrameReleased?Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Released:Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Moved},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Input.Touch.TouchLocation;return s._id=this._id,s._position=this._position.$clone(),s._previousPosition=this._previousPosition.$clone(),s._state=this._state,s._previousState=this._previousState,s._pressure=this._pressure,s._previousPressure=this._previousPressure,s._velocity=this._velocity.$clone(),s._pressPosition=this._pressPosition.$clone(),s._pressTimestamp=this._pressTimestamp,s._timestamp=this._timestamp,s.SameFrameReleased=this.SameFrameReleased,s}}});Bridge.define("Microsoft.Xna.Framework.Input.Touch.TouchLocationState",{$kind:"enum",statics:{fields:{Invalid:0,Moved:1,Pressed:2,Released:3}}});Bridge.define("Microsoft.Xna.Framework.Input.Touch.TouchPanel",{statics:{fields:{PrimaryWindow:null},props:{WindowHandle:{get:function(){return Microsoft.Xna.Framework.Input.Touch.TouchPanel.PrimaryWindow.TouchPanelState.WindowHandle},set:function(value){Microsoft.Xna.Framework.Input.Touch.TouchPanel.PrimaryWindow.TouchPanelState.WindowHandle=value}},DisplayHeight:{get:function(){return Microsoft.Xna.Framework.Input.Touch.TouchPanel.PrimaryWindow.TouchPanelState.DisplayHeight},set:function(value){Microsoft.Xna.Framework.Input.Touch.TouchPanel.PrimaryWindow.TouchPanelState.DisplayHeight=value}},DisplayOrientation:{get:function(){return Microsoft.Xna.Framework.Input.Touch.TouchPanel.PrimaryWindow.TouchPanelState.DisplayOrientation},set:function(value){Microsoft.Xna.Framework.Input.Touch.TouchPanel.PrimaryWindow.TouchPanelState.DisplayOrientation=value}},DisplayWidth:{get:function(){return Microsoft.Xna.Framework.Input.Touch.TouchPanel.PrimaryWindow.TouchPanelState.DisplayWidth},set:function(value){Microsoft.Xna.Framework.Input.Touch.TouchPanel.PrimaryWindow.TouchPanelState.DisplayWidth=value}},EnabledGestures:{get:function(){return Microsoft.Xna.Framework.Input.Touch.TouchPanel.PrimaryWindow.TouchPanelState.EnabledGestures},set:function(value){Microsoft.Xna.Framework.Input.Touch.TouchPanel.PrimaryWindow.TouchPanelState.EnabledGestures=value}},EnableMouseTouchPoint:{get:function(){return Microsoft.Xna.Framework.Input.Touch.TouchPanel.PrimaryWindow.TouchPanelState.EnableMouseTouchPoint},set:function(value){Microsoft.Xna.Framework.Input.Touch.TouchPanel.PrimaryWindow.TouchPanelState.EnableMouseTouchPoint=value}},EnableMouseGestures:{get:function(){return Microsoft.Xna.Framework.Input.Touch.TouchPanel.PrimaryWindow.TouchPanelState.EnableMouseGestures},set:function(value){Microsoft.Xna.Framework.Input.Touch.TouchPanel.PrimaryWindow.TouchPanelState.EnableMouseGestures=value}},IsGestureAvailable:{get:function(){return Microsoft.Xna.Framework.Input.Touch.TouchPanel.PrimaryWindow.TouchPanelState.IsGestureAvailable}}},methods:{GetState:function(){return Microsoft.Xna.Framework.Input.Touch.TouchPanel.PrimaryWindow.TouchPanelState.GetState()},GetState$1:function($window){return $window.TouchPanelState},GetCapabilities:function(){return Microsoft.Xna.Framework.Input.Touch.TouchPanel.PrimaryWindow.TouchPanelState.GetCapabilities()},AddEvent:function(id,state,position){Microsoft.Xna.Framework.Input.Touch.TouchPanel.AddEvent$1(id,state,position.$clone(),!1)},AddEvent$1:function(id,state,position,isMouse){Microsoft.Xna.Framework.Input.Touch.TouchPanel.PrimaryWindow.TouchPanelState.AddEvent$1(id,state,position.$clone(),isMouse)},ReadGesture:function(){return Microsoft.Xna.Framework.Input.Touch.TouchPanel.PrimaryWindow.TouchPanelState.GestureList.Dequeue()}}}});Bridge.define("Microsoft.Xna.Framework.Input.Touch.TouchPanelCapabilities",{$kind:"struct",statics:{methods:{getDefaultValue:function(){return new Microsoft.Xna.Framework.Input.Touch.TouchPanelCapabilities}}},fields:{hasPressure:!1,isConnected:!1,maximumTouchCount:0,initialized:!1},props:{HasPressure:{get:function(){return this.hasPressure}},IsConnected:{get:function(){return this.isConnected}},MaximumTouchCount:{get:function(){return this.maximumTouchCount}}},ctors:{ctor:function(){this.$initialize()}},methods:{Initialize:function(){this.initialized||(this.initialized=!0,this.hasPressure=!1,this.isConnected=!1)},getHashCode:function(){return Bridge.addHash([8689642082,this.hasPressure,this.isConnected,this.maximumTouchCount,this.initialized])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Input.Touch.TouchPanelCapabilities)?Bridge.equals(this.hasPressure,o.hasPressure)&&Bridge.equals(this.isConnected,o.isConnected)&&Bridge.equals(this.maximumTouchCount,o.maximumTouchCount)&&Bridge.equals(this.initialized,o.initialized):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Input.Touch.TouchPanelCapabilities;return s.hasPressure=this.hasPressure,s.isConnected=this.isConnected,s.maximumTouchCount=this.maximumTouchCount,s.initialized=this.initialized,s}}});Bridge.define("Microsoft.Xna.Framework.Input.Touch.TouchPanelState",{statics:{fields:{MouseTouchId:0,CurrentTimestamp:null,TapJitterTolerance:0,TimeRequiredForHold:null},ctors:{init:function(){this.CurrentTimestamp=new System.TimeSpan;this.TimeRequiredForHold=new System.TimeSpan;this.MouseTouchId=1;this.TapJitterTolerance=35;this.TimeRequiredForHold=System.TimeSpan.fromMilliseconds(1024)}}},fields:{_touchState:null,_gestureState:null,_touchScale:null,_displaySize:null,_nextTouchId:0,_touchIds:null,GestureList:null,Capabilities:null,Window:null,WindowHandle:null,DisplayOrientation:0,EnabledGestures:0,EnableMouseTouchPoint:!1,EnableMouseGestures:!1,_pinchTouch:null,_pinchGestureStarted:!1,_tapDisabled:!1,_holdDisabled:!1,_lastTap:null,_dragGestureStarted:0},props:{DisplayHeight:{get:function(){return this._displaySize.Y},set:function(value){this._displaySize.Y=value;this.UpdateTouchScale()}},DisplayWidth:{get:function(){return this._displaySize.X},set:function(value){this._displaySize.X=value;this.UpdateTouchScale()}},IsGestureAvailable:{get:function(){return this.UpdateGestures(!1),this.GestureList.Count>0}}},ctors:{init:function(){this._touchScale=new Microsoft.Xna.Framework.Vector2;this._displaySize=new Microsoft.Xna.Framework.Point;this.Capabilities=new Microsoft.Xna.Framework.Input.Touch.TouchPanelCapabilities;this._lastTap=new Microsoft.Xna.Framework.Input.Touch.TouchLocation;this._touchState=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Input.Touch.TouchLocation).ctor);this._gestureState=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Input.Touch.TouchLocation).ctor);this._touchScale=Microsoft.Xna.Framework.Vector2.One.$clone();this._displaySize=Microsoft.Xna.Framework.Point.Zero.$clone();this._nextTouchId=2;this._touchIds=new(System.Collections.Generic.Dictionary$2(System.Int32,System.Int32));this.GestureList=new(System.Collections.Generic.Queue$1(Microsoft.Xna.Framework.Input.Touch.GestureSample).ctor);this._pinchTouch=System.Array.init(2,function(){return new Microsoft.Xna.Framework.Input.Touch.TouchLocation},Microsoft.Xna.Framework.Input.Touch.TouchLocation);this._dragGestureStarted=Microsoft.Xna.Framework.Input.Touch.GestureType.None},ctor:function($window){this.$initialize();this.Window=$window}},methods:{GetCapabilities:function(){return this.Capabilities.Initialize(),this.Capabilities.$clone()},AgeTouches:function(state){for(var touch,i=state.Count-1|0;i>=0;i=i-1|0)touch=state.getItem(i).$clone(),touch.State===Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Released?state.removeAt(i):touch.State===Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Pressed&&(touch.AgeState(),state.setItem(i,touch.$clone()))},ApplyTouch:function(state,touch){var i,existingTouch;if(touch.State===Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Pressed){state.add(touch.$clone());return}for(i=0;i<state.Count;i=i+1|0)if(existingTouch=state.getItem(i).$clone(),existingTouch.Id===touch.Id){existingTouch.State===Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Pressed&&touch.State===Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Released&&System.TimeSpan.neq(existingTouch.PressTimestamp,touch.Timestamp)?state.removeAt(i):(existingTouch.UpdateState(touch.$clone()),state.setItem(i,existingTouch.$clone()));break}},GetState:function(){for(var touch,result,i=this._touchState.Count-1|0;i>=0;i=i-1|0)touch=this._touchState.getItem(i).$clone(),touch.SameFrameReleased&&System.TimeSpan.lt(touch.Timestamp,Microsoft.Xna.Framework.Input.Touch.TouchPanelState.CurrentTimestamp)&&touch.State===Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Pressed&&this._touchState.removeAt(i);return result=this._touchState.Count>0?new Microsoft.Xna.Framework.Input.Touch.TouchCollection.$ctor1(this._touchState.ToArray()):Microsoft.Xna.Framework.Input.Touch.TouchCollection.Empty,this.AgeTouches(this._touchState),result},AddEvent:function(id,state,position){this.AddEvent$1(id,state,position.$clone(),!1)},AddEvent$1:function(id,state,position,isMouse){var touchId,evt;(state===Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Pressed&&(isMouse?this._touchIds.set(id,Microsoft.Xna.Framework.Input.Touch.TouchPanelState.MouseTouchId):this._touchIds.set(id,Bridge.identity(this._nextTouchId,this._nextTouchId=this._nextTouchId+1|0))),touchId={},this._touchIds.tryGetValue(id,touchId))&&((!isMouse||this.EnableMouseTouchPoint||this.EnableMouseGestures)&&(evt=new Microsoft.Xna.Framework.Input.Touch.TouchLocation.$ctor4(touchId.v,state,Microsoft.Xna.Framework.Vector2.op_Multiply(position.$clone(),this._touchScale.$clone()),Microsoft.Xna.Framework.Input.Touch.TouchPanelState.CurrentTimestamp),(!isMouse||this.EnableMouseTouchPoint)&&this.ApplyTouch(this._touchState,evt.$clone()),(this.EnabledGestures!==Microsoft.Xna.Framework.Input.Touch.GestureType.None||this._gestureState.Count>0)&&(!isMouse||this.EnableMouseGestures)&&(this.ApplyTouch(this._gestureState,evt.$clone()),this.EnabledGestures!==Microsoft.Xna.Framework.Input.Touch.GestureType.None&&this.UpdateGestures(!0),this.AgeTouches(this._gestureState))),state===Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Released&&this._touchIds.remove(id))},UpdateTouchScale:function(){var windowSize=new Microsoft.Xna.Framework.Vector2.$ctor2(this.Window.ClientBounds.Width,this.Window.ClientBounds.Height);this._touchScale=new Microsoft.Xna.Framework.Vector2.$ctor2(this._displaySize.X/windowSize.X,this._displaySize.Y/windowSize.Y)},ReleaseAllTouches:function(){var $t,$t1,mostToRemove=Math.max(this._touchState.Count,this._gestureState.Count),temp,touch,touch1;if(mostToRemove>0){temp=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Input.Touch.TouchLocation).$ctor2)(mostToRemove);temp.AddRange(this._touchState);$t=Bridge.getEnumerator(temp);try{while($t.moveNext())touch=$t.Current.$clone(),touch.State!==Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Released&&this.ApplyTouch(this._touchState,new Microsoft.Xna.Framework.Input.Touch.TouchLocation.$ctor4(touch.Id,Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Released,touch.Position.$clone(),Microsoft.Xna.Framework.Input.Touch.TouchPanelState.CurrentTimestamp))}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}temp.clear();temp.AddRange(this._gestureState);$t1=Bridge.getEnumerator(temp);try{while($t1.moveNext())touch1=$t1.Current.$clone(),touch1.State!==Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Released&&this.ApplyTouch(this._gestureState,new Microsoft.Xna.Framework.Input.Touch.TouchLocation.$ctor4(touch1.Id,Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Released,touch1.Position.$clone(),Microsoft.Xna.Framework.Input.Touch.TouchPanelState.CurrentTimestamp))}finally{Bridge.is($t1,System.IDisposable)&&$t1.System$IDisposable$Dispose()}}this._touchIds.clear()},ReadGesture:function(){return this.GestureList.Dequeue()},GestureIsEnabled:function(gestureType){return(this.EnabledGestures&gestureType)!=0},UpdateGestures:function(stateChanged){var $t,$t1,heldLocations=0,touch,touch1,dist,dist1;$t=Bridge.getEnumerator(this._gestureState);try{while($t.moveNext())touch=$t.Current.$clone(),heldLocations=heldLocations+(touch.State!==Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Released?1:0)|0}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}heldLocations>1&&(this._tapDisabled=!0,this._holdDisabled=!0);$t1=Bridge.getEnumerator(this._gestureState);try{while($t1.moveNext()){touch1=$t1.Current.$clone();switch(touch1.State){case Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Pressed:case Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Moved:if(touch1.State===Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Pressed&&this.ProcessDoubleTap(touch1.$clone()))break;if(this.GestureIsEnabled(Microsoft.Xna.Framework.Input.Touch.GestureType.Pinch)&&heldLocations>1){this._pinchTouch[System.Array.index(0,this._pinchTouch)].State===Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Invalid||this._pinchTouch[System.Array.index(0,this._pinchTouch)].Id===touch1.Id?this._pinchTouch[System.Array.index(0,this._pinchTouch)]=touch1.$clone():(this._pinchTouch[System.Array.index(1,this._pinchTouch)].State===Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Invalid||this._pinchTouch[System.Array.index(1,this._pinchTouch)].Id===touch1.Id)&&(this._pinchTouch[System.Array.index(1,this._pinchTouch)]=touch1.$clone());break}if(dist=Microsoft.Xna.Framework.Vector2.Distance(touch1.Position.$clone(),touch1.PressPosition.$clone()),this._dragGestureStarted===Microsoft.Xna.Framework.Input.Touch.GestureType.None&&dist<Microsoft.Xna.Framework.Input.Touch.TouchPanelState.TapJitterTolerance){this.ProcessHold(touch1.$clone());break}stateChanged&&this.ProcessDrag(touch1.$clone());break;case Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Released:if(!stateChanged)break;if(this._pinchGestureStarted&&(touch1.Id===this._pinchTouch[System.Array.index(0,this._pinchTouch)].Id||touch1.Id===this._pinchTouch[System.Array.index(1,this._pinchTouch)].Id)){this.GestureIsEnabled(Microsoft.Xna.Framework.Input.Touch.GestureType.PinchComplete)&&this.GestureList.Enqueue(new Microsoft.Xna.Framework.Input.Touch.GestureSample.$ctor1(Microsoft.Xna.Framework.Input.Touch.GestureType.PinchComplete,touch1.Timestamp,Microsoft.Xna.Framework.Vector2.Zero.$clone(),Microsoft.Xna.Framework.Vector2.Zero.$clone(),Microsoft.Xna.Framework.Vector2.Zero.$clone(),Microsoft.Xna.Framework.Vector2.Zero.$clone()));this._pinchGestureStarted=!1;this._pinchTouch[System.Array.index(0,this._pinchTouch)]=Microsoft.Xna.Framework.Input.Touch.TouchLocation.Invalid.$clone();this._pinchTouch[System.Array.index(1,this._pinchTouch)]=Microsoft.Xna.Framework.Input.Touch.TouchLocation.Invalid.$clone();break}if(heldLocations!==0)break;if(dist1=Microsoft.Xna.Framework.Vector2.Distance(touch1.Position.$clone(),touch1.PressPosition.$clone()),dist1>Microsoft.Xna.Framework.Input.Touch.TouchPanelState.TapJitterTolerance&&touch1.Velocity.Length()>100&&this.GestureIsEnabled(Microsoft.Xna.Framework.Input.Touch.GestureType.Flick)&&this.GestureList.Enqueue(new Microsoft.Xna.Framework.Input.Touch.GestureSample.$ctor1(Microsoft.Xna.Framework.Input.Touch.GestureType.Flick,touch1.Timestamp,Microsoft.Xna.Framework.Vector2.Zero.$clone(),Microsoft.Xna.Framework.Vector2.Zero.$clone(),touch1.Velocity.$clone(),Microsoft.Xna.Framework.Vector2.Zero.$clone())),this._dragGestureStarted!==Microsoft.Xna.Framework.Input.Touch.GestureType.None){this.GestureIsEnabled(Microsoft.Xna.Framework.Input.Touch.GestureType.DragComplete)&&this.GestureList.Enqueue(new Microsoft.Xna.Framework.Input.Touch.GestureSample.$ctor1(Microsoft.Xna.Framework.Input.Touch.GestureType.DragComplete,touch1.Timestamp,Microsoft.Xna.Framework.Vector2.Zero.$clone(),Microsoft.Xna.Framework.Vector2.Zero.$clone(),Microsoft.Xna.Framework.Vector2.Zero.$clone(),Microsoft.Xna.Framework.Vector2.Zero.$clone()));this._dragGestureStarted=Microsoft.Xna.Framework.Input.Touch.GestureType.None;break}this.ProcessTap(touch1.$clone());break}}}finally{Bridge.is($t1,System.IDisposable)&&$t1.System$IDisposable$Dispose()}stateChanged&&(this.GestureIsEnabled(Microsoft.Xna.Framework.Input.Touch.GestureType.Pinch)&&this._pinchTouch[System.Array.index(0,this._pinchTouch)].State!==Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Invalid&&this._pinchTouch[System.Array.index(1,this._pinchTouch)].State!==Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Invalid?this.ProcessPinch(this._pinchTouch):(this._pinchGestureStarted=!1,this._pinchTouch[System.Array.index(0,this._pinchTouch)]=Microsoft.Xna.Framework.Input.Touch.TouchLocation.Invalid.$clone(),this._pinchTouch[System.Array.index(1,this._pinchTouch)]=Microsoft.Xna.Framework.Input.Touch.TouchLocation.Invalid.$clone()),heldLocations===0&&(this._tapDisabled=!1,this._holdDisabled=!1,this._dragGestureStarted=Microsoft.Xna.Framework.Input.Touch.GestureType.None))},ProcessHold:function(touch){if(this.GestureIsEnabled(Microsoft.Xna.Framework.Input.Touch.GestureType.Hold)&&!this._holdDisabled){var elapsed=System.TimeSpan.sub(Microsoft.Xna.Framework.Input.Touch.TouchPanelState.CurrentTimestamp,touch.PressTimestamp);System.TimeSpan.lt(elapsed,Microsoft.Xna.Framework.Input.Touch.TouchPanelState.TimeRequiredForHold)||(this._holdDisabled=!0,this.GestureList.Enqueue(new Microsoft.Xna.Framework.Input.Touch.GestureSample.$ctor1(Microsoft.Xna.Framework.Input.Touch.GestureType.Hold,touch.Timestamp,touch.Position.$clone(),Microsoft.Xna.Framework.Vector2.Zero.$clone(),Microsoft.Xna.Framework.Vector2.Zero.$clone(),Microsoft.Xna.Framework.Vector2.Zero.$clone())))}},ProcessDoubleTap:function(touch){var dist,elapsed;return!this.GestureIsEnabled(Microsoft.Xna.Framework.Input.Touch.GestureType.DoubleTap)||this._tapDisabled||this._lastTap.State===Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Invalid?!1:(dist=Microsoft.Xna.Framework.Vector2.Distance(touch.Position.$clone(),this._lastTap.Position.$clone()),dist>Microsoft.Xna.Framework.Input.Touch.TouchPanelState.TapJitterTolerance)?!1:(elapsed=System.TimeSpan.sub(touch.Timestamp,this._lastTap.Timestamp),elapsed.getTotalMilliseconds()>300)?!1:(this.GestureList.Enqueue(new Microsoft.Xna.Framework.Input.Touch.GestureSample.$ctor1(Microsoft.Xna.Framework.Input.Touch.GestureType.DoubleTap,touch.Timestamp,touch.Position.$clone(),Microsoft.Xna.Framework.Vector2.Zero.$clone(),Microsoft.Xna.Framework.Vector2.Zero.$clone(),Microsoft.Xna.Framework.Vector2.Zero.$clone())),this._tapDisabled=!0,!0)},ProcessTap:function(touch){var dist,elapsed,tap;this._tapDisabled||(dist=Microsoft.Xna.Framework.Vector2.Distance(touch.PressPosition.$clone(),touch.Position.$clone()),dist>Microsoft.Xna.Framework.Input.Touch.TouchPanelState.TapJitterTolerance)||(elapsed=System.TimeSpan.sub(Microsoft.Xna.Framework.Input.Touch.TouchPanelState.CurrentTimestamp,touch.PressTimestamp),System.TimeSpan.gt(elapsed,Microsoft.Xna.Framework.Input.Touch.TouchPanelState.TimeRequiredForHold))||(this._lastTap=touch.$clone(),this.GestureIsEnabled(Microsoft.Xna.Framework.Input.Touch.GestureType.Tap)&&(tap=new Microsoft.Xna.Framework.Input.Touch.GestureSample.$ctor1(Microsoft.Xna.Framework.Input.Touch.GestureType.Tap,touch.Timestamp,touch.Position.$clone(),Microsoft.Xna.Framework.Vector2.Zero.$clone(),Microsoft.Xna.Framework.Vector2.Zero.$clone(),Microsoft.Xna.Framework.Vector2.Zero.$clone()),this.GestureList.Enqueue(tap.$clone())))},ProcessDrag:function(touch){var dragH=this.GestureIsEnabled(Microsoft.Xna.Framework.Input.Touch.GestureType.HorizontalDrag),dragV=this.GestureIsEnabled(Microsoft.Xna.Framework.Input.Touch.GestureType.VerticalDrag),dragF=this.GestureIsEnabled(Microsoft.Xna.Framework.Input.Touch.GestureType.FreeDrag),prevTouch,delta;if((dragH||dragV||dragF)&&(prevTouch={v:new Microsoft.Xna.Framework.Input.Touch.TouchLocation},touch.State===Microsoft.Xna.Framework.Input.Touch.TouchLocationState.Moved&&touch.TryGetPreviousLocation(prevTouch))){if(delta=Microsoft.Xna.Framework.Vector2.op_Subtraction(touch.Position.$clone(),prevTouch.v.Position.$clone()),this._dragGestureStarted!==Microsoft.Xna.Framework.Input.Touch.GestureType.FreeDrag){var isHorizontalDelta=Math.abs(delta.X)>Math.abs(delta.Y*2),isVerticalDelta=Math.abs(delta.Y)>Math.abs(delta.X*2),classify=this._dragGestureStarted===Microsoft.Xna.Framework.Input.Touch.GestureType.None;dragH&&(classify&&isHorizontalDelta||this._dragGestureStarted===Microsoft.Xna.Framework.Input.Touch.GestureType.HorizontalDrag)?(delta.Y=0,this._dragGestureStarted=Microsoft.Xna.Framework.Input.Touch.GestureType.HorizontalDrag):dragV&&(classify&&isVerticalDelta||this._dragGestureStarted===Microsoft.Xna.Framework.Input.Touch.GestureType.VerticalDrag)?(delta.X=0,this._dragGestureStarted=Microsoft.Xna.Framework.Input.Touch.GestureType.VerticalDrag):this._dragGestureStarted=dragF&&classify?Microsoft.Xna.Framework.Input.Touch.GestureType.FreeDrag:Microsoft.Xna.Framework.Input.Touch.GestureType.DragComplete}this._dragGestureStarted!==Microsoft.Xna.Framework.Input.Touch.GestureType.None&&this._dragGestureStarted!==Microsoft.Xna.Framework.Input.Touch.GestureType.DragComplete&&(this._tapDisabled=!0,this._holdDisabled=!0,this.GestureList.Enqueue(new Microsoft.Xna.Framework.Input.Touch.GestureSample.$ctor1(this._dragGestureStarted,touch.Timestamp,touch.Position.$clone(),Microsoft.Xna.Framework.Vector2.Zero.$clone(),delta.$clone(),Microsoft.Xna.Framework.Vector2.Zero.$clone())))}},ProcessPinch:function(touches){var prevPos0={v:new Microsoft.Xna.Framework.Input.Touch.TouchLocation},prevPos1={v:new Microsoft.Xna.Framework.Input.Touch.TouchLocation};touches[System.Array.index(0,touches)].TryGetPreviousLocation(prevPos0)||(prevPos0.v=touches[System.Array.index(0,touches)].$clone());touches[System.Array.index(1,touches)].TryGetPreviousLocation(prevPos1)||(prevPos1.v=touches[System.Array.index(1,touches)].$clone());var delta0=Microsoft.Xna.Framework.Vector2.op_Subtraction(touches[System.Array.index(0,touches)].Position.$clone(),prevPos0.v.Position.$clone()),delta1=Microsoft.Xna.Framework.Vector2.op_Subtraction(touches[System.Array.index(1,touches)].Position.$clone(),prevPos1.v.Position.$clone()),timestamp=System.TimeSpan.gt(touches[System.Array.index(0,touches)].Timestamp,touches[System.Array.index(1,touches)].Timestamp)?touches[System.Array.index(0,touches)].Timestamp:touches[System.Array.index(1,touches)].Timestamp;this._dragGestureStarted!==Microsoft.Xna.Framework.Input.Touch.GestureType.None&&(this.GestureIsEnabled(Microsoft.Xna.Framework.Input.Touch.GestureType.DragComplete)&&this.GestureList.Enqueue(new Microsoft.Xna.Framework.Input.Touch.GestureSample.$ctor1(Microsoft.Xna.Framework.Input.Touch.GestureType.DragComplete,timestamp,Microsoft.Xna.Framework.Vector2.Zero.$clone(),Microsoft.Xna.Framework.Vector2.Zero.$clone(),Microsoft.Xna.Framework.Vector2.Zero.$clone(),Microsoft.Xna.Framework.Vector2.Zero.$clone())),this._dragGestureStarted=Microsoft.Xna.Framework.Input.Touch.GestureType.None);this.GestureList.Enqueue(new Microsoft.Xna.Framework.Input.Touch.GestureSample.$ctor1(Microsoft.Xna.Framework.Input.Touch.GestureType.Pinch,timestamp,touches[System.Array.index(0,touches)].Position.$clone(),touches[System.Array.index(1,touches)].Position.$clone(),delta0.$clone(),delta1.$clone()));this._pinchGestureStarted=!0;this._tapDisabled=!0;this._holdDisabled=!0}}});Bridge.define("Microsoft.Xna.Framework.Input.Touch.TouchQueue",{fields:{_queue:null},ctors:{init:function(){this._queue=new(System.Collections.Concurrent.ConcurrentQueue$1(Microsoft.Xna.Framework.Input.Touch.TouchQueue.TouchEvent))}},methods:{Enqueue:function(id,state,pos,isMouse){isMouse===void 0&&(isMouse=!1);this._queue.Enqueue(new Microsoft.Xna.Framework.Input.Touch.TouchQueue.TouchEvent.$ctor1(id,state,pos.$clone(),isMouse))},ProcessQueued:function(){for(var ev={v:new Microsoft.Xna.Framework.Input.Touch.TouchQueue.TouchEvent};this._queue.TryDequeue(ev);)Microsoft.Xna.Framework.Input.Touch.TouchPanel.AddEvent$1(ev.v.Id,ev.v.State,ev.v.Pos.$clone(),ev.v.IsMouse)}}});Bridge.define("Microsoft.Xna.Framework.Input.Touch.TouchQueue.TouchEvent",{$kind:"nested struct",statics:{methods:{getDefaultValue:function(){return new Microsoft.Xna.Framework.Input.Touch.TouchQueue.TouchEvent}}},fields:{Id:0,State:0,Pos:null,IsMouse:!1},ctors:{init:function(){this.Pos=new Microsoft.Xna.Framework.Vector2},$ctor1:function(id,state,pos,isMouse){this.$initialize();this.Id=id;this.State=state;this.Pos=pos.$clone();this.IsMouse=isMouse},ctor:function(){this.$initialize()}},methods:{getHashCode:function(){return Bridge.addHash([3370920234,this.Id,this.State,this.Pos,this.IsMouse])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Input.Touch.TouchQueue.TouchEvent)?Bridge.equals(this.Id,o.Id)&&Bridge.equals(this.State,o.State)&&Bridge.equals(this.Pos,o.Pos)&&Bridge.equals(this.IsMouse,o.IsMouse):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Input.Touch.TouchQueue.TouchEvent;return s.Id=this.Id,s.State=this.State,s.Pos=this.Pos.$clone(),s.IsMouse=this.IsMouse,s}}});Bridge.define("Microsoft.Xna.Framework.Interlocked",{statics:{methods:{Increment:function(val){return val.v=val.v+1|0,val.v}}}});Bridge.define("Microsoft.Xna.Framework.IntPtr",{statics:{fields:{Zero:null}}});Bridge.define("Microsoft.Xna.Framework.IPlatformBackButton",{$kind:"interface"});Bridge.define("Microsoft.Xna.Framework.MathHelper",{statics:{fields:{E:0,Log10E:0,Log2E:0,Pi:0,PiOver2:0,PiOver4:0,TwoPi:0},ctors:{init:function(){this.E=2.71828175;this.Log10E=.4342945;this.Log2E=1.442695;this.Pi=3.14159274;this.PiOver2=1.57079637;this.PiOver4=.7853982;this.TwoPi=6.28318548}},methods:{Barycentric:function(value1,value2,value3,amount1,amount2){return value1+(value2-value1)*amount1+(value3-value1)*amount2},CatmullRom:function(value1,value2,value3,value4,amount){var amountSquared=amount*amount,amountCubed=amountSquared*amount;return.5*(2*value2+(value3-value1)*amount+(2*value1-5*value2+4*value3-value4)*amountSquared+(3*value2-value1-3*value3+value4)*amountCubed)},Clamp$1:function(value,min,max){return value=value>max?max:value,value<min?min:value},Clamp:function(value,min,max){return value=value>max?max:value,value<min?min:value},Distance:function(value1,value2){return Math.abs(value1-value2)},Hermite:function(value1,tangent1,value2,tangent2,amount){var v1=value1,v2=value2,t1=tangent1,t2=tangent2,s=amount,sCubed=s*s*s,sSquared=s*s;return amount===0?value1:amount===1?value2:(2*v1-2*v2+t2+t1)*sCubed+(3*v2-3*v1-2*t1-t2)*sSquared+t1*s+v1},Lerp:function(value1,value2,amount){return value1+(value2-value1)*amount},LerpPrecise:function(value1,value2,amount){return(1-amount)*value1+value2*amount},Max$1:function(value1,value2){return value1>value2?value1:value2},Max:function(value1,value2){return value1>value2?value1:value2},Min$1:function(value1,value2){return value1<value2?value1:value2},Min:function(value1,value2){return value1<value2?value1:value2},SmoothStep:function(value1,value2,amount){var result=Microsoft.Xna.Framework.MathHelper.Clamp$1(amount,0,1);return Microsoft.Xna.Framework.MathHelper.Hermite(value1,0,value2,0,result)},ToDegrees:function(radians){return radians*57.295779513082323},ToRadians:function(degrees){return degrees*.017453292519943295},WrapAngle:function(angle){return angle>-3.14159274&&angle<=Microsoft.Xna.Framework.MathHelper.Pi?angle:(angle%=Microsoft.Xna.Framework.MathHelper.TwoPi,angle<=-3.14159274)?angle+Microsoft.Xna.Framework.MathHelper.TwoPi:angle>Microsoft.Xna.Framework.MathHelper.Pi?angle-Microsoft.Xna.Framework.MathHelper.TwoPi:angle},IsPowerOfTwo:function(value){return value>0&&(value&(value-1|0))==0}}}});Bridge.define("Microsoft.Xna.Framework.Media.Album",{inherits:[System.IDisposable],fields:{artist:null,genre:null,album:null,songCollection:null},props:{Artist:{get:function(){return this.artist}},Duration:{get:function(){return System.TimeSpan.zero}},Genre:{get:function(){return this.genre}},HasArt:{get:function(){return!1}},IsDisposed:{get:function(){return!1}},Name:{get:function(){return this.album}},Songs:{get:function(){return this.songCollection}}},alias:["Dispose","System$IDisposable$Dispose"],ctors:{ctor:function(songCollection,name,artist,genre){this.$initialize();this.songCollection=songCollection;this.album=name;this.artist=artist;this.genre=genre}},methods:{Dispose:function(){},GetAlbumArt:function(){throw new System.NotImplementedException.ctor;},GetThumbnail:function(){throw new System.NotImplementedException.ctor;},toString:function(){return Bridge.toString(this.album)},getHashCode:function(){return Bridge.getHashCode(this.album)}}});Bridge.define("Microsoft.Xna.Framework.Media.AlbumCollection",{inherits:[System.IDisposable],fields:{albumCollection:null},props:{Count:{get:function(){return this.albumCollection.Count}},IsDisposed:{get:function(){return!1}}},alias:["Dispose","System$IDisposable$Dispose"],ctors:{ctor:function(albums){this.$initialize();this.albumCollection=albums}},methods:{getItem:function(index){return this.albumCollection.getItem(index)},Dispose:function(){var $t,album;$t=Bridge.getEnumerator(this.albumCollection);try{while($t.moveNext())album=$t.Current,album.Dispose()}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}}});Bridge.define("Microsoft.Xna.Framework.Media.Artist",{inherits:[System.IDisposable],fields:{artist:null},props:{Albums:{get:function(){throw new System.NotImplementedException.ctor;}},IsDisposed:{get:function(){return!0}},Name:{get:function(){return this.artist}},Songs:{get:function(){throw new System.NotImplementedException.ctor;}}},alias:["Dispose","System$IDisposable$Dispose"],ctors:{ctor:function(artist){this.$initialize();this.artist=artist}},methods:{Dispose:function(){},toString:function(){return Bridge.toString(this.artist)},getHashCode:function(){return Bridge.getHashCode(this.artist)}}});Bridge.define("Microsoft.Xna.Framework.Media.Genre",{inherits:[System.IDisposable],fields:{genre:null},props:{Albums:{get:function(){throw new System.NotImplementedException.ctor;}},IsDisposed:{get:function(){return!0}},Name:{get:function(){return this.genre}},Songs:{get:function(){throw new System.NotImplementedException.ctor;}}},alias:["Dispose","System$IDisposable$Dispose"],ctors:{ctor:function(genre){this.$initialize();this.genre=genre}},methods:{Dispose:function(){},toString:function(){return this.genre},getHashCode:function(){return Bridge.getHashCode(this.genre)}}});Bridge.define("Microsoft.Xna.Framework.Media.MediaPlayer",{statics:{fields:{_numSongsInQueuePlayed:0,_state:0,_volume:0,_isMuted:!1,_isRepeating:!1,_isShuffled:!1,_queue:null},events:{ActiveSongChanged:null,MediaStateChanged:null},props:{Queue:{get:function(){return Microsoft.Xna.Framework.Media.MediaPlayer._queue}},IsMuted:{get:function(){return Microsoft.Xna.Framework.Media.MediaPlayer.PlatformGetIsMuted()},set:function(value){Microsoft.Xna.Framework.Media.MediaPlayer.PlatformSetIsMuted(value)}},IsRepeating:{get:function(){return Microsoft.Xna.Framework.Media.MediaPlayer.PlatformGetIsRepeating()},set:function(value){Microsoft.Xna.Framework.Media.MediaPlayer.PlatformSetIsRepeating(value)}},IsShuffled:{get:function(){return Microsoft.Xna.Framework.Media.MediaPlayer.PlatformGetIsShuffled()},set:function(value){Microsoft.Xna.Framework.Media.MediaPlayer.PlatformSetIsShuffled(value)}},IsVisualizationEnabled:{get:function(){return!1}},PlayPosition:{get:function(){return Microsoft.Xna.Framework.Media.MediaPlayer.PlatformGetPlayPosition()}},State:{get:function(){return Microsoft.Xna.Framework.Media.MediaPlayer.PlatformGetState()},set:function(value){Microsoft.Xna.Framework.Media.MediaPlayer._state!==value&&(Microsoft.Xna.Framework.Media.MediaPlayer._state=value,Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,null,Microsoft.Xna.Framework.Media.MediaPlayer.MediaStateChanged,{}))}},GameHasControl:{get:function(){return Microsoft.Xna.Framework.Media.MediaPlayer.PlatformGetGameHasControl()}},Volume:{get:function(){return Microsoft.Xna.Framework.Media.MediaPlayer.PlatformGetVolume()},set:function(value){var volume=Microsoft.Xna.Framework.MathHelper.Clamp$1(value,0,1);Microsoft.Xna.Framework.Media.MediaPlayer.PlatformSetVolume(volume)}}},ctors:{init:function(){this._numSongsInQueuePlayed=0;this._state=Microsoft.Xna.Framework.Media.MediaState.Stopped;this._volume=1;this._queue=new Microsoft.Xna.Framework.Media.MediaQueue},ctor:function(){Microsoft.Xna.Framework.Media.MediaPlayer.PlatformInitialize()}},methods:{Pause:function(){Microsoft.Xna.Framework.Media.MediaPlayer.State!==Microsoft.Xna.Framework.Media.MediaState.Playing||Microsoft.Xna.Framework.Media.Song.op_Equality(Microsoft.Xna.Framework.Media.MediaPlayer._queue.ActiveSong,null)||(Microsoft.Xna.Framework.Media.MediaPlayer.PlatformPause(),Microsoft.Xna.Framework.Media.MediaPlayer.State=Microsoft.Xna.Framework.Media.MediaState.Paused)},Play:function(song){Microsoft.Xna.Framework.Media.MediaPlayer.Play$1(song,null)},Play$1:function(song,startPosition){var previousSong=Microsoft.Xna.Framework.Media.MediaPlayer._queue.Count>0?Microsoft.Xna.Framework.Media.MediaPlayer._queue.getItem(0):null;Microsoft.Xna.Framework.Media.MediaPlayer._queue.Clear();Microsoft.Xna.Framework.Media.MediaPlayer._numSongsInQueuePlayed=0;Microsoft.Xna.Framework.Media.MediaPlayer._queue.Add(song);Microsoft.Xna.Framework.Media.MediaPlayer._queue.ActiveSongIndex=0;Microsoft.Xna.Framework.Media.MediaPlayer.PlaySong(song,startPosition);Microsoft.Xna.Framework.Media.Song.op_Inequality(previousSong,song)&&Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,null,Microsoft.Xna.Framework.Media.MediaPlayer.ActiveSongChanged,{})},Play$2:function(collection,index){var $t,song;index===void 0&&(index=0);Microsoft.Xna.Framework.Media.MediaPlayer._queue.Clear();Microsoft.Xna.Framework.Media.MediaPlayer._numSongsInQueuePlayed=0;$t=Bridge.getEnumerator(collection);try{while($t.moveNext())song=$t.Current,Microsoft.Xna.Framework.Media.MediaPlayer._queue.Add(song)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}Microsoft.Xna.Framework.Media.MediaPlayer._queue.ActiveSongIndex=index;Microsoft.Xna.Framework.Media.MediaPlayer.PlaySong(Microsoft.Xna.Framework.Media.MediaPlayer._queue.ActiveSong,null)},PlaySong:function(song,startPosition){if(Microsoft.Xna.Framework.Media.Song.op_Inequality(song,null)&&song.IsDisposed)throw new System.ObjectDisposedException.$ctor1("song");Microsoft.Xna.Framework.Media.MediaPlayer.PlatformPlaySong(song,startPosition);Microsoft.Xna.Framework.Media.MediaPlayer.State=Microsoft.Xna.Framework.Media.MediaState.Playing},OnSongFinishedPlaying:function(sender,args){if(Microsoft.Xna.Framework.Media.MediaPlayer._numSongsInQueuePlayed=Microsoft.Xna.Framework.Media.MediaPlayer._numSongsInQueuePlayed+1|0,Microsoft.Xna.Framework.Media.MediaPlayer._numSongsInQueuePlayed>=Microsoft.Xna.Framework.Media.MediaPlayer._queue.Count&&(Microsoft.Xna.Framework.Media.MediaPlayer._numSongsInQueuePlayed=0,!Microsoft.Xna.Framework.Media.MediaPlayer.IsRepeating)){Microsoft.Xna.Framework.Media.MediaPlayer.Stop();Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,null,Microsoft.Xna.Framework.Media.MediaPlayer.ActiveSongChanged,{});return}Microsoft.Xna.Framework.Media.MediaPlayer.MoveNext()},Resume:function(){Microsoft.Xna.Framework.Media.MediaPlayer.State===Microsoft.Xna.Framework.Media.MediaState.Paused&&(Microsoft.Xna.Framework.Media.MediaPlayer.PlatformResume(),Microsoft.Xna.Framework.Media.MediaPlayer.State=Microsoft.Xna.Framework.Media.MediaState.Playing)},Stop:function(){Microsoft.Xna.Framework.Media.MediaPlayer.State!==Microsoft.Xna.Framework.Media.MediaState.Stopped&&(Microsoft.Xna.Framework.Media.MediaPlayer.PlatformStop(),Microsoft.Xna.Framework.Media.MediaPlayer.State=Microsoft.Xna.Framework.Media.MediaState.Stopped)},MoveNext:function(){Microsoft.Xna.Framework.Media.MediaPlayer.NextSong(1)},MovePrevious:function(){Microsoft.Xna.Framework.Media.MediaPlayer.NextSong(-1)},NextSong:function(direction){Microsoft.Xna.Framework.Media.MediaPlayer.Stop();Microsoft.Xna.Framework.Media.MediaPlayer.IsRepeating&&Microsoft.Xna.Framework.Media.MediaPlayer._queue.ActiveSongIndex>=(Microsoft.Xna.Framework.Media.MediaPlayer._queue.Count-1|0)&&(Microsoft.Xna.Framework.Media.MediaPlayer._queue.ActiveSongIndex=0,direction=0);var nextSong=Microsoft.Xna.Framework.Media.MediaPlayer._queue.GetNextSong(direction,Microsoft.Xna.Framework.Media.MediaPlayer.IsShuffled);Microsoft.Xna.Framework.Media.Song.op_Inequality(nextSong,null)&&Microsoft.Xna.Framework.Media.MediaPlayer.PlaySong(nextSong,null);Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,null,Microsoft.Xna.Framework.Media.MediaPlayer.ActiveSongChanged,{})},PlatformInitialize:function(){},PlatformGetIsMuted:function(){return Microsoft.Xna.Framework.Media.MediaPlayer._isMuted},PlatformSetIsMuted:function(muted){if(Microsoft.Xna.Framework.Media.MediaPlayer._isMuted=muted,Microsoft.Xna.Framework.Media.MediaPlayer._queue.Count!==0){var newVolume=Microsoft.Xna.Framework.Media.MediaPlayer._isMuted?0:Microsoft.Xna.Framework.Media.MediaPlayer._volume;Microsoft.Xna.Framework.Media.MediaPlayer._queue.SetVolume(newVolume)}},PlatformGetIsRepeating:function(){return Microsoft.Xna.Framework.Media.MediaPlayer._isRepeating},PlatformSetIsRepeating:function(repeating){Microsoft.Xna.Framework.Media.MediaPlayer._isRepeating=repeating},PlatformGetIsShuffled:function(){return Microsoft.Xna.Framework.Media.MediaPlayer._isShuffled},PlatformSetIsShuffled:function(shuffled){Microsoft.Xna.Framework.Media.MediaPlayer._isShuffled=shuffled},PlatformGetPlayPosition:function(){return Microsoft.Xna.Framework.Media.Song.op_Equality(Microsoft.Xna.Framework.Media.MediaPlayer._queue.ActiveSong,null)?System.TimeSpan.zero:Microsoft.Xna.Framework.Media.MediaPlayer._queue.ActiveSong.Position},PlatformGetState:function(){return Microsoft.Xna.Framework.Media.MediaPlayer._state},PlatformGetVolume:function(){return Microsoft.Xna.Framework.Media.MediaPlayer._volume},PlatformSetVolume:function(volume){(Microsoft.Xna.Framework.Media.MediaPlayer._volume=volume,Microsoft.Xna.Framework.Media.Song.op_Equality(Microsoft.Xna.Framework.Media.MediaPlayer._queue.ActiveSong,null))||Microsoft.Xna.Framework.Media.MediaPlayer._queue.SetVolume(Microsoft.Xna.Framework.Media.MediaPlayer._isMuted?0:Microsoft.Xna.Framework.Media.MediaPlayer._volume)},PlatformGetGameHasControl:function(){return!0},PlatformPause:function(){Microsoft.Xna.Framework.Media.Song.op_Equality(Microsoft.Xna.Framework.Media.MediaPlayer._queue.ActiveSong,null)||Microsoft.Xna.Framework.Media.MediaPlayer._queue.ActiveSong.Pause()},PlatformPlaySong:function(song,startPosition){Microsoft.Xna.Framework.Media.Song.op_Equality(Microsoft.Xna.Framework.Media.MediaPlayer._queue.ActiveSong,null)||(song.SetEventHandler(Microsoft.Xna.Framework.Media.MediaPlayer.OnSongFinishedPlaying),song.Volume=Microsoft.Xna.Framework.Media.MediaPlayer._isMuted?0:Microsoft.Xna.Framework.Media.MediaPlayer._volume,song.Play(startPosition))},PlatformResume:function(){Microsoft.Xna.Framework.Media.Song.op_Equality(Microsoft.Xna.Framework.Media.MediaPlayer._queue.ActiveSong,null)||Microsoft.Xna.Framework.Media.MediaPlayer._queue.ActiveSong.Resume()},PlatformStop:function(){var $t,song;$t=Bridge.getEnumerator(Microsoft.Xna.Framework.Media.MediaPlayer.Queue.Songs,Microsoft.Xna.Framework.Media.Song);try{while($t.moveNext())song=$t.Current,Microsoft.Xna.Framework.Media.MediaPlayer._queue.ActiveSong.Stop()}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}}}});Bridge.define("Microsoft.Xna.Framework.Media.MediaQueue",{fields:{songs:null,_activeSongIndex:0,random:null},props:{ActiveSong:{get:function(){return this.songs.Count===0||this._activeSongIndex<0?null:this.songs.getItem(this._activeSongIndex)}},ActiveSongIndex:{get:function(){return this._activeSongIndex},set:function(value){this._activeSongIndex=value}},Count:{get:function(){return this.songs.Count}},Songs:{get:function(){return this.songs}}},ctors:{init:function(){this.songs=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Media.Song).ctor);this._activeSongIndex=-1;this.random=new System.Random.ctor},ctor:function(){this.$initialize()}},methods:{getItem:function(index){return this.songs.getItem(index)},GetNextSong:function(direction,shuffle){return this._activeSongIndex=shuffle?this.random.Next$1(this.songs.Count):Microsoft.Xna.Framework.MathHelper.Clamp(this._activeSongIndex+direction|0,0,this.songs.Count-1|0),this.songs.getItem(this._activeSongIndex)},Clear:function(){for(var song;this.songs.Count>0;)song=this.songs.getItem(0),song.Stop(),this.songs.remove(song)},SetVolume:function(volume){for(var count=this.songs.Count,i=0;i<count;i=i+1|0)this.songs.getItem(i).Volume=volume},Add:function(song){this.songs.add(song)},Stop:function(){for(var count=this.songs.Count,i=0;i<count;i=i+1|0)this.songs.getItem(i).Stop()}}});Bridge.define("Microsoft.Xna.Framework.Media.MediaState",{$kind:"enum",statics:{fields:{Stopped:0,Playing:1,Paused:2}}});Bridge.define("Microsoft.Xna.Framework.PlaneHelper",{statics:{methods:{ClassifyPoint:function(point,plane){return point.v.X*plane.v.Normal.X+point.v.Y*plane.v.Normal.Y+point.v.Z*plane.v.Normal.Z+plane.v.D},PerpendicularDistance:function(point,plane){return Math.abs((plane.v.Normal.X*point.v.X+plane.v.Normal.Y*point.v.Y+plane.v.Normal.Z*point.v.Z)/Math.sqrt(plane.v.Normal.X*plane.v.Normal.X+plane.v.Normal.Y*plane.v.Normal.Y+plane.v.Normal.Z*plane.v.Normal.Z))}}}});Bridge.define("Microsoft.Xna.Framework.PlaneIntersectionType",{$kind:"enum",statics:{fields:{Front:0,Back:1,Intersecting:2}}});Bridge.define("Microsoft.Xna.Framework.PlayerIndex",{$kind:"enum",statics:{fields:{One:0,Two:1,Three:2,Four:3}}});Bridge.define("Microsoft.Xna.Framework.PreparingDeviceSettingsEventArgs",{fields:{GraphicsDeviceInformation:null},ctors:{ctor:function(graphicsDeviceInformation){this.$initialize();System.Object.call(this);this.GraphicsDeviceInformation=graphicsDeviceInformation}}});Bridge.define("Microsoft.Xna.Framework.ResourceManager",{methods:{GetObject:function(name){throw new System.Exception;}}});Bridge.define("Microsoft.Xna.Framework.TitleContainer",{statics:{fields:{Location:null},ctors:{ctor:function(){Microsoft.Xna.Framework.TitleContainer.Location="";Microsoft.Xna.Framework.TitleContainer.PlatformInit()}},methods:{PlatformInit:function(){Microsoft.Xna.Framework.TitleContainer.Location=""},OpenStream:function(name){var safeName,stream,ex;if(System.String.isNullOrEmpty(name))throw new System.ArgumentNullException.$ctor1("name");if(System.IO.Path.IsPathRooted(name))throw new System.ArgumentException.$ctor3("Invalid filename. TitleContainer.OpenStream requires a relative path.",name);safeName=Microsoft.Xna.Framework.TitleContainer.NormalizeRelativePath(name);try{if(stream=Microsoft.Xna.Framework.TitleContainer.PlatformOpenStream(safeName),stream==null)throw Microsoft.Xna.Framework.TitleContainer.FileNotFoundException(name,null);}catch($e1){if($e1=System.Exception.create($e1),Bridge.is($e1,System.IO.FileNotFoundException))throw $e1;else{ex=$e1;throw new System.IO.FileNotFoundException(name,ex);}}return stream},FileNotFoundException:function(name,inner){return new System.IO.FileNotFoundException('Error loading "'+(name||"")+'". File not found.',inner)},NormalizeRelativePath:function(name){return name},PlatformOpenStream:function(safeName){return System.IO.File.OpenRead(safeName)}}}});Bridge.define("Microsoft.Xna.Framework.Utilities.FileHelpers",{statics:{fields:{UrlSafeChars:null,ForwardSlash:0,ForwardSlashString:null,BackwardSlash:0,NotSeparator:0,Separator:0},ctors:{init:function(){this.UrlSafeChars=System.Array.init([46,95,45,59,47,63,92,58],System.Char);this.ForwardSlash=47;this.ForwardSlashString=System.String.fromCharCount(Microsoft.Xna.Framework.Utilities.FileHelpers.ForwardSlash,1);this.BackwardSlash=92;this.NotSeparator=System.IO.Path.DirectorySeparatorChar===Microsoft.Xna.Framework.Utilities.FileHelpers.BackwardSlash?Microsoft.Xna.Framework.Utilities.FileHelpers.ForwardSlash:Microsoft.Xna.Framework.Utilities.FileHelpers.BackwardSlash;this.Separator=System.IO.Path.DirectorySeparatorChar}},methods:{NormalizeFilePathSeparators:function(name){return System.String.replaceAll(name,String.fromCharCode(Microsoft.Xna.Framework.Utilities.FileHelpers.NotSeparator),String.fromCharCode(Microsoft.Xna.Framework.Utilities.FileHelpers.Separator))},ResolveRelativePath:function(filePath,relativeFile){filePath=System.String.replaceAll(filePath,String.fromCharCode(Microsoft.Xna.Framework.Utilities.FileHelpers.BackwardSlash),String.fromCharCode(Microsoft.Xna.Framework.Utilities.FileHelpers.ForwardSlash));relativeFile=System.String.replaceAll(relativeFile,String.fromCharCode(Microsoft.Xna.Framework.Utilities.FileHelpers.BackwardSlash),String.fromCharCode(Microsoft.Xna.Framework.Utilities.FileHelpers.ForwardSlash));for(var len=filePath.length-1|0;len>0&&filePath.charCodeAt(len)!==Microsoft.Xna.Framework.Utilities.FileHelpers.ForwardSlash;)len=len-1|0;return len>0&&(filePath=filePath.substr(0,len)),System.IO.Path.Combine(filePath,relativeFile)},UrlEncode:function(url){var $t,$t1,encoder=new System.Text.UTF8Encoding.ctor,safeline=new System.Text.StringBuilder("",Bridge.Int.mul(encoder.GetByteCount$2(url),3)),c,bytes,num;$t=Bridge.getEnumerator(url);try{while($t.moveNext())if(c=$t.Current,c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||System.Array.indexOfT(Microsoft.Xna.Framework.Utilities.FileHelpers.UrlSafeChars,c)!==-1)safeline.append(String.fromCharCode(c));else{bytes=encoder.GetBytes$2(String.fromCharCode(c));$t1=Bridge.getEnumerator(bytes);try{while($t1.moveNext())num=$t1.Current,safeline.append("%"),safeline.append(System.Byte.format(num,"X"))}finally{Bridge.is($t1,System.IDisposable)&&$t1.System$IDisposable$Dispose()}}}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return safeline.toString()}}}});Bridge.define("Microsoft.Xna.Framework.Utilities.ReflectionHelpers",{statics:{methods:{IsValueType:function(targetType){if(targetType==null)throw new System.NullReferenceException.$ctor1("Must supply the targetType parameter");return Bridge.Reflection.isValueType(targetType)},GetBaseType:function(targetType){if(targetType==null)throw new System.NullReferenceException.$ctor1("Must supply the targetType parameter");return Bridge.Reflection.getBaseType(targetType)},GetAssembly:function(targetType){if(targetType==null)throw new System.NullReferenceException.$ctor1("Must supply the targetType parameter");return Bridge.Reflection.getTypeAssembly(targetType)},IsConcreteClass:function(t){if(t==null)throw new System.NullReferenceException.$ctor1("Must supply the t (type) parameter");return Bridge.referenceEquals(t,System.Object)?!1:Bridge.Reflection.isClass(t)&&!((Bridge.Reflection.getMetaValue(t,"att",0)&128)!=0)?!0:!1},GetMethodInfo:function(type,methodName){return Bridge.Reflection.getMembers(type,8,292,methodName)},GetPropertyGetMethod:function(property){if(property==null)throw new System.NullReferenceException.$ctor1("Must supply the property parameter");return property.g},GetPropertySetMethod:function(property){if(property==null)throw new System.NullReferenceException.$ctor1("Must supply the property parameter");return property.s},GetCustomAttribute:function(T,member){var $t,attr;if(member==null)throw new System.NullReferenceException.$ctor1("Must supply the member parameter");$t=Bridge.getEnumerator(System.Attribute.getCustomAttributes(member,!1));try{while($t.moveNext())if(attr=$t.Current,Bridge.is(attr,T))return Bridge.as(attr,T)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return null},PropertyIsPublic:function(property){if(property==null)throw new System.NullReferenceException.$ctor1("Must supply the property parameter");var getMethod=Microsoft.Xna.Framework.Utilities.ReflectionHelpers.GetPropertyGetMethod(property);return getMethod==null||!(getMethod.a===2)?!1:!0},IsAssignableFrom:function(type,value){if(type==null)throw new System.ArgumentNullException.$ctor1("type");if(value==null)throw new System.ArgumentNullException.$ctor1("value");return Microsoft.Xna.Framework.Utilities.ReflectionHelpers.IsAssignableFromType(type,Bridge.getType(value))},IsAssignableFromType:function(type,objectType){if(type==null)throw new System.ArgumentNullException.$ctor1("type");if(objectType==null)throw new System.ArgumentNullException.$ctor1("objectType");return Bridge.Reflection.isAssignableFrom(type,objectType)?!0:!1},ManagedSizeOf:function(type){return 0}}}});Bridge.define("Microsoft.Xna.Framework.Utilities.ReflectionHelpers.SizeOf$1",function(T){return{$kind:"nested class",statics:{fields:{_size:0},ctors:{ctor:function(){Bridge.referenceEquals(T,Microsoft.Xna.Framework.Color)&&(Microsoft.Xna.Framework.Utilities.ReflectionHelpers.SizeOf$1(T)._size=4);Microsoft.Xna.Framework.Utilities.ReflectionHelpers.SizeOf$1(T)._size=4}},methods:{Get:function(){return Microsoft.Xna.Framework.Utilities.ReflectionHelpers.SizeOf$1(T)._size}}}}});Bridge.define("MonoGame.Utilities.Hash",{statics:{methods:{ComputeHash:function(data){var p,hash,i;for(data===void 0&&(data=[]),p=16777619,hash=-2128831035,i=0;i<data.length;i=i+1|0)hash=Bridge.Int.mul(hash^data[i],p);return hash=hash+(hash<<13)|0,hash=hash^hash>>7,hash=hash+(hash<<3)|0,hash=hash^hash>>17,hash+(hash<<5)|0},ComputeHash$1:function(stream){var p=16777619,hash=-2128831035,prevPosition=stream.Position,data,length,i;for(stream.Position=System.Int64(0),data=System.Array.init(1024,0,System.Byte);(length=stream.Read(data,0,data.length))!==0;)for(i=0;i<length;i=i+1|0)hash=Bridge.Int.mul(hash^data[i],p);return stream.Position=prevPosition,hash=hash+(hash<<13)|0,hash=hash^hash>>7,hash=hash+(hash<<3)|0,hash=hash^hash>>17,hash+(hash<<5)|0}}}});Bridge.define("System.Buffer",{statics:{methods:{BlockCopy:function(src,srcOffset,dst,dstOffset,count){for(var i=0;i<count;i=i+1|0)dst[dstOffset+i|0]=src[srcOffset+i|0]}}}});Bridge.define("System.Collections.Concurrent.ConcurrentQueue$1",function(T){return{inherits:[System.Collections.Generic.Queue$1(T)],methods:{TryDequeue:function(val){return val.v=this.Dequeue(),!0}}}});Bridge.define("System.GC",{statics:{methods:{SuppressFinalize:function(obj){}}}});Bridge.define("System.IO.FileNotFoundException",{inherits:[System.Exception],ctors:{ctor:function(name,ex){this.$initialize();System.Exception.ctor.call(this)}}});Bridge.define("System.IO.Path",{statics:{props:{DirectorySeparatorChar:{get:function(){return 47}}},methods:{Combine:function(a,b){return System.String.trimStart((System.String.trimEnd(a,[47])||"")+"/"+(System.String.trimStart(b,[47])||""),[47])},GetFileNameWithoutExtension:function(s){return s},IsPathRooted:function(s){return!1}}}});Bridge.define("System.PlatformNotSupportedException",{inherits:[System.Exception],ctors:{ctor:function(message){this.$initialize();System.Exception.ctor.call(this)}}});Bridge.define("System.Reflection.TargetInvocationException",{inherits:[System.Exception]});Bridge.define("System.WeakReference",{fields:{Target:null},props:{IsAlive:{get:function(){return!0}}},ctors:{ctor:function(target){this.$initialize();this.Target=target}}});Bridge.define("WebHelper",{statics:{fields:{gl:null}}});Bridge.define("Microsoft.Xna.Framework.Audio.DynamicSoundEffectInstance",{inherits:[Microsoft.Xna.Framework.Audio.SoundEffectInstance],statics:{fields:{TargetPendingBufferCount:0},ctors:{init:function(){this.TargetPendingBufferCount=3}}},fields:{_buffersNeeded:0,_sampleRate:0,_channels:0,_state$1:0},events:{BufferNeeded:null},props:{IsLooped:{get:function(){return!1},set:function(value){if(this.AssertNotDisposed(),value===!0)throw new System.InvalidOperationException.$ctor1("IsLooped cannot be set true. Submit looped audio data to implement looping.");}},State:{get:function(){return this.AssertNotDisposed(),this._state$1}},PendingBufferCount:{get:function(){return this.AssertNotDisposed(),this.PlatformGetPendingBufferCount()}}},ctors:{ctor:function(sampleRate,channels){if(this.$initialize(),Microsoft.Xna.Framework.Audio.SoundEffectInstance.ctor.call(this),sampleRate<8e3||sampleRate>48e3)throw new System.ArgumentOutOfRangeException.$ctor1("sampleRate");if(channels!==Microsoft.Xna.Framework.Audio.AudioChannels.Mono&&channels!==Microsoft.Xna.Framework.Audio.AudioChannels.Stereo)throw new System.ArgumentOutOfRangeException.$ctor1("channels");this._sampleRate=sampleRate;this._channels=channels;this._state$1=Microsoft.Xna.Framework.Audio.SoundState.Stopped;this.PlatformCreate();this._isPooled=!1;this._isDynamic=!0}},methods:{GetSampleDuration:function(sizeInBytes){return this.AssertNotDisposed(),Microsoft.Xna.Framework.Audio.SoundEffect.GetSampleDuration(sizeInBytes,this._sampleRate,this._channels)},GetSampleSizeInBytes:function(duration){return this.AssertNotDisposed(),Microsoft.Xna.Framework.Audio.SoundEffect.GetSampleSizeInBytes(duration,this._sampleRate,this._channels)},Play:function(){if(this.AssertNotDisposed(),this._state$1!==Microsoft.Xna.Framework.Audio.SoundState.Playing){if(this.Volume=this.Volume,!Microsoft.Xna.Framework.Audio.SoundEffectInstancePool.SoundsAvailable)throw new Microsoft.Xna.Framework.Audio.InstancePlayLimitException;Microsoft.Xna.Framework.Audio.SoundEffectInstancePool.Remove(this);this.PlatformPlay$1();this._state$1=Microsoft.Xna.Framework.Audio.SoundState.Playing;this.CheckBufferCount();Microsoft.Xna.Framework.Audio.DynamicSoundEffectInstanceManager.AddInstance(this)}},Pause:function(){this.AssertNotDisposed();this.PlatformPause$1();this._state$1=Microsoft.Xna.Framework.Audio.SoundState.Paused},Resume:function(){if(this.AssertNotDisposed(),this._state$1!==Microsoft.Xna.Framework.Audio.SoundState.Playing){if(this.Volume=this.Volume,!Microsoft.Xna.Framework.Audio.SoundEffectInstancePool.SoundsAvailable)throw new Microsoft.Xna.Framework.Audio.InstancePlayLimitException;Microsoft.Xna.Framework.Audio.SoundEffectInstancePool.Remove(this)}this.PlatformResume$1();this._state$1=Microsoft.Xna.Framework.Audio.SoundState.Playing},Stop:function(){this.Stop$1(!0)},Stop$1:function(immediate){this.AssertNotDisposed();immediate&&(Microsoft.Xna.Framework.Audio.DynamicSoundEffectInstanceManager.RemoveInstance(this),this.PlatformStop$1(),this._state$1=Microsoft.Xna.Framework.Audio.SoundState.Stopped,Microsoft.Xna.Framework.Audio.SoundEffectInstancePool.Add(this))},SubmitBuffer:function(buffer){if(this.AssertNotDisposed(),buffer.length===0)throw new System.ArgumentException.$ctor1("Buffer may not be empty.");var sampleSize=Bridge.Int.mul(2,this._channels);if(buffer.length%sampleSize!=0)throw new System.ArgumentException.$ctor1("Buffer length does not match format alignment.");this.SubmitBuffer$1(buffer,0,buffer.length)},SubmitBuffer$1:function(buffer,offset,count){if(this.AssertNotDisposed(),buffer==null||buffer.length===0)throw new System.ArgumentException.$ctor1("Buffer may not be null or empty.");if(count<=0)throw new System.ArgumentException.$ctor1("Number of bytes must be greater than zero.");if((offset+count|0)>buffer.length)throw new System.ArgumentException.$ctor1("Buffer is shorter than the specified number of bytes from the offset.");var sampleSize=Bridge.Int.mul(2,this._channels);if(count%sampleSize!=0)throw new System.ArgumentException.$ctor1("Number of bytes does not match format alignment.");if(offset%sampleSize!=0)throw new System.ArgumentException.$ctor1("Offset into the buffer does not match format alignment.");this.PlatformSubmitBuffer(buffer,offset,count)},AssertNotDisposed:function(){if(this.IsDisposed)throw new System.ObjectDisposedException.$ctor1(null);},Dispose$1:function(disposing){this.PlatformDispose$1(disposing);Microsoft.Xna.Framework.Audio.SoundEffectInstance.prototype.Dispose$1.call(this,disposing)},CheckBufferCount:function(){this.PendingBufferCount<Microsoft.Xna.Framework.Audio.DynamicSoundEffectInstance.TargetPendingBufferCount&&this._state$1===Microsoft.Xna.Framework.Audio.SoundState.Playing&&(this._buffersNeeded=this._buffersNeeded+1|0)},UpdateQueue:function(){var bufferNeededHandler,eventCount,i;if(this.PlatformUpdateQueue(),bufferNeededHandler=this.BufferNeeded,!Bridge.staticEquals(bufferNeededHandler,null))for(eventCount=this._buffersNeeded<3?this._buffersNeeded:3,i=0;i<eventCount;i=i+1|0)bufferNeededHandler(this,{});this._buffersNeeded=0},PlatformCreate:function(){},PlatformGetPendingBufferCount:function(){return 0},PlatformPlay$1:function(){},PlatformPause$1:function(){},PlatformResume$1:function(){},PlatformStop$1:function(){},PlatformSubmitBuffer:function(buffer,offset,count){},PlatformDispose$1:function(disposing){},PlatformUpdateQueue:function(){}}});Bridge.define("Microsoft.Xna.Framework.Audio.PlayWaveEvent",{inherits:[Microsoft.Xna.Framework.Audio.ClipEvent],fields:{_soundBank:null,_variation:0,_loopCount:0,_newWaveOnLoop:!1,_tracks:null,_waveBanks:null,_weights:null,_totalWeights:0,_trackVolume:0,_trackPitch:0,_trackFilterFrequency:0,_trackFilterQFactor:0,_clipVolume:0,_clipPitch:0,_clipReverbMix:0,_filterVar:null,_volumeVar:null,_pitchVar:null,_wavIndex:0,_loopIndex:0,_wav:null,_streaming:!1},ctors:{ctor:function(clip,timeStamp,randomOffset,soundBank,waveBanks,tracks,weights,totalWeights,variation,volumeVar,pitchVar,filterVar,loopCount,newWaveOnLoop){this.$initialize();Microsoft.Xna.Framework.Audio.ClipEvent.ctor.call(this,clip,timeStamp,randomOffset);this._soundBank=soundBank;this._waveBanks=waveBanks;this._tracks=tracks;this._weights=weights;this._totalWeights=totalWeights;this._volumeVar=System.Nullable.lift1("$clone",volumeVar);this._pitchVar=System.Nullable.lift1("$clone",pitchVar);this._filterVar=System.Nullable.lift1("$clone",filterVar);this._wavIndex=-1;this._loopIndex=0;this._trackVolume=1;this._trackPitch=0;this._trackFilterFrequency=0;this._trackFilterQFactor=0;this._clipVolume=1;this._clipPitch=0;this._clipReverbMix=0;this._variation=variation;this._loopCount=loopCount;this._newWaveOnLoop=newWaveOnLoop}},methods:{Play:function(){this._wav!=null&&(this._wav.State!==Microsoft.Xna.Framework.Audio.SoundState.Stopped&&this._wav.Stop(),this._streaming?this._wav.Dispose():this._wav._isXAct=!1,this._wav=null);this.Play$1(!0)},Play$1:function(pickNewWav){var trackCount=this._tracks.length,sum,i,last,sum1,i1;if(pickNewWav)switch(this._variation){case Microsoft.Xna.Framework.Audio.VariationType.Ordered:this._wavIndex=(this._wavIndex+1|0)%trackCount;break;case Microsoft.Xna.Framework.Audio.VariationType.OrderedFromRandom:this._wavIndex=(this._wavIndex+1|0)%trackCount;break;case Microsoft.Xna.Framework.Audio.VariationType.Random:if(this._weights==null||trackCount===1)this._wavIndex=Microsoft.Xna.Framework.Audio.XactHelpers.Random.Next()%trackCount;else for(sum=Microsoft.Xna.Framework.Audio.XactHelpers.Random.Next$1(this._totalWeights),i=0;i<trackCount;i=i+1|0)if(sum=sum-this._weights[System.Array.index(i,this._weights)]|0,sum<=0){this._wavIndex=i;break}break;case Microsoft.Xna.Framework.Audio.VariationType.RandomNoImmediateRepeats:if(this._weights==null||trackCount===1)this._wavIndex=Microsoft.Xna.Framework.Audio.XactHelpers.Random.Next()%trackCount;else{for(last=this._wavIndex,sum1=Microsoft.Xna.Framework.Audio.XactHelpers.Random.Next$1(this._totalWeights),i1=0;i1<trackCount;i1=i1+1|0)if(sum1=sum1-this._weights[System.Array.index(i1,this._weights)]|0,sum1<=0){this._wavIndex=i1;break}this._wavIndex===last&&(this._wavIndex=(this._wavIndex+1|0)%trackCount)}break;case Microsoft.Xna.Framework.Audio.VariationType.Shuffle:this._wavIndex=Microsoft.Xna.Framework.Audio.XactHelpers.Random.Next()%trackCount;break}(this._wav=this._soundBank.GetSoundEffectInstance(this._waveBanks[System.Array.index(this._wavIndex,this._waveBanks)],this._tracks[System.Array.index(this._wavIndex,this._tracks)],Bridge.ref(this,"_streaming")),this._wav!=null)&&(System.Nullable.hasValue(System.Nullable.lift1("$clone",this._volumeVar))&&(this._trackVolume=System.Nullable.getValue(System.Nullable.lift1("$clone",this._volumeVar)).X+Microsoft.Xna.Framework.Audio.XactHelpers.Random.NextDouble()*System.Nullable.getValue(System.Nullable.lift1("$clone",this._volumeVar)).Y),System.Nullable.hasValue(System.Nullable.lift1("$clone",this._pitchVar))&&(this._trackPitch=System.Nullable.getValue(System.Nullable.lift1("$clone",this._pitchVar)).X+Microsoft.Xna.Framework.Audio.XactHelpers.Random.NextDouble()*System.Nullable.getValue(System.Nullable.lift1("$clone",this._pitchVar)).Y),this._clip.FilterEnabled&&(System.Nullable.hasValue(System.Nullable.lift1("$clone",this._filterVar))?(this._trackFilterFrequency=System.Nullable.getValue(System.Nullable.lift1("$clone",this._filterVar)).X+Microsoft.Xna.Framework.Audio.XactHelpers.Random.NextDouble()*System.Nullable.getValue(System.Nullable.lift1("$clone",this._filterVar)).Y,this._trackFilterQFactor=System.Nullable.getValue(System.Nullable.lift1("$clone",this._filterVar)).Z+Microsoft.Xna.Framework.Audio.XactHelpers.Random.NextDouble()*System.Nullable.getValue(System.Nullable.lift1("$clone",this._filterVar)).W):(this._trackFilterFrequency=this._clip.FilterFrequency,this._trackFilterQFactor=this._clip.FilterQ)),this._wav.IsLooped=this._loopCount===255&&trackCount===1,this.UpdateState(),this._wav.Play())},Stop:function(){this._wav!=null&&(this._wav.Stop(),this._streaming?this._wav.Dispose():this._wav._isXAct=!1,this._wav=null);this._loopIndex=0},Pause:function(){this._wav!=null&&this._wav.Pause()},Resume:function(){this._wav!=null&&this._wav.State===Microsoft.Xna.Framework.Audio.SoundState.Paused&&this._wav.Resume()},SetTrackVolume:function(volume){this._clipVolume=volume;this._wav!=null&&(this._wav.Volume=this._trackVolume*this._clipVolume)},SetTrackPan:function(pan){this._wav!=null&&(this._wav.Pan=pan)},SetState:function(volume,pitch,reverbMix,filterFrequency,filterQFactor){this._clipVolume=volume;this._clipPitch=pitch;this._clipReverbMix=reverbMix;System.Nullable.hasValue(filterFrequency)&&(this._trackFilterFrequency=System.Nullable.getValue(filterFrequency));System.Nullable.hasValue(filterQFactor)&&(this._trackFilterQFactor=System.Nullable.getValue(filterQFactor));this._wav!=null&&this.UpdateState()},UpdateState:function(){this._wav.Volume=this._trackVolume*this._clipVolume;this._wav.Pitch=this._trackPitch+this._clipPitch;this._clip.UseReverb&&this._wav.PlatformSetReverbMix(this._clipReverbMix);this._clip.FilterEnabled&&this._wav.PlatformSetFilter(this._clip.FilterMode,this._trackFilterQFactor,this._trackFilterFrequency)},SetFade:function(fadeInDuration,fadeOutDuration){},Update:function(dt){return this._wav!=null&&this._wav.State===Microsoft.Xna.Framework.Audio.SoundState.Stopped&&(this._loopCount===0||this._loopIndex>=this._loopCount?(this._streaming?this._wav.Dispose():this._wav._isXAct=!1,this._wav=null,this._loopIndex=0):(this._loopCount!==255&&(this._loopIndex=this._loopIndex+1|0),this.Play$1(this._newWaveOnLoop))),this._wav!=null}}});Bridge.define("Microsoft.Xna.Framework.Audio.VolumeEvent",{inherits:[Microsoft.Xna.Framework.Audio.ClipEvent],fields:{_volume:0},ctors:{ctor:function(clip,timeStamp,randomOffset,volume){this.$initialize();Microsoft.Xna.Framework.Audio.ClipEvent.ctor.call(this,clip,timeStamp,randomOffset);this._volume=volume}},methods:{Play:function(){this._clip.SetVolume(this._volume)},Stop:function(){},Pause:function(){},Resume:function(){},SetTrackVolume:function(volume){},SetTrackPan:function(pan){},SetState:function(volume,pitch,reverbMix,filterFrequency,filterQFactor){},Update:function(dt){return!1},SetFade:function(fadeInDuration,fadeOutDuration){}}});Bridge.define("Microsoft.Xna.Framework.Content.ContentTypeReader$1",function(T){return{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader.ctor.call(this,T)}},methods:{Read:function(input,existingInstance){return existingInstance==null?this.Read$1(input,Bridge.getDefaultValue(T)):this.Read$1(input,Bridge.cast(Bridge.unbox(existingInstance,T),T))}}}});Bridge.define("Microsoft.Xna.Framework.Content.ExternalReferenceReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader.ctor.call(this,null)}},methods:{Read:function(input,existingInstance){return input.ReadExternalReference(System.Object)}}});Bridge.define("Microsoft.Xna.Framework.Content.ReflectiveReader$1",function(T){return{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader],statics:{methods:{GetElementReader:function(manager,member){var property=Bridge.as(member,System.Reflection.PropertyInfo),field=Bridge.as(member,System.Reflection.FieldInfo),contentSerializerAttribute,typeReader,setter,elementType,reader,construct;if(property!=null&&(!!property.g==!1||System.Linq.Enumerable.from(property.ipi||[]).any())||Microsoft.Xna.Framework.Utilities.ReflectionHelpers.GetCustomAttribute(Microsoft.Xna.Framework.Content.ContentSerializerIgnoreAttribute,member)!=null)return null;if(contentSerializerAttribute=Microsoft.Xna.Framework.Utilities.ReflectionHelpers.GetCustomAttribute(Microsoft.Xna.Framework.Content.ContentSerializerAttribute,member),contentSerializerAttribute==null)if(property!=null){if(!Microsoft.Xna.Framework.Utilities.ReflectionHelpers.PropertyIsPublic(property)||!!!property.s&&(typeReader=manager.GetTypeReader(property.rt),typeReader==null||!typeReader.CanDeserializeIntoExistingObject))return null}else if(!(field.a===2)||field.ro||!1)return null;if(property!=null?(elementType=property.rt,setter=property.s?function(o,v){Bridge.Reflection.midel(property.s,o).apply(null,(null||[]).concat(v))}:function(o,v){}):(elementType=field.rt,setter=Bridge.fn.bind(this,function(obj,value){return Bridge.Reflection.fieldAccess(field,obj,value)})),contentSerializerAttribute!=null&&contentSerializerAttribute.SharedResource)return function(input,parent){var action=function(value){setter(parent,value)};input.ReadSharedResource(System.Object,action)};if(reader=manager.GetTypeReader(elementType),reader==null)if(Bridge.referenceEquals(elementType,Array))reader=new(Microsoft.Xna.Framework.Content.ArrayReader$1(Array));else throw new Microsoft.Xna.Framework.Content.ContentLoadException.$ctor1(System.String.format("Content reader could not be found for {0} type.",[Bridge.Reflection.getTypeFullName(elementType)]));return construct=function(parent){return null},property==null||!!property.s||(construct=function(parent){return Bridge.Reflection.midel(property.g,Bridge.unbox(parent)).apply(null,null)}),function(input,parent){var existing=construct(parent),obj2=input.ReadObject$3(System.Object,reader,existing);setter(parent,obj2)}}}},fields:{_readers:null,_constructor:null,_baseTypeReader:null},props:{CanDeserializeIntoExistingObject:{get:function(){return Microsoft.Xna.Framework.Content.ContentExtensions.IsClass(this.TargetType)}}},ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader.ctor.call(this,T)}},methods:{Initialize:function(manager){var $t,$t1,baseType,properties,fields,property,read,field,read1;Microsoft.Xna.Framework.Content.ContentTypeReader.prototype.Initialize.call(this,manager);baseType=Microsoft.Xna.Framework.Utilities.ReflectionHelpers.GetBaseType(this.TargetType);baseType==null||Bridge.referenceEquals(baseType,System.Object)||(this._baseTypeReader=manager.GetTypeReader(baseType));this._constructor=Microsoft.Xna.Framework.Content.ContentExtensions.GetDefaultConstructor(this.TargetType);properties=Microsoft.Xna.Framework.Content.ContentExtensions.GetAllProperties(this.TargetType);fields=Microsoft.Xna.Framework.Content.ContentExtensions.GetAllFields(this.TargetType);this._readers=new(System.Collections.Generic.List$1(Function).$ctor2)(fields.length+properties.length|0);$t=Bridge.getEnumerator(properties);try{while($t.moveNext())property=$t.Current,read=Microsoft.Xna.Framework.Content.ReflectiveReader$1(T).GetElementReader(manager,property),Bridge.staticEquals(read,null)||this._readers.add(read)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}$t1=Bridge.getEnumerator(fields);try{while($t1.moveNext())field=$t1.Current,read1=Microsoft.Xna.Framework.Content.ReflectiveReader$1(T).GetElementReader(manager,field),Bridge.staticEquals(read1,null)||this._readers.add(read1)}finally{Bridge.is($t1,System.IDisposable)&&$t1.System$IDisposable$Dispose()}},Read:function(input,existingInstance){var $t,obj,boxed,reader;obj=existingInstance!=null?Bridge.cast(Bridge.unbox(existingInstance,T),T):this._constructor==null?Bridge.cast(Bridge.unbox(Bridge.createInstance(T),T),T):Bridge.cast(Bridge.unbox(Bridge.Reflection.invokeCI(this._constructor,null),T),T);this._baseTypeReader!=null&&this._baseTypeReader.Read(input,obj);boxed=obj;$t=Bridge.getEnumerator(this._readers);try{while($t.moveNext())reader=$t.Current,reader(input,boxed)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return Bridge.cast(Bridge.unbox(boxed,T),T)}}}});Bridge.define("Microsoft.Xna.Framework.Content.ResourceContentManager",{inherits:[Microsoft.Xna.Framework.Content.ContentManager],fields:{resource:null},ctors:{ctor:function(servicesProvider,resource){if(this.$initialize(),Microsoft.Xna.Framework.Content.ContentManager.ctor.call(this,servicesProvider),resource==null)throw new System.ArgumentNullException.$ctor1("resource");this.resource=resource}},methods:{OpenStream:function(assetName){var obj=this.resource.GetObject(assetName);if(obj==null)throw new Microsoft.Xna.Framework.Content.ContentLoadException.$ctor1("Resource not found");if(!Bridge.is(obj,System.Array.type(System.Byte)))throw new Microsoft.Xna.Framework.Content.ContentLoadException.$ctor1("Resource is not in binary format");return new System.IO.MemoryStream.$ctor1(Bridge.as(obj,System.Array.type(System.Byte)))}}});Bridge.define("Microsoft.Xna.Framework.CurveKeyCollection",{inherits:[System.Collections.Generic.ICollection$1(Microsoft.Xna.Framework.CurveKey)],fields:{_keys:null},props:{Count:{get:function(){return this._keys.Count}},IsReadOnly:{get:function(){return!1}}},alias:["Count","System$Collections$Generic$ICollection$1$Microsoft$Xna$Framework$CurveKey$Count","IsReadOnly","System$Collections$Generic$ICollection$1$Microsoft$Xna$Framework$CurveKey$IsReadOnly","add","System$Collections$Generic$ICollection$1$Microsoft$Xna$Framework$CurveKey$add","clear","System$Collections$Generic$ICollection$1$Microsoft$Xna$Framework$CurveKey$clear","contains","System$Collections$Generic$ICollection$1$Microsoft$Xna$Framework$CurveKey$contains","copyTo","System$Collections$Generic$ICollection$1$Microsoft$Xna$Framework$CurveKey$copyTo","GetEnumerator",["System$Collections$Generic$IEnumerable$1$Microsoft$Xna$Framework$CurveKey$GetEnumerator","System$Collections$Generic$IEnumerable$1$GetEnumerator"],"remove","System$Collections$Generic$ICollection$1$Microsoft$Xna$Framework$CurveKey$remove"],ctors:{ctor:function(){this.$initialize();this._keys=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.CurveKey).ctor)}},methods:{getItem:function(index){return this._keys.getItem(index)},setItem:function(index,value){if(Microsoft.Xna.Framework.CurveKey.op_Equality(value,null))throw new System.ArgumentNullException.ctor;if(index>=this._keys.Count)throw new System.IndexOutOfRangeException.ctor;this._keys.getItem(index).Position===value.Position?this._keys.setItem(index,value):(this._keys.removeAt(index),this._keys.add(value))},System$Collections$IEnumerable$GetEnumerator:function(){return this._keys.GetEnumerator().$clone()},GetEnumerator:function(){return this._keys.GetEnumerator().$clone()},add:function(item){if(Microsoft.Xna.Framework.CurveKey.op_Equality(item,null))throw new System.ArgumentNullException.$ctor1("item");if(this._keys.Count===0){this._keys.add(item);return}for(var i=0;i<this._keys.Count;i=i+1|0)if(item.Position<this._keys.getItem(i).Position){this._keys.insert(i,item);return}this._keys.add(item)},clear:function(){this._keys.clear()},Clone:function(){var $t,ckc=new Microsoft.Xna.Framework.CurveKeyCollection,key;$t=Bridge.getEnumerator(this._keys);try{while($t.moveNext())key=$t.Current,ckc.add(key)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return ckc},contains:function(item){return this._keys.contains(item)},copyTo:function(array,arrayIndex){this._keys.copyTo(array,arrayIndex)},IndexOf:function(item){return this._keys.indexOf(item)},RemoveAt:function(index){this._keys.removeAt(index)},remove:function(item){return this._keys.remove(item)}}});Bridge.define("Microsoft.Xna.Framework.GameComponent",{inherits:function(){return[Microsoft.Xna.Framework.IGameComponent,Microsoft.Xna.Framework.IUpdateable,System.IComparable$1(Microsoft.Xna.Framework.GameComponent),System.IDisposable]},fields:{_enabled:!1,_updateOrder:0,Game:null},events:{EnabledChanged:null,UpdateOrderChanged:null},props:{Enabled:{get:function(){return this._enabled},set:function(value){this._enabled!==value&&(this._enabled=value,this.OnEnabledChanged(this,{}))}},UpdateOrder:{get:function(){return this._updateOrder},set:function(value){this._updateOrder!==value&&(this._updateOrder=value,this.OnUpdateOrderChanged(this,{}))}}},alias:["Enabled","Microsoft$Xna$Framework$IUpdateable$Enabled","UpdateOrder","Microsoft$Xna$Framework$IUpdateable$UpdateOrder","addEnabledChanged","Microsoft$Xna$Framework$IUpdateable$addEnabledChanged","removeEnabledChanged","Microsoft$Xna$Framework$IUpdateable$removeEnabledChanged","addUpdateOrderChanged","Microsoft$Xna$Framework$IUpdateable$addUpdateOrderChanged","removeUpdateOrderChanged","Microsoft$Xna$Framework$IUpdateable$removeUpdateOrderChanged","Initialize","Microsoft$Xna$Framework$IGameComponent$Initialize","Update","Microsoft$Xna$Framework$IUpdateable$Update","Dispose","System$IDisposable$Dispose","compareTo",["System$IComparable$1$Microsoft$Xna$Framework$GameComponent$compareTo","System$IComparable$1$compareTo"]],ctors:{init:function(){this._enabled=!0},ctor:function(game){this.$initialize();this.Game=game}},methods:{Initialize:function(){},Update:function(gameTime){},OnUpdateOrderChanged:function(sender,args){Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.UpdateOrderChanged,args)},OnEnabledChanged:function(sender,args){Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.EnabledChanged,args)},Dispose$1:function(disposing){},Dispose:function(){this.Dispose$1(!0);System.GC.SuppressFinalize(this)},compareTo:function(other){return other.UpdateOrder-this.UpdateOrder|0}}});Bridge.define("Microsoft.Xna.Framework.GameComponentCollection",{inherits:[System.Collections.ObjectModel.Collection$1(Microsoft.Xna.Framework.IGameComponent)],events:{ComponentAdded:null,ComponentRemoved:null},methods:{ClearItems:function(){for(var i=0;i<this.Count;i=i+1|0)this.OnComponentRemoved(new Microsoft.Xna.Framework.GameComponentCollectionEventArgs(this.getItem.call(this,i)));System.Collections.ObjectModel.Collection$1(Microsoft.Xna.Framework.IGameComponent).prototype.ClearItems.call(this)},InsertItem:function(index,item){if(this.indexOf(item)!==-1)throw new System.ArgumentException.$ctor1("Cannot Add Same Component Multiple Times");System.Collections.ObjectModel.Collection$1(Microsoft.Xna.Framework.IGameComponent).prototype.InsertItem.call(this,index,item);item!=null&&this.OnComponentAdded(new Microsoft.Xna.Framework.GameComponentCollectionEventArgs(item))},OnComponentAdded:function(eventArgs){Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.Microsoft.Xna.Framework.GameComponentCollectionEventArgs,this,this.ComponentAdded,eventArgs)},OnComponentRemoved:function(eventArgs){Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.Microsoft.Xna.Framework.GameComponentCollectionEventArgs,this,this.ComponentRemoved,eventArgs)},RemoveItem:function(index){var gameComponent=this.getItem.call(this,index);System.Collections.ObjectModel.Collection$1(Microsoft.Xna.Framework.IGameComponent).prototype.RemoveItem.call(this,index);gameComponent!=null&&this.OnComponentRemoved(new Microsoft.Xna.Framework.GameComponentCollectionEventArgs(gameComponent))},SetItem:function(index,item){throw new System.NotSupportedException.ctor;}}});Bridge.define("Microsoft.Xna.Framework.GameServiceContainer",{inherits:[Microsoft.Xna.Framework.IServiceProvider],fields:{services:null},alias:["GetService","Microsoft$Xna$Framework$IServiceProvider$GetService"],ctors:{ctor:function(){this.$initialize();this.services=new(System.Collections.Generic.Dictionary$2(Function,System.Object))}},methods:{AddService:function(type,provider){if(type==null)throw new System.ArgumentNullException.$ctor1("type");if(provider==null)throw new System.ArgumentNullException.$ctor1("provider");if(!Microsoft.Xna.Framework.Utilities.ReflectionHelpers.IsAssignableFrom(type,provider))throw new System.ArgumentException.$ctor1("The provider does not match the specified service type!");this.services.add(type,provider)},AddService$1:function(T,provider){this.AddService(T,provider)},GetService:function(type){if(type==null)throw new System.ArgumentNullException.$ctor1("type");var service={};return this.services.tryGetValue(type,service)?service.v:null},GetService$1:function(T){var service=this.GetService(T);return service==null?null:Bridge.cast(service,T)},RemoveService:function(type){if(type==null)throw new System.ArgumentNullException.$ctor1("type");this.services.remove(type)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.BlendState",{inherits:[Microsoft.Xna.Framework.Graphics.GraphicsResource],statics:{fields:{Additive:null,AlphaBlend:null,NonPremultiplied:null,Opaque:null},ctors:{ctor:function(){Microsoft.Xna.Framework.Graphics.BlendState.Additive=new Microsoft.Xna.Framework.Graphics.BlendState.$ctor2("BlendState.Additive",Microsoft.Xna.Framework.Graphics.Blend.SourceAlpha,Microsoft.Xna.Framework.Graphics.Blend.One);Microsoft.Xna.Framework.Graphics.BlendState.AlphaBlend=new Microsoft.Xna.Framework.Graphics.BlendState.$ctor2("BlendState.AlphaBlend",Microsoft.Xna.Framework.Graphics.Blend.One,Microsoft.Xna.Framework.Graphics.Blend.InverseSourceAlpha);Microsoft.Xna.Framework.Graphics.BlendState.NonPremultiplied=new Microsoft.Xna.Framework.Graphics.BlendState.$ctor2("BlendState.NonPremultiplied",Microsoft.Xna.Framework.Graphics.Blend.SourceAlpha,Microsoft.Xna.Framework.Graphics.Blend.InverseSourceAlpha);Microsoft.Xna.Framework.Graphics.BlendState.Opaque=new Microsoft.Xna.Framework.Graphics.BlendState.$ctor2("BlendState.Opaque",Microsoft.Xna.Framework.Graphics.Blend.One,Microsoft.Xna.Framework.Graphics.Blend.Zero)}}},fields:{_targetBlendState:null,_defaultStateObject:!1,_blendFactor:null,_multiSampleMask:0,_independentBlendEnable:!1},props:{AlphaBlendFunction:{get:function(){return this._targetBlendState[System.Array.index(0,this._targetBlendState)].AlphaBlendFunction},set:function(value){this.ThrowIfBound();this._targetBlendState[System.Array.index(0,this._targetBlendState)].AlphaBlendFunction=value}},AlphaDestinationBlend:{get:function(){return this._targetBlendState[System.Array.index(0,this._targetBlendState)].AlphaDestinationBlend},set:function(value){this.ThrowIfBound();this._targetBlendState[System.Array.index(0,this._targetBlendState)].AlphaDestinationBlend=value}},AlphaSourceBlend:{get:function(){return this._targetBlendState[System.Array.index(0,this._targetBlendState)].AlphaSourceBlend},set:function(value){this.ThrowIfBound();this._targetBlendState[System.Array.index(0,this._targetBlendState)].AlphaSourceBlend=value}},ColorBlendFunction:{get:function(){return this._targetBlendState[System.Array.index(0,this._targetBlendState)].ColorBlendFunction},set:function(value){this.ThrowIfBound();this._targetBlendState[System.Array.index(0,this._targetBlendState)].ColorBlendFunction=value}},ColorDestinationBlend:{get:function(){return this._targetBlendState[System.Array.index(0,this._targetBlendState)].ColorDestinationBlend},set:function(value){this.ThrowIfBound();this._targetBlendState[System.Array.index(0,this._targetBlendState)].ColorDestinationBlend=value}},ColorSourceBlend:{get:function(){return this._targetBlendState[System.Array.index(0,this._targetBlendState)].ColorSourceBlend},set:function(value){this.ThrowIfBound();this._targetBlendState[System.Array.index(0,this._targetBlendState)].ColorSourceBlend=value}},ColorWriteChannels:{get:function(){return this._targetBlendState[System.Array.index(0,this._targetBlendState)].ColorWriteChannels},set:function(value){this.ThrowIfBound();this._targetBlendState[System.Array.index(0,this._targetBlendState)].ColorWriteChannels=value}},ColorWriteChannels1:{get:function(){return this._targetBlendState[System.Array.index(1,this._targetBlendState)].ColorWriteChannels},set:function(value){this.ThrowIfBound();this._targetBlendState[System.Array.index(1,this._targetBlendState)].ColorWriteChannels=value}},ColorWriteChannels2:{get:function(){return this._targetBlendState[System.Array.index(2,this._targetBlendState)].ColorWriteChannels},set:function(value){this.ThrowIfBound();this._targetBlendState[System.Array.index(2,this._targetBlendState)].ColorWriteChannels=value}},ColorWriteChannels3:{get:function(){return this._targetBlendState[System.Array.index(3,this._targetBlendState)].ColorWriteChannels},set:function(value){this.ThrowIfBound();this._targetBlendState[System.Array.index(3,this._targetBlendState)].ColorWriteChannels=value}},BlendFactor:{get:function(){return this._blendFactor.$clone()},set:function(value){this.ThrowIfBound();this._blendFactor=value.$clone()}},MultiSampleMask:{get:function(){return this._multiSampleMask},set:function(value){this.ThrowIfBound();this._multiSampleMask=value}},IndependentBlendEnable:{get:function(){return this._independentBlendEnable},set:function(value){this.ThrowIfBound();this._independentBlendEnable=value}}},ctors:{init:function(){this._blendFactor=new Microsoft.Xna.Framework.Color},ctor:function(){this.$initialize();Microsoft.Xna.Framework.Graphics.GraphicsResource.ctor.call(this);this._targetBlendState=System.Array.init(4,null,Microsoft.Xna.Framework.Graphics.TargetBlendState);this._targetBlendState[System.Array.index(0,this._targetBlendState)]=new Microsoft.Xna.Framework.Graphics.TargetBlendState(this);this._targetBlendState[System.Array.index(1,this._targetBlendState)]=new Microsoft.Xna.Framework.Graphics.TargetBlendState(this);this._targetBlendState[System.Array.index(2,this._targetBlendState)]=new Microsoft.Xna.Framework.Graphics.TargetBlendState(this);this._targetBlendState[System.Array.index(3,this._targetBlendState)]=new Microsoft.Xna.Framework.Graphics.TargetBlendState(this);this._blendFactor=Microsoft.Xna.Framework.Color.White.$clone();this._multiSampleMask=2147483647;this._independentBlendEnable=!1},$ctor2:function(name,sourceBlend,destinationBlend){Microsoft.Xna.Framework.Graphics.BlendState.ctor.call(this);this.Name=name;this.ColorSourceBlend=sourceBlend;this.AlphaSourceBlend=sourceBlend;this.ColorDestinationBlend=destinationBlend;this.AlphaDestinationBlend=destinationBlend;this._defaultStateObject=!0},$ctor1:function(cloneSource){this.$initialize();Microsoft.Xna.Framework.Graphics.GraphicsResource.ctor.call(this);this.Name=cloneSource.Name;this._targetBlendState=System.Array.init(4,null,Microsoft.Xna.Framework.Graphics.TargetBlendState);this._targetBlendState[System.Array.index(0,this._targetBlendState)]=cloneSource.getItem(0).Clone(this);this._targetBlendState[System.Array.index(1,this._targetBlendState)]=cloneSource.getItem(1).Clone(this);this._targetBlendState[System.Array.index(2,this._targetBlendState)]=cloneSource.getItem(2).Clone(this);this._targetBlendState[System.Array.index(3,this._targetBlendState)]=cloneSource.getItem(3).Clone(this);this._blendFactor=cloneSource._blendFactor.$clone();this._multiSampleMask=cloneSource._multiSampleMask;this._independentBlendEnable=cloneSource._independentBlendEnable}},methods:{getItem:function(index){return this._targetBlendState[System.Array.index(index,this._targetBlendState)]},BindToGraphicsDevice:function(device){if(this._defaultStateObject)throw new System.InvalidOperationException.$ctor1("You cannot bind a default state object.");if(this.GraphicsDevice!=null&&!Bridge.referenceEquals(this.GraphicsDevice,device))throw new System.InvalidOperationException.$ctor1("This blend state is already bound to a different graphics device.");this.GraphicsDevice=device},ThrowIfBound:function(){if(this._defaultStateObject)throw new System.InvalidOperationException.$ctor1("You cannot modify a default blend state object.");if(this.GraphicsDevice!=null)throw new System.InvalidOperationException.$ctor1("You cannot modify the blend state after it has been bound to the graphics device!");},Clone:function(){return new Microsoft.Xna.Framework.Graphics.BlendState.$ctor1(this)},Dispose$1:function(disposing){if(!this.IsDisposed)for(var i=0;i<this._targetBlendState.length;i=i+1|0)this._targetBlendState[System.Array.index(i,this._targetBlendState)]=null;Microsoft.Xna.Framework.Graphics.GraphicsResource.prototype.Dispose$1.call(this,disposing)},PlatformApplyState:function(device,force){force===void 0&&(force=!1);var blendEnabled=!(this.ColorSourceBlend===Microsoft.Xna.Framework.Graphics.Blend.One&&this.ColorDestinationBlend===Microsoft.Xna.Framework.Graphics.Blend.Zero&&this.AlphaSourceBlend===Microsoft.Xna.Framework.Graphics.Blend.One&&this.AlphaDestinationBlend===Microsoft.Xna.Framework.Graphics.Blend.Zero);(force||blendEnabled!==device._lastBlendEnable)&&(blendEnabled?WebHelper.gl.enable(WebGL2RenderingContext.BLEND):WebHelper.gl.disable(WebGL2RenderingContext.BLEND),device._lastBlendEnable=blendEnabled);(force||this.ColorBlendFunction!==device._lastBlendState.ColorBlendFunction||this.AlphaBlendFunction!==device._lastBlendState.AlphaBlendFunction)&&(WebHelper.gl.blendEquationSeparate(Microsoft.Xna.Framework.Graphics.GraphicsExtensions.GetBlendEquationMode(this.ColorBlendFunction),Microsoft.Xna.Framework.Graphics.GraphicsExtensions.GetBlendEquationMode(this.AlphaBlendFunction)),device._lastBlendState.ColorBlendFunction=this.ColorBlendFunction,device._lastBlendState.AlphaBlendFunction=this.AlphaBlendFunction);(force||this.ColorSourceBlend!==device._lastBlendState.ColorSourceBlend||this.ColorDestinationBlend!==device._lastBlendState.ColorDestinationBlend||this.AlphaSourceBlend!==device._lastBlendState.AlphaSourceBlend||this.AlphaDestinationBlend!==device._lastBlendState.AlphaDestinationBlend)&&(WebHelper.gl.blendFuncSeparate(Microsoft.Xna.Framework.Graphics.GraphicsExtensions.GetBlendFactorSrc(this.ColorSourceBlend),Microsoft.Xna.Framework.Graphics.GraphicsExtensions.GetBlendFactorDest(this.ColorDestinationBlend),Microsoft.Xna.Framework.Graphics.GraphicsExtensions.GetBlendFactorSrc(this.AlphaSourceBlend),Microsoft.Xna.Framework.Graphics.GraphicsExtensions.GetBlendFactorDest(this.AlphaDestinationBlend)),device._lastBlendState.ColorSourceBlend=this.ColorSourceBlend,device._lastBlendState.ColorDestinationBlend=this.ColorDestinationBlend,device._lastBlendState.AlphaSourceBlend=this.AlphaSourceBlend,device._lastBlendState.AlphaDestinationBlend=this.AlphaDestinationBlend);(force||this.ColorWriteChannels!==device._lastBlendState.ColorWriteChannels)&&(WebHelper.gl.colorMask((this.ColorWriteChannels&Microsoft.Xna.Framework.Graphics.ColorWriteChannels.Red)!=0,(this.ColorWriteChannels&Microsoft.Xna.Framework.Graphics.ColorWriteChannels.Green)!=0,(this.ColorWriteChannels&Microsoft.Xna.Framework.Graphics.ColorWriteChannels.Blue)!=0,(this.ColorWriteChannels&Microsoft.Xna.Framework.Graphics.ColorWriteChannels.Alpha)!=0),device._lastBlendState.ColorWriteChannels=this.ColorWriteChannels)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.ConstantBuffer",{inherits:[Microsoft.Xna.Framework.Graphics.GraphicsResource],statics:{fields:{_lastConstantBufferApplied:null}},fields:{_buffer:null,_parameters:null,_offsets:null,_name:null,_stateKey:System.UInt64(0),_dirty:!1,_shaderProgram:null,_location:null,HashKey:0},props:{Dirty:{get:function(){return this._dirty}}},ctors:{ctor:function(cloneSource){this.$initialize();Microsoft.Xna.Framework.Graphics.GraphicsResource.ctor.call(this);this.GraphicsDevice=cloneSource.GraphicsDevice;this._name=cloneSource._name;this._parameters=cloneSource._parameters;this._offsets=cloneSource._offsets;this._buffer=Bridge.cast(System.Array.clone(cloneSource._buffer),System.Array.type(System.Object));this.PlatformInitialize()},$ctor1:function(device,sizeInBytes,parameterIndexes,parameterOffsets,name){this.$initialize();Microsoft.Xna.Framework.Graphics.GraphicsResource.ctor.call(this);this.GraphicsDevice=device;this._buffer=System.Array.init(sizeInBytes,null,System.Object);this._parameters=parameterIndexes;this._offsets=parameterOffsets;this._name=name;this.PlatformInitialize()}},methods:{Clear:function(){this.PlatformClear()},SetData:function(offset,rows,columns,data){var elementSize=4,rowSize=16,len,source,stride,y;if(rows===1&&columns===1)if(Bridge.is(data,Array))System.Buffer.BlockCopy(Bridge.as(data,Array),0,this._buffer,offset,elementSize);else throw new System.NotImplementedException.ctor;else if(rows===1||rows===4&&columns===4)len=Bridge.Int.mul(Bridge.Int.mul(rows,columns),elementSize),(this._buffer.length-offset|0)>len&&(len=this._buffer.length-offset|0),System.Buffer.BlockCopy(Bridge.as(data,Array),0,this._buffer,offset,Bridge.Int.mul(Bridge.Int.mul(rows,columns),elementSize));else for(source=Bridge.as(data,Array),stride=Bridge.Int.mul(columns,elementSize),y=0;y<rows;y=y+1|0)System.Buffer.BlockCopy(source,Bridge.Int.mul(stride,y),this._buffer,offset+Bridge.Int.mul(rowSize,y)|0,Bridge.Int.mul(columns,elementSize))},SetParameter:function(offset,param){var elementSize=4,rowSize=16,rowsUsed=0,elements=param.Elements,i,rowsUsedSubParam;if(elements.Count>0)for(i=0;i<elements.Count;i=i+1|0)rowsUsedSubParam=this.SetParameter(offset,elements.getItem(i)),offset=offset+Bridge.Int.mul(rowsUsedSubParam,rowSize)|0,rowsUsed=rowsUsed+rowsUsedSubParam|0;else if(param.Data!=null)switch(param.ParameterType){case Microsoft.Xna.Framework.Graphics.EffectParameterType.Single:case Microsoft.Xna.Framework.Graphics.EffectParameterType.Int32:case Microsoft.Xna.Framework.Graphics.EffectParameterType.Bool:param.ParameterClass===Microsoft.Xna.Framework.Graphics.EffectParameterClass.Matrix?(rowsUsed=param.ColumnCount,this.SetData(offset,param.ColumnCount,param.RowCount,param.Data)):(rowsUsed=param.RowCount,this.SetData(offset,param.RowCount,param.ColumnCount,param.Data));break;default:throw new System.NotSupportedException.$ctor1("Not supported!");}return rowsUsed},Update:function(parameters){var p,index,param,offset;for(this._stateKey.gt(Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey)&&(this._stateKey=System.UInt64(0)),p=0;p<this._parameters.length;p=p+1|0)(index=this._parameters[System.Array.index(p,this._parameters)],param=parameters.getItem(index),param.StateKey.lt(this._stateKey))||(offset=this._offsets[System.Array.index(p,this._offsets)],this._dirty=!0,this.SetParameter(offset,param));this._stateKey=Microsoft.Xna.Framework.Graphics.EffectParameter.NextStateKey},PlatformInitialize:function(){for(var data=System.Array.init(this._parameters.length,0,System.Byte),i=0;i<this._parameters.length;i=i+1|0)data[i]=(this._parameters[i]|this._offsets[i])&255;this.HashKey=MonoGame.Utilities.Hash.ComputeHash(data)},PlatformClear:function(){this._shaderProgram=null},PlatformApply:function(device,program){if(!Bridge.referenceEquals(this._shaderProgram,program)){var location=program.GetUniformLocation(this._name);if(location==null)return;this._shaderProgram=program;this._location=location;this._dirty=!0}(Bridge.referenceEquals(this,Microsoft.Xna.Framework.Graphics.ConstantBuffer._lastConstantBufferApplied)||(this._dirty=!0),this._dirty)&&(WebHelper.gl.uniform4fv(this._location,Bridge.unbox(this._buffer)),this._dirty=!1,Microsoft.Xna.Framework.Graphics.ConstantBuffer._lastConstantBufferApplied=this)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.DepthStencilState",{inherits:[Microsoft.Xna.Framework.Graphics.GraphicsResource],statics:{fields:{Default:null,DepthRead:null,None:null},ctors:{ctor:function(){Microsoft.Xna.Framework.Graphics.DepthStencilState.Default=new Microsoft.Xna.Framework.Graphics.DepthStencilState.$ctor2("DepthStencilState.Default",!0,!0);Microsoft.Xna.Framework.Graphics.DepthStencilState.DepthRead=new Microsoft.Xna.Framework.Graphics.DepthStencilState.$ctor2("DepthStencilState.DepthRead",!0,!1);Microsoft.Xna.Framework.Graphics.DepthStencilState.None=new Microsoft.Xna.Framework.Graphics.DepthStencilState.$ctor2("DepthStencilState.None",!1,!1)}},methods:{GetStencilFunc:function($function){switch($function){case Microsoft.Xna.Framework.Graphics.CompareFunction.Always:return WebGL2RenderingContext.ALWAYS;case Microsoft.Xna.Framework.Graphics.CompareFunction.Equal:return WebGL2RenderingContext.EQUAL;case Microsoft.Xna.Framework.Graphics.CompareFunction.Greater:return WebGL2RenderingContext.GREATER;case Microsoft.Xna.Framework.Graphics.CompareFunction.GreaterEqual:return WebGL2RenderingContext.GEQUAL;case Microsoft.Xna.Framework.Graphics.CompareFunction.Less:return WebGL2RenderingContext.LESS;case Microsoft.Xna.Framework.Graphics.CompareFunction.LessEqual:return WebGL2RenderingContext.LEQUAL;case Microsoft.Xna.Framework.Graphics.CompareFunction.Never:return WebGL2RenderingContext.NEVER;case Microsoft.Xna.Framework.Graphics.CompareFunction.NotEqual:return WebGL2RenderingContext.NOTEQUAL;default:return WebGL2RenderingContext.ALWAYS}},GetStencilOp:function(operation){switch(operation){case Microsoft.Xna.Framework.Graphics.StencilOperation.Keep:return WebGL2RenderingContext.KEEP;case Microsoft.Xna.Framework.Graphics.StencilOperation.Decrement:return WebGL2RenderingContext.DECR_WRAP;case Microsoft.Xna.Framework.Graphics.StencilOperation.DecrementSaturation:return WebGL2RenderingContext.DECR;case Microsoft.Xna.Framework.Graphics.StencilOperation.IncrementSaturation:return WebGL2RenderingContext.INCR;case Microsoft.Xna.Framework.Graphics.StencilOperation.Increment:return WebGL2RenderingContext.INCR_WRAP;case Microsoft.Xna.Framework.Graphics.StencilOperation.Invert:return WebGL2RenderingContext.INVERT;case Microsoft.Xna.Framework.Graphics.StencilOperation.Replace:return WebGL2RenderingContext.REPLACE;case Microsoft.Xna.Framework.Graphics.StencilOperation.Zero:return WebGL2RenderingContext.ZERO;default:return WebGL2RenderingContext.KEEP}}}},fields:{_defaultStateObject:!1,_depthBufferEnable:!1,_depthBufferWriteEnable:!1,_counterClockwiseStencilDepthBufferFail:0,_counterClockwiseStencilFail:0,_counterClockwiseStencilFunction:0,_counterClockwiseStencilPass:0,_depthBufferFunction:0,_referenceStencil:0,_stencilDepthBufferFail:0,_stencilEnable:!1,_stencilFail:0,_stencilFunction:0,_stencilMask:0,_stencilPass:0,_stencilWriteMask:0,_twoSidedStencilMode:!1},props:{DepthBufferEnable:{get:function(){return this._depthBufferEnable},set:function(value){this.ThrowIfBound();this._depthBufferEnable=value}},DepthBufferWriteEnable:{get:function(){return this._depthBufferWriteEnable},set:function(value){this.ThrowIfBound();this._depthBufferWriteEnable=value}},CounterClockwiseStencilDepthBufferFail:{get:function(){return this._counterClockwiseStencilDepthBufferFail},set:function(value){this.ThrowIfBound();this._counterClockwiseStencilDepthBufferFail=value}},CounterClockwiseStencilFail:{get:function(){return this._counterClockwiseStencilFail},set:function(value){this.ThrowIfBound();this._counterClockwiseStencilFail=value}},CounterClockwiseStencilFunction:{get:function(){return this._counterClockwiseStencilFunction},set:function(value){this.ThrowIfBound();this._counterClockwiseStencilFunction=value}},CounterClockwiseStencilPass:{get:function(){return this._counterClockwiseStencilPass},set:function(value){this.ThrowIfBound();this._counterClockwiseStencilPass=value}},DepthBufferFunction:{get:function(){return this._depthBufferFunction},set:function(value){this.ThrowIfBound();this._depthBufferFunction=value}},ReferenceStencil:{get:function(){return this._referenceStencil},set:function(value){this.ThrowIfBound();this._referenceStencil=value}},StencilDepthBufferFail:{get:function(){return this._stencilDepthBufferFail},set:function(value){this.ThrowIfBound();this._stencilDepthBufferFail=value}},StencilEnable:{get:function(){return this._stencilEnable},set:function(value){this.ThrowIfBound();this._stencilEnable=value}},StencilFail:{get:function(){return this._stencilFail},set:function(value){this.ThrowIfBound();this._stencilFail=value}},StencilFunction:{get:function(){return this._stencilFunction},set:function(value){this.ThrowIfBound();this._stencilFunction=value}},StencilMask:{get:function(){return this._stencilMask},set:function(value){this.ThrowIfBound();this._stencilMask=value}},StencilPass:{get:function(){return this._stencilPass},set:function(value){this.ThrowIfBound();this._stencilPass=value}},StencilWriteMask:{get:function(){return this._stencilWriteMask},set:function(value){this.ThrowIfBound();this._stencilWriteMask=value}},TwoSidedStencilMode:{get:function(){return this._twoSidedStencilMode},set:function(value){this.ThrowIfBound();this._twoSidedStencilMode=value}}},ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Graphics.GraphicsResource.ctor.call(this);this.DepthBufferEnable=!0;this.DepthBufferWriteEnable=!0;this.DepthBufferFunction=Microsoft.Xna.Framework.Graphics.CompareFunction.LessEqual;this.StencilEnable=!1;this.StencilFunction=Microsoft.Xna.Framework.Graphics.CompareFunction.Always;this.StencilPass=Microsoft.Xna.Framework.Graphics.StencilOperation.Keep;this.StencilFail=Microsoft.Xna.Framework.Graphics.StencilOperation.Keep;this.StencilDepthBufferFail=Microsoft.Xna.Framework.Graphics.StencilOperation.Keep;this.TwoSidedStencilMode=!1;this.CounterClockwiseStencilFunction=Microsoft.Xna.Framework.Graphics.CompareFunction.Always;this.CounterClockwiseStencilFail=Microsoft.Xna.Framework.Graphics.StencilOperation.Keep;this.CounterClockwiseStencilPass=Microsoft.Xna.Framework.Graphics.StencilOperation.Keep;this.CounterClockwiseStencilDepthBufferFail=Microsoft.Xna.Framework.Graphics.StencilOperation.Keep;this.StencilMask=2147483647;this.StencilWriteMask=2147483647;this.ReferenceStencil=0},$ctor2:function(name,depthBufferEnable,depthBufferWriteEnable){Microsoft.Xna.Framework.Graphics.DepthStencilState.ctor.call(this);this.Name=name;this._depthBufferEnable=depthBufferEnable;this._depthBufferWriteEnable=depthBufferWriteEnable;this._defaultStateObject=!0},$ctor1:function(cloneSource){this.$initialize();Microsoft.Xna.Framework.Graphics.GraphicsResource.ctor.call(this);this.Name=cloneSource.Name;this._depthBufferEnable=cloneSource._depthBufferEnable;this._depthBufferWriteEnable=cloneSource._depthBufferWriteEnable;this._counterClockwiseStencilDepthBufferFail=cloneSource._counterClockwiseStencilDepthBufferFail;this._counterClockwiseStencilFail=cloneSource._counterClockwiseStencilFail;this._counterClockwiseStencilFunction=cloneSource._counterClockwiseStencilFunction;this._counterClockwiseStencilPass=cloneSource._counterClockwiseStencilPass;this._depthBufferFunction=cloneSource._depthBufferFunction;this._referenceStencil=cloneSource._referenceStencil;this._stencilDepthBufferFail=cloneSource._stencilDepthBufferFail;this._stencilEnable=cloneSource._stencilEnable;this._stencilFail=cloneSource._stencilFail;this._stencilFunction=cloneSource._stencilFunction;this._stencilMask=cloneSource._stencilMask;this._stencilPass=cloneSource._stencilPass;this._stencilWriteMask=cloneSource._stencilWriteMask;this._twoSidedStencilMode=cloneSource._twoSidedStencilMode}},methods:{BindToGraphicsDevice:function(device){if(this._defaultStateObject)throw new System.InvalidOperationException.$ctor1("You cannot bind a default state object.");if(this.GraphicsDevice!=null&&!Bridge.referenceEquals(this.GraphicsDevice,device))throw new System.InvalidOperationException.$ctor1("This depth stencil state is already bound to a different graphics device.");this.GraphicsDevice=device},ThrowIfBound:function(){if(this._defaultStateObject)throw new System.InvalidOperationException.$ctor1("You cannot modify a default depth stencil state object.");if(this.GraphicsDevice!=null)throw new System.InvalidOperationException.$ctor1("You cannot modify the depth stencil state after it has been bound to the graphics device!");},Clone:function(){return new Microsoft.Xna.Framework.Graphics.DepthStencilState.$ctor1(this)},Dispose$1:function(disposing){!this.IsDisposed;Microsoft.Xna.Framework.Graphics.GraphicsResource.prototype.Dispose$1.call(this,disposing)},PlatformApplyState:function(device,force){if(force===void 0&&(force=!1),(force||this.DepthBufferEnable!==device._lastDepthStencilState.DepthBufferEnable)&&(this.DepthBufferEnable?WebHelper.gl.enable(WebGL2RenderingContext.DEPTH_TEST):WebHelper.gl.disable(WebGL2RenderingContext.DEPTH_TEST),device._lastDepthStencilState.DepthBufferEnable=this.DepthBufferEnable),(force||this.DepthBufferFunction!==device._lastDepthStencilState.DepthBufferFunction)&&(WebHelper.gl.depthFunc(Microsoft.Xna.Framework.Graphics.GraphicsExtensions.GetDepthFunction(this.DepthBufferFunction)),device._lastDepthStencilState.DepthBufferFunction=this.DepthBufferFunction),(force||this.DepthBufferWriteEnable!==device._lastDepthStencilState.DepthBufferWriteEnable)&&(WebHelper.gl.depthMask(this.DepthBufferWriteEnable),device._lastDepthStencilState.DepthBufferWriteEnable=this.DepthBufferWriteEnable),(force||this.StencilEnable!==device._lastDepthStencilState.StencilEnable)&&(this.StencilEnable?WebHelper.gl.enable(WebGL2RenderingContext.STENCIL_TEST):WebHelper.gl.disable(WebGL2RenderingContext.STENCIL_TEST),device._lastDepthStencilState.StencilEnable=this.StencilEnable),this.TwoSidedStencilMode){var cullFaceModeFront=WebGL2RenderingContext.FRONT,cullFaceModeBack=WebGL2RenderingContext.BACK,stencilFaceFront=WebGL2RenderingContext.FRONT,stencilFaceBack=WebGL2RenderingContext.BACK;(force||this.TwoSidedStencilMode!==device._lastDepthStencilState.TwoSidedStencilMode||this.StencilFunction!==device._lastDepthStencilState.StencilFunction||this.ReferenceStencil!==device._lastDepthStencilState.ReferenceStencil||this.StencilMask!==device._lastDepthStencilState.StencilMask)&&(WebHelper.gl.stencilFuncSeparate(cullFaceModeFront,Microsoft.Xna.Framework.Graphics.DepthStencilState.GetStencilFunc(this.StencilFunction),this.ReferenceStencil,this.StencilMask),device._lastDepthStencilState.StencilFunction=this.StencilFunction,device._lastDepthStencilState.ReferenceStencil=this.ReferenceStencil,device._lastDepthStencilState.StencilMask=this.StencilMask);(force||this.TwoSidedStencilMode!==device._lastDepthStencilState.TwoSidedStencilMode||this.CounterClockwiseStencilFunction!==device._lastDepthStencilState.CounterClockwiseStencilFunction||this.ReferenceStencil!==device._lastDepthStencilState.ReferenceStencil||this.StencilMask!==device._lastDepthStencilState.StencilMask)&&(WebHelper.gl.stencilFuncSeparate(cullFaceModeBack,Microsoft.Xna.Framework.Graphics.DepthStencilState.GetStencilFunc(this.CounterClockwiseStencilFunction),this.ReferenceStencil,this.StencilMask),device._lastDepthStencilState.CounterClockwiseStencilFunction=this.CounterClockwiseStencilFunction,device._lastDepthStencilState.ReferenceStencil=this.ReferenceStencil,device._lastDepthStencilState.StencilMask=this.StencilMask);(force||this.TwoSidedStencilMode!==device._lastDepthStencilState.TwoSidedStencilMode||this.StencilFail!==device._lastDepthStencilState.StencilFail||this.StencilDepthBufferFail!==device._lastDepthStencilState.StencilDepthBufferFail||this.StencilPass!==device._lastDepthStencilState.StencilPass)&&(WebHelper.gl.stencilOpSeparate(stencilFaceFront,Microsoft.Xna.Framework.Graphics.DepthStencilState.GetStencilOp(this.StencilFail),Microsoft.Xna.Framework.Graphics.DepthStencilState.GetStencilOp(this.StencilDepthBufferFail),Microsoft.Xna.Framework.Graphics.DepthStencilState.GetStencilOp(this.StencilPass)),device._lastDepthStencilState.StencilFail=this.StencilFail,device._lastDepthStencilState.StencilDepthBufferFail=this.StencilDepthBufferFail,device._lastDepthStencilState.StencilPass=this.StencilPass);(force||this.TwoSidedStencilMode!==device._lastDepthStencilState.TwoSidedStencilMode||this.CounterClockwiseStencilFail!==device._lastDepthStencilState.CounterClockwiseStencilFail||this.CounterClockwiseStencilDepthBufferFail!==device._lastDepthStencilState.CounterClockwiseStencilDepthBufferFail||this.CounterClockwiseStencilPass!==device._lastDepthStencilState.CounterClockwiseStencilPass)&&(WebHelper.gl.stencilOpSeparate(stencilFaceBack,Microsoft.Xna.Framework.Graphics.DepthStencilState.GetStencilOp(this.CounterClockwiseStencilFail),Microsoft.Xna.Framework.Graphics.DepthStencilState.GetStencilOp(this.CounterClockwiseStencilDepthBufferFail),Microsoft.Xna.Framework.Graphics.DepthStencilState.GetStencilOp(this.CounterClockwiseStencilPass)),device._lastDepthStencilState.CounterClockwiseStencilFail=this.CounterClockwiseStencilFail,device._lastDepthStencilState.CounterClockwiseStencilDepthBufferFail=this.CounterClockwiseStencilDepthBufferFail,device._lastDepthStencilState.CounterClockwiseStencilPass=this.CounterClockwiseStencilPass)}else(force||this.TwoSidedStencilMode!==device._lastDepthStencilState.TwoSidedStencilMode||this.StencilFunction!==device._lastDepthStencilState.StencilFunction||this.ReferenceStencil!==device._lastDepthStencilState.ReferenceStencil||this.StencilMask!==device._lastDepthStencilState.StencilMask)&&(WebHelper.gl.stencilFunc(Microsoft.Xna.Framework.Graphics.DepthStencilState.GetStencilFunc(this.StencilFunction),this.ReferenceStencil,this.StencilMask),device._lastDepthStencilState.StencilFunction=this.StencilFunction,device._lastDepthStencilState.ReferenceStencil=this.ReferenceStencil,device._lastDepthStencilState.StencilMask=this.StencilMask),(force||this.TwoSidedStencilMode!==device._lastDepthStencilState.TwoSidedStencilMode||this.StencilFail!==device._lastDepthStencilState.StencilFail||this.StencilDepthBufferFail!==device._lastDepthStencilState.StencilDepthBufferFail||this.StencilPass!==device._lastDepthStencilState.StencilPass)&&(WebHelper.gl.stencilOp(Microsoft.Xna.Framework.Graphics.DepthStencilState.GetStencilOp(this.StencilFail),Microsoft.Xna.Framework.Graphics.DepthStencilState.GetStencilOp(this.StencilDepthBufferFail),Microsoft.Xna.Framework.Graphics.DepthStencilState.GetStencilOp(this.StencilPass)),device._lastDepthStencilState.StencilFail=this.StencilFail,device._lastDepthStencilState.StencilDepthBufferFail=this.StencilDepthBufferFail,device._lastDepthStencilState.StencilPass=this.StencilPass);device._lastDepthStencilState.TwoSidedStencilMode=this.TwoSidedStencilMode;(force||this.StencilWriteMask!==device._lastDepthStencilState.StencilWriteMask)&&(WebHelper.gl.stencilMask(this.StencilWriteMask),device._lastDepthStencilState.StencilWriteMask=this.StencilWriteMask)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.DisplayModeCollection",{inherits:[System.Collections.Generic.IEnumerable$1(Microsoft.Xna.Framework.Graphics.DisplayMode)],fields:{_modes:null},alias:["GetEnumerator",["System$Collections$Generic$IEnumerable$1$Microsoft$Xna$Framework$Graphics$DisplayMode$GetEnumerator","System$Collections$Generic$IEnumerable$1$GetEnumerator"]],ctors:{ctor:function(modes){this.$initialize();modes.Sort$2(function(a,b){return Microsoft.Xna.Framework.Graphics.DisplayMode.op_Equality(a,b)?0:a.Format<=b.Format&&a.Width<=b.Width&&a.Height<=b.Height?-1:1});this._modes=modes}},methods:{getItem:function(format){var $t,list=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Graphics.DisplayMode).ctor),mode;$t=Bridge.getEnumerator(this._modes);try{while($t.moveNext())mode=$t.Current,mode.Format===format&&list.add(mode)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return list},GetEnumerator:function(){return this._modes.GetEnumerator().$clone()},System$Collections$IEnumerable$GetEnumerator:function(){return this._modes.GetEnumerator().$clone()}}});Bridge.define("Microsoft.Xna.Framework.Graphics.EffectAnnotationCollection",{inherits:[System.Collections.Generic.IEnumerable$1(Microsoft.Xna.Framework.Graphics.EffectAnnotation)],statics:{fields:{Empty:null},ctors:{init:function(){this.Empty=new Microsoft.Xna.Framework.Graphics.EffectAnnotationCollection(System.Array.init(0,null,Microsoft.Xna.Framework.Graphics.EffectAnnotation))}}},fields:{_annotations:null},props:{Count:{get:function(){return this._annotations.length}}},alias:["GetEnumerator",["System$Collections$Generic$IEnumerable$1$Microsoft$Xna$Framework$Graphics$EffectAnnotation$GetEnumerator","System$Collections$Generic$IEnumerable$1$GetEnumerator"]],ctors:{ctor:function(annotations){this.$initialize();this._annotations=annotations}},methods:{getItem:function(index){return this._annotations[System.Array.index(index,this._annotations)]},getItem$1:function(name){var $t,annotation;$t=Bridge.getEnumerator(this._annotations);try{while($t.moveNext())if(annotation=$t.Current,Bridge.referenceEquals(annotation.Name,name))return annotation}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return null},GetEnumerator:function(){return Bridge.getEnumerator(Bridge.cast(this._annotations,System.Collections.Generic.IEnumerable$1(Microsoft.Xna.Framework.Graphics.EffectAnnotation)),Microsoft.Xna.Framework.Graphics.EffectAnnotation)},System$Collections$IEnumerable$GetEnumerator:function(){return Bridge.getEnumerator(this._annotations)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.EffectParameterCollection",{inherits:[System.Collections.Generic.IEnumerable$1(Microsoft.Xna.Framework.Graphics.EffectParameter)],statics:{fields:{Empty:null},ctors:{init:function(){this.Empty=new Microsoft.Xna.Framework.Graphics.EffectParameterCollection.ctor(System.Array.init(0,null,Microsoft.Xna.Framework.Graphics.EffectParameter))}}},fields:{_parameters:null,_indexLookup:null},props:{Count:{get:function(){return this._parameters.length}}},alias:["GetEnumerator",["System$Collections$Generic$IEnumerable$1$Microsoft$Xna$Framework$Graphics$EffectParameter$GetEnumerator","System$Collections$Generic$IEnumerable$1$GetEnumerator"]],ctors:{ctor:function(parameters){var i,name;for(this.$initialize(),this._parameters=parameters,this._indexLookup=new(System.Collections.Generic.Dictionary$2(System.String,System.Int32)),i=0;i<this._parameters.length;i=i+1|0)name=this._parameters[System.Array.index(i,this._parameters)].Name,System.String.isNullOrWhiteSpace(name)||this._indexLookup.add(name,i)},$ctor1:function(parameters,indexLookup){this.$initialize();this._parameters=parameters;this._indexLookup=indexLookup}},methods:{getItem:function(index){return this._parameters[System.Array.index(index,this._parameters)]},getItem$1:function(name){var index={};return this._indexLookup.tryGetValue(name,index)?this._parameters[System.Array.index(index.v,this._parameters)]:null},Clone:function(){var parameters,i;if(this._parameters.length===0)return Microsoft.Xna.Framework.Graphics.EffectParameterCollection.Empty;for(parameters=System.Array.init(this._parameters.length,null,Microsoft.Xna.Framework.Graphics.EffectParameter),i=0;i<this._parameters.length;i=i+1|0)parameters[System.Array.index(i,parameters)]=new Microsoft.Xna.Framework.Graphics.EffectParameter.ctor(this._parameters[System.Array.index(i,this._parameters)]);return new Microsoft.Xna.Framework.Graphics.EffectParameterCollection.$ctor1(parameters,this._indexLookup)},GetEnumerator:function(){return Bridge.getEnumerator(Bridge.cast(this._parameters,System.Collections.Generic.IEnumerable$1(Microsoft.Xna.Framework.Graphics.EffectParameter)),Microsoft.Xna.Framework.Graphics.EffectParameter)},System$Collections$IEnumerable$GetEnumerator:function(){return Bridge.getEnumerator(this._parameters)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.EffectPassCollection",{inherits:[System.Collections.Generic.IEnumerable$1(Microsoft.Xna.Framework.Graphics.EffectPass)],fields:{_passes:null},props:{Count:{get:function(){return this._passes.length}}},alias:["System$Collections$Generic$IEnumerable$1$Microsoft$Xna$Framework$Graphics$EffectPass$GetEnumerator","System$Collections$Generic$IEnumerable$1$GetEnumerator"],ctors:{ctor:function(passes){this.$initialize();this._passes=passes}},methods:{getItem:function(index){return this._passes[System.Array.index(index,this._passes)]},getItem$1:function(name){var $t,pass;$t=Bridge.getEnumerator(this._passes);try{while($t.moveNext())if(pass=$t.Current,Bridge.referenceEquals(pass.Name,name))return pass}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return null},Clone:function(effect){for(var passes=System.Array.init(this._passes.length,null,Microsoft.Xna.Framework.Graphics.EffectPass),i=0;i<this._passes.length;i=i+1|0)passes[System.Array.index(i,passes)]=new Microsoft.Xna.Framework.Graphics.EffectPass.ctor(effect,this._passes[System.Array.index(i,this._passes)]);return new Microsoft.Xna.Framework.Graphics.EffectPassCollection(passes)},GetEnumerator:function(){return new Microsoft.Xna.Framework.Graphics.EffectPassCollection.Enumerator.$ctor1(this._passes)},System$Collections$Generic$IEnumerable$1$Microsoft$Xna$Framework$Graphics$EffectPass$GetEnumerator:function(){return Bridge.getEnumerator(Bridge.cast(this._passes,System.Collections.Generic.IEnumerable$1(Microsoft.Xna.Framework.Graphics.EffectPass)),Microsoft.Xna.Framework.Graphics.EffectPass)},System$Collections$IEnumerable$GetEnumerator:function(){return Bridge.getEnumerator(this._passes)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.EffectPassCollection.Enumerator",{inherits:[System.Collections.Generic.IEnumerator$1(Microsoft.Xna.Framework.Graphics.EffectPass)],$kind:"nested struct",statics:{methods:{getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.EffectPassCollection.Enumerator}}},fields:{_array:null,_index:0,_current:null},props:{Current:{get:function(){return this._current}},System$Collections$IEnumerator$Current:{get:function(){if(this._index===(this._array.length+1|0))throw new System.InvalidOperationException.ctor;return this.Current}}},alias:["moveNext","System$Collections$IEnumerator$moveNext","Current",["System$Collections$Generic$IEnumerator$1$Microsoft$Xna$Framework$Graphics$EffectPass$Current$1","System$Collections$Generic$IEnumerator$1$Current$1"],"Dispose","System$IDisposable$Dispose"],ctors:{$ctor1:function(array){this.$initialize();this._array=array;this._index=0;this._current=null},ctor:function(){this.$initialize()}},methods:{moveNext:function(){return this._index<this._array.length?(this._current=this._array[System.Array.index(this._index,this._array)],this._index=this._index+1|0,!0):(this._index=this._array.length+1|0,this._current=null,!1)},Dispose:function(){},System$Collections$IEnumerator$reset:function(){this._index=0;this._current=null},getHashCode:function(){return Bridge.addHash([3788985113,this._array,this._index,this._current])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Graphics.EffectPassCollection.Enumerator)?Bridge.equals(this._array,o._array)&&Bridge.equals(this._index,o._index)&&Bridge.equals(this._current,o._current):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.EffectPassCollection.Enumerator;return s._array=this._array,s._index=this._index,s._current=this._current,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.EffectTechniqueCollection",{inherits:[System.Collections.Generic.IEnumerable$1(Microsoft.Xna.Framework.Graphics.EffectTechnique)],fields:{_techniques:null},props:{Count:{get:function(){return this._techniques.length}}},alias:["GetEnumerator",["System$Collections$Generic$IEnumerable$1$Microsoft$Xna$Framework$Graphics$EffectTechnique$GetEnumerator","System$Collections$Generic$IEnumerable$1$GetEnumerator"]],ctors:{ctor:function(techniques){this.$initialize();this._techniques=techniques}},methods:{getItem:function(index){return this._techniques[System.Array.index(index,this._techniques)]},getItem$1:function(name){var $t,technique;$t=Bridge.getEnumerator(this._techniques);try{while($t.moveNext())if(technique=$t.Current,Bridge.referenceEquals(technique.Name,name))return technique}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return null},Clone:function(effect){for(var techniques=System.Array.init(this._techniques.length,null,Microsoft.Xna.Framework.Graphics.EffectTechnique),i=0;i<this._techniques.length;i=i+1|0)techniques[System.Array.index(i,techniques)]=new Microsoft.Xna.Framework.Graphics.EffectTechnique.ctor(effect,this._techniques[System.Array.index(i,this._techniques)]);return new Microsoft.Xna.Framework.Graphics.EffectTechniqueCollection(techniques)},GetEnumerator:function(){return Bridge.getEnumerator(Bridge.cast(this._techniques,System.Collections.Generic.IEnumerable$1(Microsoft.Xna.Framework.Graphics.EffectTechnique)),Microsoft.Xna.Framework.Graphics.EffectTechnique)},System$Collections$IEnumerable$GetEnumerator:function(){return Bridge.getEnumerator(this._techniques)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.GraphicsDevice.RenderTargetBindingArrayComparer",{inherits:[System.Collections.Generic.IEqualityComparer$1(System.Array.type(Microsoft.Xna.Framework.Graphics.RenderTargetBinding))],$kind:"nested class",alias:["equals2",["System$Collections$Generic$IEqualityComparer$1$Microsoft$Xna$Framework$Graphics$RenderTargetBinding$Array$equals2","System$Collections$Generic$IEqualityComparer$1$equals2"],"getHashCode2",["System$Collections$Generic$IEqualityComparer$1$Microsoft$Xna$Framework$Graphics$RenderTargetBinding$Array$getHashCode2","System$Collections$Generic$IEqualityComparer$1$getHashCode2"]],methods:{equals2:function(first,second){if(Bridge.referenceEquals(first,second))return!0;if(first==null||second==null||first.length!==second.length)return!1;for(var i=0;i<first.length;i=i+1|0)if(!Bridge.referenceEquals(first[System.Array.index(i,first)].RenderTarget,second[System.Array.index(i,second)].RenderTarget)||first[System.Array.index(i,first)].ArraySlice!==second[System.Array.index(i,second)].ArraySlice)return!1;return!0},getHashCode2:function(array){var $t,hash,item;if(array!=null){hash=17;$t=Bridge.getEnumerator(array);try{while($t.moveNext())item=$t.Current.$clone(),item.RenderTarget!=null&&(hash=Bridge.Int.mul(hash,23)+Bridge.getHashCode(item.RenderTarget)|0),hash=Bridge.Int.mul(hash,23)+Bridge.getHashCode(item.ArraySlice)|0}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return hash}return 0}}});Bridge.define("Microsoft.Xna.Framework.Graphics.ImmutableVertexInputLayout",{inherits:[Microsoft.Xna.Framework.Graphics.VertexInputLayout],fields:{_hashCode:0},ctors:{ctor:function(vertexDeclarations,instanceFrequencies){this.$initialize();Microsoft.Xna.Framework.Graphics.VertexInputLayout.ctor.call(this,vertexDeclarations,instanceFrequencies,vertexDeclarations.length);this._hashCode=Microsoft.Xna.Framework.Graphics.VertexInputLayout.prototype.getHashCode.call(this)}},methods:{getHashCode:function(){return this._hashCode}}});Bridge.definei("Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector$1",function(TPacked){return{inherits:[Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector],$kind:"interface"}});Bridge.define("Microsoft.Xna.Framework.Graphics.RasterizerState",{inherits:[Microsoft.Xna.Framework.Graphics.GraphicsResource],statics:{fields:{CullClockwise:null,CullCounterClockwise:null,CullNone:null},ctors:{ctor:function(){Microsoft.Xna.Framework.Graphics.RasterizerState.CullClockwise=new Microsoft.Xna.Framework.Graphics.RasterizerState.$ctor2("RasterizerState.CullClockwise",Microsoft.Xna.Framework.Graphics.CullMode.CullClockwiseFace);Microsoft.Xna.Framework.Graphics.RasterizerState.CullCounterClockwise=new Microsoft.Xna.Framework.Graphics.RasterizerState.$ctor2("RasterizerState.CullCounterClockwise",Microsoft.Xna.Framework.Graphics.CullMode.CullCounterClockwiseFace);Microsoft.Xna.Framework.Graphics.RasterizerState.CullNone=new Microsoft.Xna.Framework.Graphics.RasterizerState.$ctor2("RasterizerState.CullNone",Microsoft.Xna.Framework.Graphics.CullMode.None)}}},fields:{_defaultStateObject:!1,_cullMode:0,_depthBias:0,_fillMode:0,_multiSampleAntiAlias:!1,_scissorTestEnable:!1,_slopeScaleDepthBias:0,_depthClipEnable:!1},props:{CullMode:{get:function(){return this._cullMode},set:function(value){this.ThrowIfBound();this._cullMode=value}},DepthBias:{get:function(){return this._depthBias},set:function(value){this.ThrowIfBound();this._depthBias=value}},FillMode:{get:function(){return this._fillMode},set:function(value){this.ThrowIfBound();this._fillMode=value}},MultiSampleAntiAlias:{get:function(){return this._multiSampleAntiAlias},set:function(value){this.ThrowIfBound();this._multiSampleAntiAlias=value}},ScissorTestEnable:{get:function(){return this._scissorTestEnable},set:function(value){this.ThrowIfBound();this._scissorTestEnable=value}},SlopeScaleDepthBias:{get:function(){return this._slopeScaleDepthBias},set:function(value){this.ThrowIfBound();this._slopeScaleDepthBias=value}},DepthClipEnable:{get:function(){return this._depthClipEnable},set:function(value){this.ThrowIfBound();this._depthClipEnable=value}}},ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Graphics.GraphicsResource.ctor.call(this);this.CullMode=Microsoft.Xna.Framework.Graphics.CullMode.CullCounterClockwiseFace;this.FillMode=Microsoft.Xna.Framework.Graphics.FillMode.Solid;this.DepthBias=0;this.MultiSampleAntiAlias=!0;this.ScissorTestEnable=!1;this.SlopeScaleDepthBias=0;this.DepthClipEnable=!0},$ctor2:function(name,cullMode){Microsoft.Xna.Framework.Graphics.RasterizerState.ctor.call(this);this.Name=name;this._cullMode=cullMode;this._defaultStateObject=!0},$ctor1:function(cloneSource){this.$initialize();Microsoft.Xna.Framework.Graphics.GraphicsResource.ctor.call(this);this.Name=cloneSource.Name;this._cullMode=cloneSource._cullMode;this._fillMode=cloneSource._fillMode;this._depthBias=cloneSource._depthBias;this._multiSampleAntiAlias=cloneSource._multiSampleAntiAlias;this._scissorTestEnable=cloneSource._scissorTestEnable;this._slopeScaleDepthBias=cloneSource._slopeScaleDepthBias;this._depthClipEnable=cloneSource._depthClipEnable}},methods:{BindToGraphicsDevice:function(device){if(this._defaultStateObject)throw new System.InvalidOperationException.$ctor1("You cannot bind a default state object.");if(this.GraphicsDevice!=null&&!Bridge.referenceEquals(this.GraphicsDevice,device))throw new System.InvalidOperationException.$ctor1("This rasterizer state is already bound to a different graphics device.");this.GraphicsDevice=device},ThrowIfBound:function(){if(this._defaultStateObject)throw new System.InvalidOperationException.$ctor1("You cannot modify a default rasterizer state object.");if(this.GraphicsDevice!=null)throw new System.InvalidOperationException.$ctor1("You cannot modify the rasterizer state after it has been bound to the graphics device!");},Clone:function(){return new Microsoft.Xna.Framework.Graphics.RasterizerState.$ctor1(this)},Dispose$1:function(disposing){!this.IsDisposed;Microsoft.Xna.Framework.Graphics.GraphicsResource.prototype.Dispose$1.call(this,disposing)},PlatformApplyState:function(device,force){var offscreen,depthMul;if(force===void 0&&(force=!1),offscreen=device.IsRenderTargetBound,force&&WebHelper.gl.disable(WebGL2RenderingContext.DITHER),this.CullMode===Microsoft.Xna.Framework.Graphics.CullMode.None?WebHelper.gl.disable(WebGL2RenderingContext.CULL_FACE):(WebHelper.gl.enable(WebGL2RenderingContext.CULL_FACE),WebHelper.gl.cullFace(WebGL2RenderingContext.BACK),this.CullMode===Microsoft.Xna.Framework.Graphics.CullMode.CullClockwiseFace?offscreen?WebHelper.gl.frontFace(WebGL2RenderingContext.CW):WebHelper.gl.frontFace(WebGL2RenderingContext.CCW):offscreen?WebHelper.gl.frontFace(WebGL2RenderingContext.CCW):WebHelper.gl.frontFace(WebGL2RenderingContext.CW)),this.FillMode!==Microsoft.Xna.Framework.Graphics.FillMode.Solid)throw new System.NotImplementedException.ctor;if((force||this.ScissorTestEnable!==device._lastRasterizerState.ScissorTestEnable)&&(this.ScissorTestEnable?WebHelper.gl.enable(WebGL2RenderingContext.SCISSOR_TEST):WebHelper.gl.disable(WebGL2RenderingContext.SCISSOR_TEST),device._lastRasterizerState.ScissorTestEnable=this.ScissorTestEnable),force||this.DepthBias!==device._lastRasterizerState.DepthBias||this.SlopeScaleDepthBias!==device._lastRasterizerState.SlopeScaleDepthBias){if(this.DepthBias!==0||this.SlopeScaleDepthBias!==0){switch(device.ActiveDepthFormat){case Microsoft.Xna.Framework.Graphics.DepthFormat.None:depthMul=0;break;case Microsoft.Xna.Framework.Graphics.DepthFormat.Depth16:depthMul=32768;break;case Microsoft.Xna.Framework.Graphics.DepthFormat.Depth24:case Microsoft.Xna.Framework.Graphics.DepthFormat.Depth24Stencil8:depthMul=8388608;break;default:throw new System.ArgumentOutOfRangeException.ctor;}WebHelper.gl.enable(WebGL2RenderingContext.POLYGON_OFFSET_FILL);WebHelper.gl.polygonOffset(this.SlopeScaleDepthBias,this.DepthBias*depthMul)}else WebHelper.gl.disable(WebGL2RenderingContext.POLYGON_OFFSET_FILL);device._lastRasterizerState.DepthBias=this.DepthBias;device._lastRasterizerState.SlopeScaleDepthBias=this.SlopeScaleDepthBias}}}});Bridge.define("Microsoft.Xna.Framework.Graphics.SamplerState",{inherits:[Microsoft.Xna.Framework.Graphics.GraphicsResource],statics:{fields:{AnisotropicClamp:null,AnisotropicWrap:null,LinearClamp:null,LinearWrap:null,PointClamp:null,PointWrap:null,TextureParameterNameTextureMaxAnisotropy:0},ctors:{init:function(){this.TextureParameterNameTextureMaxAnisotropy=34046},ctor:function(){Microsoft.Xna.Framework.Graphics.SamplerState.AnisotropicClamp=new Microsoft.Xna.Framework.Graphics.SamplerState.$ctor2("SamplerState.AnisotropicClamp",Microsoft.Xna.Framework.Graphics.TextureFilter.Anisotropic,Microsoft.Xna.Framework.Graphics.TextureAddressMode.Clamp);Microsoft.Xna.Framework.Graphics.SamplerState.AnisotropicWrap=new Microsoft.Xna.Framework.Graphics.SamplerState.$ctor2("SamplerState.AnisotropicWrap",Microsoft.Xna.Framework.Graphics.TextureFilter.Anisotropic,Microsoft.Xna.Framework.Graphics.TextureAddressMode.Wrap);Microsoft.Xna.Framework.Graphics.SamplerState.LinearClamp=new Microsoft.Xna.Framework.Graphics.SamplerState.$ctor2("SamplerState.LinearClamp",Microsoft.Xna.Framework.Graphics.TextureFilter.Linear,Microsoft.Xna.Framework.Graphics.TextureAddressMode.Clamp);Microsoft.Xna.Framework.Graphics.SamplerState.LinearWrap=new Microsoft.Xna.Framework.Graphics.SamplerState.$ctor2("SamplerState.LinearWrap",Microsoft.Xna.Framework.Graphics.TextureFilter.Linear,Microsoft.Xna.Framework.Graphics.TextureAddressMode.Wrap);Microsoft.Xna.Framework.Graphics.SamplerState.PointClamp=new Microsoft.Xna.Framework.Graphics.SamplerState.$ctor2("SamplerState.PointClamp",Microsoft.Xna.Framework.Graphics.TextureFilter.Point,Microsoft.Xna.Framework.Graphics.TextureAddressMode.Clamp);Microsoft.Xna.Framework.Graphics.SamplerState.PointWrap=new Microsoft.Xna.Framework.Graphics.SamplerState.$ctor2("SamplerState.PointWrap",Microsoft.Xna.Framework.Graphics.TextureFilter.Point,Microsoft.Xna.Framework.Graphics.TextureAddressMode.Wrap)}}},fields:{_defaultStateObject:!1,_addressU:0,_addressV:0,_addressW:0,_borderColor:null,_filter:0,_maxAnisotropy:0,_maxMipLevel:0,_mipMapLevelOfDetailBias:0,_filterMode:0,_comparisonFunction:0,_openGLBorderColor:null},props:{AddressU:{get:function(){return this._addressU},set:function(value){this.ThrowIfBound();this._addressU=value}},AddressV:{get:function(){return this._addressV},set:function(value){this.ThrowIfBound();this._addressV=value}},AddressW:{get:function(){return this._addressW},set:function(value){this.ThrowIfBound();this._addressW=value}},BorderColor:{get:function(){return this._borderColor.$clone()},set:function(value){this.ThrowIfBound();this._borderColor=value.$clone()}},Filter:{get:function(){return this._filter},set:function(value){this.ThrowIfBound();this._filter=value}},MaxAnisotropy:{get:function(){return this._maxAnisotropy},set:function(value){this.ThrowIfBound();this._maxAnisotropy=value}},MaxMipLevel:{get:function(){return this._maxMipLevel},set:function(value){this.ThrowIfBound();this._maxMipLevel=value}},MipMapLevelOfDetailBias:{get:function(){return this._mipMapLevelOfDetailBias},set:function(value){this.ThrowIfBound();this._mipMapLevelOfDetailBias=value}},ComparisonFunction:{get:function(){return this._comparisonFunction},set:function(value){this.ThrowIfBound();this._comparisonFunction=value}},FilterMode:{get:function(){return this._filterMode},set:function(value){this.ThrowIfBound();this._filterMode=value}}},ctors:{init:function(){this._borderColor=new Microsoft.Xna.Framework.Color;this._openGLBorderColor=System.Array.init(4,0,System.Single)},ctor:function(){this.$initialize();Microsoft.Xna.Framework.Graphics.GraphicsResource.ctor.call(this);this.Filter=Microsoft.Xna.Framework.Graphics.TextureFilter.Linear;this.AddressU=Microsoft.Xna.Framework.Graphics.TextureAddressMode.Wrap;this.AddressV=Microsoft.Xna.Framework.Graphics.TextureAddressMode.Wrap;this.AddressW=Microsoft.Xna.Framework.Graphics.TextureAddressMode.Wrap;this.BorderColor=Microsoft.Xna.Framework.Color.White.$clone();this.MaxAnisotropy=4;this.MaxMipLevel=0;this.MipMapLevelOfDetailBias=0;this.ComparisonFunction=Microsoft.Xna.Framework.Graphics.CompareFunction.Never;this.FilterMode=Microsoft.Xna.Framework.Graphics.TextureFilterMode.Default},$ctor2:function(name,filter,addressMode){Microsoft.Xna.Framework.Graphics.SamplerState.ctor.call(this);this.Name=name;this._filter=filter;this._addressU=addressMode;this._addressV=addressMode;this._addressW=addressMode;this._defaultStateObject=!0},$ctor1:function(cloneSource){this.$initialize();Microsoft.Xna.Framework.Graphics.GraphicsResource.ctor.call(this);this.Name=cloneSource.Name;this._filter=cloneSource._filter;this._addressU=cloneSource._addressU;this._addressV=cloneSource._addressV;this._addressW=cloneSource._addressW;this._borderColor=cloneSource._borderColor.$clone();this._maxAnisotropy=cloneSource._maxAnisotropy;this._maxMipLevel=cloneSource._maxMipLevel;this._mipMapLevelOfDetailBias=cloneSource._mipMapLevelOfDetailBias;this._comparisonFunction=cloneSource._comparisonFunction;this._filterMode=cloneSource._filterMode}},methods:{BindToGraphicsDevice:function(device){if(this._defaultStateObject)throw new System.InvalidOperationException.$ctor1("You cannot bind a default state object.");if(this.GraphicsDevice!=null&&!Bridge.referenceEquals(this.GraphicsDevice,device))throw new System.InvalidOperationException.$ctor1("This sampler state is already bound to a different graphics device.");this.GraphicsDevice=device},ThrowIfBound:function(){if(this._defaultStateObject)throw new System.InvalidOperationException.$ctor1("You cannot modify a default sampler state object.");if(this.GraphicsDevice!=null)throw new System.InvalidOperationException.$ctor1("You cannot modify the sampler state after it has been bound to the graphics device!");},Clone:function(){return new Microsoft.Xna.Framework.Graphics.SamplerState.$ctor1(this)},Dispose$1:function(disposing){!this.IsDisposed;Microsoft.Xna.Framework.Graphics.GraphicsResource.prototype.Dispose$1.call(this,disposing)},Activate:function(device,target,useMipmaps){useMipmaps===void 0&&(useMipmaps=!1);this.GraphicsDevice==null&&(this.GraphicsDevice=device);switch(this.Filter){case Microsoft.Xna.Framework.Graphics.TextureFilter.Point:this.GraphicsDevice.GraphicsCapabilities.SupportsTextureFilterAnisotropic&&WebHelper.gl.texParameteri(target,Microsoft.Xna.Framework.Graphics.SamplerState.TextureParameterNameTextureMaxAnisotropy,1);WebHelper.gl.texParameteri(target,WebGL2RenderingContext.TEXTURE_MIN_FILTER,useMipmaps?WebGL2RenderingContext.NEAREST_MIPMAP_NEAREST:WebGL2RenderingContext.NEAREST);WebHelper.gl.texParameteri(target,WebGL2RenderingContext.TEXTURE_MAG_FILTER,WebGL2RenderingContext.NEAREST);break;case Microsoft.Xna.Framework.Graphics.TextureFilter.Linear:this.GraphicsDevice.GraphicsCapabilities.SupportsTextureFilterAnisotropic&&WebHelper.gl.texParameteri(target,Microsoft.Xna.Framework.Graphics.SamplerState.TextureParameterNameTextureMaxAnisotropy,1);WebHelper.gl.texParameteri(target,WebGL2RenderingContext.TEXTURE_MIN_FILTER,useMipmaps?WebGL2RenderingContext.LINEAR_MIPMAP_LINEAR:WebGL2RenderingContext.LINEAR);WebHelper.gl.texParameteri(target,WebGL2RenderingContext.TEXTURE_MAG_FILTER,WebGL2RenderingContext.LINEAR);break;case Microsoft.Xna.Framework.Graphics.TextureFilter.Anisotropic:this.GraphicsDevice.GraphicsCapabilities.SupportsTextureFilterAnisotropic&&WebHelper.gl.texParameteri(target,Microsoft.Xna.Framework.Graphics.SamplerState.TextureParameterNameTextureMaxAnisotropy,Microsoft.Xna.Framework.MathHelper.Clamp$1(this.MaxAnisotropy,1,this.GraphicsDevice.GraphicsCapabilities.MaxTextureAnisotropy));WebHelper.gl.texParameteri(target,WebGL2RenderingContext.TEXTURE_MIN_FILTER,useMipmaps?WebGL2RenderingContext.LINEAR_MIPMAP_LINEAR:WebGL2RenderingContext.LINEAR);WebHelper.gl.texParameteri(target,WebGL2RenderingContext.TEXTURE_MAG_FILTER,WebGL2RenderingContext.LINEAR);break;case Microsoft.Xna.Framework.Graphics.TextureFilter.PointMipLinear:this.GraphicsDevice.GraphicsCapabilities.SupportsTextureFilterAnisotropic&&WebHelper.gl.texParameteri(target,Microsoft.Xna.Framework.Graphics.SamplerState.TextureParameterNameTextureMaxAnisotropy,1);WebHelper.gl.texParameteri(target,WebGL2RenderingContext.TEXTURE_MIN_FILTER,useMipmaps?WebGL2RenderingContext.NEAREST_MIPMAP_LINEAR:WebGL2RenderingContext.NEAREST);WebHelper.gl.texParameteri(target,WebGL2RenderingContext.TEXTURE_MAG_FILTER,WebGL2RenderingContext.NEAREST);break;case Microsoft.Xna.Framework.Graphics.TextureFilter.LinearMipPoint:this.GraphicsDevice.GraphicsCapabilities.SupportsTextureFilterAnisotropic&&WebHelper.gl.texParameteri(target,Microsoft.Xna.Framework.Graphics.SamplerState.TextureParameterNameTextureMaxAnisotropy,1);WebHelper.gl.texParameteri(target,WebGL2RenderingContext.TEXTURE_MIN_FILTER,useMipmaps?WebGL2RenderingContext.LINEAR_MIPMAP_NEAREST:WebGL2RenderingContext.LINEAR);WebHelper.gl.texParameteri(target,WebGL2RenderingContext.TEXTURE_MAG_FILTER,WebGL2RenderingContext.LINEAR);break;case Microsoft.Xna.Framework.Graphics.TextureFilter.MinLinearMagPointMipLinear:this.GraphicsDevice.GraphicsCapabilities.SupportsTextureFilterAnisotropic&&WebHelper.gl.texParameteri(target,Microsoft.Xna.Framework.Graphics.SamplerState.TextureParameterNameTextureMaxAnisotropy,1);WebHelper.gl.texParameteri(target,WebGL2RenderingContext.TEXTURE_MIN_FILTER,useMipmaps?WebGL2RenderingContext.LINEAR_MIPMAP_LINEAR:WebGL2RenderingContext.LINEAR);WebHelper.gl.texParameteri(target,WebGL2RenderingContext.TEXTURE_MAG_FILTER,WebGL2RenderingContext.NEAREST);break;case Microsoft.Xna.Framework.Graphics.TextureFilter.MinLinearMagPointMipPoint:this.GraphicsDevice.GraphicsCapabilities.SupportsTextureFilterAnisotropic&&WebHelper.gl.texParameteri(target,Microsoft.Xna.Framework.Graphics.SamplerState.TextureParameterNameTextureMaxAnisotropy,1);WebHelper.gl.texParameteri(target,WebGL2RenderingContext.TEXTURE_MIN_FILTER,useMipmaps?WebGL2RenderingContext.LINEAR_MIPMAP_NEAREST:WebGL2RenderingContext.LINEAR);WebHelper.gl.texParameteri(target,WebGL2RenderingContext.TEXTURE_MAG_FILTER,WebGL2RenderingContext.NEAREST);break;case Microsoft.Xna.Framework.Graphics.TextureFilter.MinPointMagLinearMipLinear:this.GraphicsDevice.GraphicsCapabilities.SupportsTextureFilterAnisotropic&&WebHelper.gl.texParameteri(target,Microsoft.Xna.Framework.Graphics.SamplerState.TextureParameterNameTextureMaxAnisotropy,1);WebHelper.gl.texParameteri(target,WebGL2RenderingContext.TEXTURE_MIN_FILTER,useMipmaps?WebGL2RenderingContext.NEAREST_MIPMAP_LINEAR:WebGL2RenderingContext.NEAREST);WebHelper.gl.texParameteri(target,WebGL2RenderingContext.TEXTURE_MAG_FILTER,WebGL2RenderingContext.LINEAR);break;case Microsoft.Xna.Framework.Graphics.TextureFilter.MinPointMagLinearMipPoint:this.GraphicsDevice.GraphicsCapabilities.SupportsTextureFilterAnisotropic&&WebHelper.gl.texParameteri(target,Microsoft.Xna.Framework.Graphics.SamplerState.TextureParameterNameTextureMaxAnisotropy,1);WebHelper.gl.texParameteri(target,WebGL2RenderingContext.TEXTURE_MIN_FILTER,useMipmaps?WebGL2RenderingContext.NEAREST_MIPMAP_NEAREST:WebGL2RenderingContext.NEAREST);WebHelper.gl.texParameteri(target,WebGL2RenderingContext.TEXTURE_MAG_FILTER,WebGL2RenderingContext.LINEAR);break;default:throw new System.NotSupportedException.ctor;}WebHelper.gl.texParameteri(target,WebGL2RenderingContext.TEXTURE_WRAP_S,Bridge.Int.clip32(this.GetWrapMode(this.AddressU)));WebHelper.gl.texParameteri(target,WebGL2RenderingContext.TEXTURE_WRAP_T,Bridge.Int.clip32(this.GetWrapMode(this.AddressV)));WebHelper.gl.texParameterf(target,WebHelper.gl.MAX_TEXTURE_LOD_BIAS,this.MipMapLevelOfDetailBias);switch(this.FilterMode){case Microsoft.Xna.Framework.Graphics.TextureFilterMode.Comparison:WebHelper.gl.texParameteri(target,WebHelper.gl.TEXTURE_COMPARE_MODE,WebHelper.gl.COMPARE_REF_TO_TEXTURE);WebHelper.gl.texParameteri(target,WebHelper.gl.TEXTURE_COMPARE_MODE,Microsoft.Xna.Framework.Graphics.GraphicsExtensions.GetDepthFunction(this.ComparisonFunction));break;case Microsoft.Xna.Framework.Graphics.TextureFilterMode.Default:WebHelper.gl.texParameteri(target,WebHelper.gl.TEXTURE_COMPARE_MODE,WebGL2RenderingContext.NONE);break;default:throw new System.InvalidOperationException.$ctor1("Invalid filter mode!");}this.GraphicsDevice.GraphicsCapabilities.SupportsTextureMaxLevel&&(this.MaxMipLevel>0?WebHelper.gl.texParameteri(WebGL2RenderingContext.TEXTURE_2D,WebHelper.gl.TEXTURE_MAX_LEVEL,this.MaxMipLevel):WebHelper.gl.texParameteri(WebGL2RenderingContext.TEXTURE_2D,WebHelper.gl.TEXTURE_MAX_LEVEL,1e3))},GetWrapMode:function(textureAddressMode){switch(textureAddressMode){case Microsoft.Xna.Framework.Graphics.TextureAddressMode.Clamp:return WebGL2RenderingContext.CLAMP_TO_EDGE;case Microsoft.Xna.Framework.Graphics.TextureAddressMode.Wrap:return WebGL2RenderingContext.REPEAT;case Microsoft.Xna.Framework.Graphics.TextureAddressMode.Mirror:return WebGL2RenderingContext.MIRRORED_REPEAT;default:throw new System.ArgumentException.$ctor1("No support for "+System.Enum.toString(Microsoft.Xna.Framework.Graphics.TextureAddressMode,textureAddressMode));}}}});Bridge.define("Microsoft.Xna.Framework.Graphics.Shader",{inherits:[Microsoft.Xna.Framework.Graphics.GraphicsResource],statics:{props:{Profile:{get:function(){return Microsoft.Xna.Framework.Graphics.Shader.PlatformProfile()}}},methods:{PlatformProfile:function(){return 0}}},fields:{HashKey:0,Samplers:null,CBuffers:null,Stage:0,Attributes:null,_shaderHandle:null,_glslCode:null},ctors:{ctor:function(device,reader){var $t,$t1,$t2,$t3,$t4,$t5,$t6,$t7,$t8,$t9,$t10,$t11,$t12,$t13,$t14,$t15,$t16,$t17,$t18,isVertexShader,s,cbufferCount,c,attributeCount,a;this.$initialize();Microsoft.Xna.Framework.Graphics.GraphicsResource.ctor.call(this);this.GraphicsDevice=device;isVertexShader=reader.ReadBoolean();this.Stage=isVertexShader?Microsoft.Xna.Framework.Graphics.ShaderStage.Vertex:Microsoft.Xna.Framework.Graphics.ShaderStage.Pixel;var shaderLength=reader.ReadInt32(),shaderBytecode=reader.ReadBytes(shaderLength),samplerCount=reader.ReadByte();for(this.Samplers=System.Array.init(samplerCount,function(){return new Microsoft.Xna.Framework.Graphics.SamplerInfo},Microsoft.Xna.Framework.Graphics.SamplerInfo),s=0;s<samplerCount;s=s+1|0)($t=this.Samplers)[System.Array.index(s,$t)].type=reader.ReadByte(),($t1=this.Samplers)[System.Array.index(s,$t1)].textureSlot=reader.ReadByte(),($t2=this.Samplers)[System.Array.index(s,$t2)].samplerSlot=reader.ReadByte(),reader.ReadBoolean()&&(($t3=this.Samplers)[System.Array.index(s,$t3)].state=new Microsoft.Xna.Framework.Graphics.SamplerState.ctor,($t4=this.Samplers)[System.Array.index(s,$t4)].state.AddressU=reader.ReadByte(),($t5=this.Samplers)[System.Array.index(s,$t5)].state.AddressV=reader.ReadByte(),($t6=this.Samplers)[System.Array.index(s,$t6)].state.AddressW=reader.ReadByte(),($t7=this.Samplers)[System.Array.index(s,$t7)].state.BorderColor=new Microsoft.Xna.Framework.Color.$ctor5(reader.ReadByte(),reader.ReadByte(),reader.ReadByte(),reader.ReadByte()),($t8=this.Samplers)[System.Array.index(s,$t8)].state.Filter=reader.ReadByte(),($t9=this.Samplers)[System.Array.index(s,$t9)].state.MaxAnisotropy=reader.ReadInt32(),($t10=this.Samplers)[System.Array.index(s,$t10)].state.MaxMipLevel=reader.ReadInt32(),($t11=this.Samplers)[System.Array.index(s,$t11)].state.MipMapLevelOfDetailBias=reader.ReadSingle()),($t12=this.Samplers)[System.Array.index(s,$t12)].name=reader.ReadString(),($t13=this.Samplers)[System.Array.index(s,$t13)].parameter=reader.ReadByte();for(cbufferCount=reader.ReadByte(),this.CBuffers=System.Array.init(cbufferCount,0,System.Int32),c=0;c<cbufferCount;c=c+1|0)($t14=this.CBuffers)[System.Array.index(c,$t14)]=reader.ReadByte();for(attributeCount=reader.ReadByte(),this.Attributes=System.Array.init(attributeCount,function(){return new Microsoft.Xna.Framework.Graphics.VertexAttribute},Microsoft.Xna.Framework.Graphics.VertexAttribute),a=0;a<attributeCount;a=a+1|0)($t15=this.Attributes)[System.Array.index(a,$t15)].name=reader.ReadString(),($t16=this.Attributes)[System.Array.index(a,$t16)].usage=reader.ReadByte(),($t17=this.Attributes)[System.Array.index(a,$t17)].index=reader.ReadByte(),($t18=this.Attributes)[System.Array.index(a,$t18)].location=reader.ReadInt16();this.PlatformConstruct(isVertexShader,shaderBytecode)}},methods:{GraphicsDeviceResetting:function(){this.PlatformGraphicsDeviceResetting()},PlatformConstruct:function(isVertexShader,shaderBytecode){this._glslCode=System.Text.Encoding.ASCII.GetString(shaderBytecode);this.HashKey=MonoGame.Utilities.Hash.ComputeHash(shaderBytecode)},GetShaderHandle:function(){var compiled,log;if(WebHelper.gl.isShader(this._shaderHandle))return this._shaderHandle;if(this._shaderHandle=WebHelper.gl.createShader(this.Stage===Microsoft.Xna.Framework.Graphics.ShaderStage.Vertex?WebGL2RenderingContext.VERTEX_SHADER:WebGL2RenderingContext.FRAGMENT_SHADER),WebHelper.gl.shaderSource(this._shaderHandle,this._glslCode),WebHelper.gl.compileShader(this._shaderHandle),compiled=System.Nullable.getValue(Bridge.cast(Bridge.unbox(WebHelper.gl.getShaderParameter(this._shaderHandle,WebGL2RenderingContext.COMPILE_STATUS),System.Boolean),System.Boolean)),!compiled){log=WebHelper.gl.getShaderInfoLog(this._shaderHandle);this.GraphicsDevice.DisposeShader(this._shaderHandle);throw new System.InvalidOperationException.$ctor1("Shader Compilation Failed");}return this._shaderHandle},GetVertexAttributeLocations:function(program){for(var $t,$t1,i=0;i<this.Attributes.length;i=i+1|0)($t=this.Attributes)[System.Array.index(i,$t)].location=Bridge.Int.clip32(WebHelper.gl.getAttribLocation(program,($t1=this.Attributes)[System.Array.index(i,$t1)].name))},GetAttribLocation:function(usage,index){for(var $t,$t1,$t2,i=0;i<this.Attributes.length;i=i+1|0)if(($t=this.Attributes)[System.Array.index(i,$t)].usage===usage&&($t1=this.Attributes)[System.Array.index(i,$t1)].index===index)return($t2=this.Attributes)[System.Array.index(i,$t2)].location;return-1},ApplySamplerTextureUnits:function(program){var $t,sampler,loc;$t=Bridge.getEnumerator(this.Samplers);try{while($t.moveNext())sampler=$t.Current.$clone(),loc=WebHelper.gl.getUniformLocation(program,sampler.name),WebHelper.gl.uniform1i(loc,sampler.textureSlot)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}},PlatformGraphicsDeviceResetting:function(){WebHelper.gl.isShader(this._shaderHandle)&&this.GraphicsDevice.DisposeShader(this._shaderHandle)},Dispose$1:function(disposing){!this.IsDisposed&&WebHelper.gl.isShader(this._shaderHandle)&&this.GraphicsDevice.DisposeShader(this._shaderHandle);Microsoft.Xna.Framework.Graphics.GraphicsResource.prototype.Dispose$1.call(this,disposing)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.SpriteBatch",{inherits:[Microsoft.Xna.Framework.Graphics.GraphicsResource],statics:{fields:{NeedsHalfPixelOffset:!1}},fields:{_batcher:null,_sortMode:0,_blendState:null,_samplerState:null,_depthStencilState:null,_rasterizerState:null,_effect:null,_beginCalled:!1,_spriteEffect:null,_matrixTransform:null,_spritePass:null,_matrix:null,_lastViewport:null,_projection:null,_tempRect:null,_texCoordTL:null,_texCoordBR:null},ctors:{init:function(){this._lastViewport=new Microsoft.Xna.Framework.Graphics.Viewport;this._projection=new Microsoft.Xna.Framework.Matrix;this._tempRect=new Microsoft.Xna.Framework.Rectangle;this._texCoordTL=new Microsoft.Xna.Framework.Vector2;this._texCoordBR=new Microsoft.Xna.Framework.Vector2;this._tempRect=new Microsoft.Xna.Framework.Rectangle.$ctor2(0,0,0,0);this._texCoordTL=new Microsoft.Xna.Framework.Vector2.$ctor2(0,0);this._texCoordBR=new Microsoft.Xna.Framework.Vector2.$ctor2(0,0)},ctor:function(graphicsDevice){if(this.$initialize(),Microsoft.Xna.Framework.Graphics.GraphicsResource.ctor.call(this),graphicsDevice==null)throw new System.ArgumentNullException.$ctor3("graphicsDevice",Microsoft.Xna.Framework.FrameworkResources.ResourceCreationWhenDeviceIsNull);this.GraphicsDevice=graphicsDevice;this._spriteEffect=new Microsoft.Xna.Framework.Graphics.Effect.$ctor2(graphicsDevice,Microsoft.Xna.Framework.Graphics.EffectResource.SpriteEffect.Bytecode);this._matrixTransform=this._spriteEffect.Parameters.getItem$1("MatrixTransform");this._spritePass=this._spriteEffect.CurrentTechnique.Passes.getItem(0);this._batcher=new Microsoft.Xna.Framework.Graphics.SpriteBatcher(graphicsDevice);this._beginCalled=!1}},methods:{Begin:function(sortMode,blendState,samplerState,depthStencilState,rasterizerState,effect,transformMatrix){if(sortMode===void 0&&(sortMode=0),blendState===void 0&&(blendState=null),samplerState===void 0&&(samplerState=null),depthStencilState===void 0&&(depthStencilState=null),rasterizerState===void 0&&(rasterizerState=null),effect===void 0&&(effect=null),transformMatrix===void 0&&(transformMatrix=null),this._beginCalled)throw new System.InvalidOperationException.$ctor1("Begin cannot be called again until End has been successfully called.");this._sortMode=sortMode;this._blendState=blendState||Microsoft.Xna.Framework.Graphics.BlendState.AlphaBlend;this._samplerState=samplerState||Microsoft.Xna.Framework.Graphics.SamplerState.LinearClamp;this._depthStencilState=depthStencilState||Microsoft.Xna.Framework.Graphics.DepthStencilState.None;this._rasterizerState=rasterizerState||Microsoft.Xna.Framework.Graphics.RasterizerState.CullCounterClockwise;this._effect=effect;this._matrix=System.Nullable.lift1("$clone",transformMatrix);sortMode===Microsoft.Xna.Framework.Graphics.SpriteSortMode.Immediate&&this.Setup();this._beginCalled=!0},End:function(){if(!this._beginCalled)throw new System.InvalidOperationException.$ctor1("Begin must be called before calling End.");this._beginCalled=!1;this._sortMode!==Microsoft.Xna.Framework.Graphics.SpriteSortMode.Immediate&&this.Setup();this._batcher.DrawBatch(this._sortMode,this._effect)},Setup:function(){var gd=this.GraphicsDevice,vp;gd.BlendState=this._blendState;gd.DepthStencilState=this._depthStencilState;gd.RasterizerState=this._rasterizerState;gd.SamplerStates.setItem(0,this._samplerState);vp=gd.Viewport.$clone();(vp.Width!==this._lastViewport.Width||vp.Height!==this._lastViewport.Height)&&(Microsoft.Xna.Framework.Matrix.CreateOrthographicOffCenter$2(0,vp.Width,vp.Height,0,0,-1,Bridge.ref(this,"_projection")),Microsoft.Xna.Framework.Graphics.SpriteBatch.NeedsHalfPixelOffset&&(this._projection.M41+=-.5*this._projection.M11,this._projection.M42+=-.5*this._projection.M22),this._lastViewport=vp.$clone());System.Nullable.hasValue(this._matrix)?this._matrixTransform.SetValue$1(Microsoft.Xna.Framework.Matrix.op_Multiply(System.Nullable.getValueOrDefault(this._matrix,new Microsoft.Xna.Framework.Matrix),this._projection.$clone())):this._matrixTransform.SetValue$1(this._projection.$clone());this._spritePass.Apply()},CheckValid$2:function(texture){if(texture==null)throw new System.ArgumentNullException.$ctor1("texture");if(!this._beginCalled)throw new System.InvalidOperationException.$ctor1("Draw was called, but Begin has not yet been called. Begin must be called successfully before you can call Draw.");},CheckValid:function(spriteFont,text){if(spriteFont==null)throw new System.ArgumentNullException.$ctor1("spriteFont");if(text==null)throw new System.ArgumentNullException.$ctor1("text");if(!this._beginCalled)throw new System.InvalidOperationException.$ctor1("DrawString was called, but Begin has not yet been called. Begin must be called successfully before you can call DrawString.");},CheckValid$1:function(spriteFont,text){if(spriteFont==null)throw new System.ArgumentNullException.$ctor1("spriteFont");if(text==null)throw new System.ArgumentNullException.$ctor1("text");if(!this._beginCalled)throw new System.InvalidOperationException.$ctor1("DrawString was called, but Begin has not yet been called. Begin must be called successfully before you can call DrawString.");},Draw$7:function(texture,position,destinationRectangle,sourceRectangle,origin,rotation,scale,color,effects,layerDepth){if(position===void 0&&(position=null),destinationRectangle===void 0&&(destinationRectangle=null),sourceRectangle===void 0&&(sourceRectangle=null),origin===void 0&&(origin=null),rotation===void 0&&(rotation=0),scale===void 0&&(scale=null),color===void 0&&(color=null),effects===void 0&&(effects=0),layerDepth===void 0&&(layerDepth=0),System.Nullable.hasValue(color)||(color=Microsoft.Xna.Framework.Color.White.$clone()),System.Nullable.hasValue(origin)||(origin=Microsoft.Xna.Framework.Vector2.Zero.$clone()),System.Nullable.hasValue(scale)||(scale=Microsoft.Xna.Framework.Vector2.One.$clone()),System.Nullable.hasValue(destinationRectangle)===System.Nullable.hasValue(position))throw new System.InvalidOperationException.$ctor1("Expected drawRectangle or position, but received neither or both.");else System.Nullable.liftne(Microsoft.Xna.Framework.Vector2.op_Inequality,System.Nullable.lift1("$clone",position),null)?this.Draw$5(texture,System.Nullable.getValue(position),System.Nullable.lift1("$clone",sourceRectangle),System.Nullable.getValue(color),rotation,System.Nullable.getValue(origin),System.Nullable.getValue(scale),effects,layerDepth):this.Draw$2(texture,System.Nullable.getValue(destinationRectangle),System.Nullable.lift1("$clone",sourceRectangle),System.Nullable.getValue(color),rotation,System.Nullable.getValue(origin),effects,layerDepth)},Draw$5:function(texture,position,sourceRectangle,color,rotation,origin,scale,effects,layerDepth){var item,w,h,srcRect,temp,temp1;this.CheckValid$2(texture);item=this._batcher.CreateBatchItem();item.Texture=texture;switch(this._sortMode){case Microsoft.Xna.Framework.Graphics.SpriteSortMode.Texture:item.SortKey=texture.SortingKey;break;case Microsoft.Xna.Framework.Graphics.SpriteSortMode.FrontToBack:item.SortKey=layerDepth;break;case Microsoft.Xna.Framework.Graphics.SpriteSortMode.BackToFront:item.SortKey=-layerDepth;break}origin=Microsoft.Xna.Framework.Vector2.op_Multiply(origin.$clone(),scale.$clone());System.Nullable.hasValue(sourceRectangle)?(srcRect=System.Nullable.getValueOrDefault(sourceRectangle,new Microsoft.Xna.Framework.Rectangle).$clone(),w=srcRect.Width*scale.X,h=srcRect.Height*scale.Y,this._texCoordTL.X=srcRect.X*texture.TexelWidth,this._texCoordTL.Y=srcRect.Y*texture.TexelHeight,this._texCoordBR.X=(srcRect.X+srcRect.Width|0)*texture.TexelWidth,this._texCoordBR.Y=(srcRect.Y+srcRect.Height|0)*texture.TexelHeight):(w=texture.Width*scale.X,h=texture.Height*scale.Y,this._texCoordTL=Microsoft.Xna.Framework.Vector2.Zero.$clone(),this._texCoordBR=Microsoft.Xna.Framework.Vector2.One.$clone());(effects&Microsoft.Xna.Framework.Graphics.SpriteEffects.FlipVertically)!=0&&(temp=this._texCoordBR.Y,this._texCoordBR.Y=this._texCoordTL.Y,this._texCoordTL.Y=temp);(effects&Microsoft.Xna.Framework.Graphics.SpriteEffects.FlipHorizontally)!=0&&(temp1=this._texCoordBR.X,this._texCoordBR.X=this._texCoordTL.X,this._texCoordTL.X=temp1);rotation===0?item.Set(position.X-origin.X,position.Y-origin.Y,w,h,color.$clone(),this._texCoordTL.$clone(),this._texCoordBR.$clone(),layerDepth):item.Set$1(position.X,position.Y,-origin.X,-origin.Y,w,h,Math.sin(rotation),Math.cos(rotation),color.$clone(),this._texCoordTL.$clone(),this._texCoordBR.$clone(),layerDepth);this.FlushIfNeeded()},Draw$6:function(texture,position,sourceRectangle,color,rotation,origin,scale,effects,layerDepth){var scaleVec=new Microsoft.Xna.Framework.Vector2.$ctor2(scale,scale);this.Draw$5(texture,position.$clone(),System.Nullable.lift1("$clone",sourceRectangle),color.$clone(),rotation,origin.$clone(),scaleVec.$clone(),effects,layerDepth)},Draw$2:function(texture,destinationRectangle,sourceRectangle,color,rotation,origin,effects,layerDepth){var item,srcRect,temp,temp1;this.CheckValid$2(texture);item=this._batcher.CreateBatchItem();item.Texture=texture;switch(this._sortMode){case Microsoft.Xna.Framework.Graphics.SpriteSortMode.Texture:item.SortKey=texture.SortingKey;break;case Microsoft.Xna.Framework.Graphics.SpriteSortMode.FrontToBack:item.SortKey=layerDepth;break;case Microsoft.Xna.Framework.Graphics.SpriteSortMode.BackToFront:item.SortKey=-layerDepth;break}System.Nullable.hasValue(sourceRectangle)?(srcRect=System.Nullable.getValueOrDefault(sourceRectangle,new Microsoft.Xna.Framework.Rectangle).$clone(),this._texCoordTL.X=srcRect.X*texture.TexelWidth,this._texCoordTL.Y=srcRect.Y*texture.TexelHeight,this._texCoordBR.X=(srcRect.X+srcRect.Width|0)*texture.TexelWidth,this._texCoordBR.Y=(srcRect.Y+srcRect.Height|0)*texture.TexelHeight,origin.X=srcRect.Width!==0?origin.X*destinationRectangle.Width/srcRect.Width:origin.X*destinationRectangle.Width*texture.TexelWidth,origin.Y=srcRect.Height!==0?origin.Y*destinationRectangle.Height/srcRect.Height:origin.Y*destinationRectangle.Height*texture.TexelHeight):(this._texCoordTL=Microsoft.Xna.Framework.Vector2.Zero.$clone(),this._texCoordBR=Microsoft.Xna.Framework.Vector2.One.$clone(),origin.X=origin.X*destinationRectangle.Width*texture.TexelWidth,origin.Y=origin.Y*destinationRectangle.Height*texture.TexelHeight);(effects&Microsoft.Xna.Framework.Graphics.SpriteEffects.FlipVertically)!=0&&(temp=this._texCoordBR.Y,this._texCoordBR.Y=this._texCoordTL.Y,this._texCoordTL.Y=temp);(effects&Microsoft.Xna.Framework.Graphics.SpriteEffects.FlipHorizontally)!=0&&(temp1=this._texCoordBR.X,this._texCoordBR.X=this._texCoordTL.X,this._texCoordTL.X=temp1);rotation===0?item.Set(destinationRectangle.X-origin.X,destinationRectangle.Y-origin.Y,destinationRectangle.Width,destinationRectangle.Height,color.$clone(),this._texCoordTL.$clone(),this._texCoordBR.$clone(),layerDepth):item.Set$1(destinationRectangle.X,destinationRectangle.Y,-origin.X,-origin.Y,destinationRectangle.Width,destinationRectangle.Height,Math.sin(rotation),Math.cos(rotation),color.$clone(),this._texCoordTL.$clone(),this._texCoordBR.$clone(),layerDepth);this.FlushIfNeeded()},Draw$4:function(texture,position,sourceRectangle,color){var item,size,srcRect;this.CheckValid$2(texture);item=this._batcher.CreateBatchItem();item.Texture=texture;item.SortKey=this._sortMode===Microsoft.Xna.Framework.Graphics.SpriteSortMode.Texture?texture.SortingKey:0;size=new Microsoft.Xna.Framework.Vector2;System.Nullable.hasValue(sourceRectangle)?(srcRect=System.Nullable.getValueOrDefault(sourceRectangle,new Microsoft.Xna.Framework.Rectangle).$clone(),size=new Microsoft.Xna.Framework.Vector2.$ctor2(srcRect.Width,srcRect.Height),this._texCoordTL.X=srcRect.X*texture.TexelWidth,this._texCoordTL.Y=srcRect.Y*texture.TexelHeight,this._texCoordBR.X=(srcRect.X+srcRect.Width|0)*texture.TexelWidth,this._texCoordBR.Y=(srcRect.Y+srcRect.Height|0)*texture.TexelHeight):(size=new Microsoft.Xna.Framework.Vector2.$ctor2(texture.width,texture.height),this._texCoordTL=Microsoft.Xna.Framework.Vector2.Zero.$clone(),this._texCoordBR=Microsoft.Xna.Framework.Vector2.One.$clone());item.Set(position.X,position.Y,size.X,size.Y,color.$clone(),this._texCoordTL.$clone(),this._texCoordBR.$clone(),0);this.FlushIfNeeded()},Draw$1:function(texture,destinationRectangle,sourceRectangle,color){var item,srcRect;this.CheckValid$2(texture);item=this._batcher.CreateBatchItem();item.Texture=texture;item.SortKey=this._sortMode===Microsoft.Xna.Framework.Graphics.SpriteSortMode.Texture?texture.SortingKey:0;System.Nullable.hasValue(sourceRectangle)?(srcRect=System.Nullable.getValueOrDefault(sourceRectangle,new Microsoft.Xna.Framework.Rectangle).$clone(),this._texCoordTL.X=srcRect.X*texture.TexelWidth,this._texCoordTL.Y=srcRect.Y*texture.TexelHeight,this._texCoordBR.X=(srcRect.X+srcRect.Width|0)*texture.TexelWidth,this._texCoordBR.Y=(srcRect.Y+srcRect.Height|0)*texture.TexelHeight):(this._texCoordTL=Microsoft.Xna.Framework.Vector2.Zero.$clone(),this._texCoordBR=Microsoft.Xna.Framework.Vector2.One.$clone());item.Set(destinationRectangle.X,destinationRectangle.Y,destinationRectangle.Width,destinationRectangle.Height,color.$clone(),this._texCoordTL.$clone(),this._texCoordBR.$clone(),0);this.FlushIfNeeded()},Draw$3:function(texture,position,color){this.CheckValid$2(texture);var item=this._batcher.CreateBatchItem();item.Texture=texture;item.SortKey=this._sortMode===Microsoft.Xna.Framework.Graphics.SpriteSortMode.Texture?texture.SortingKey:0;item.Set(position.X,position.Y,texture.Width,texture.Height,color.$clone(),Microsoft.Xna.Framework.Vector2.Zero.$clone(),Microsoft.Xna.Framework.Vector2.One.$clone(),0);this.FlushIfNeeded()},Draw:function(texture,destinationRectangle,color){this.CheckValid$2(texture);var item=this._batcher.CreateBatchItem();item.Texture=texture;item.SortKey=this._sortMode===Microsoft.Xna.Framework.Graphics.SpriteSortMode.Texture?texture.SortingKey:0;item.Set(destinationRectangle.X,destinationRectangle.Y,destinationRectangle.Width,destinationRectangle.Height,color.$clone(),Microsoft.Xna.Framework.Vector2.Zero.$clone(),Microsoft.Xna.Framework.Vector2.One.$clone(),0);this.FlushIfNeeded()},FlushIfNeeded:function(){this._sortMode===Microsoft.Xna.Framework.Graphics.SpriteSortMode.Immediate&&this._batcher.DrawBatch(this._sortMode,this._effect)},DrawString:function(spriteFont,text,position,color){var $t,i,c,currentGlyphIndex,pCurrentGlyph,p,item;this.CheckValid(spriteFont,text);var sortKey=this._sortMode===Microsoft.Xna.Framework.Graphics.SpriteSortMode.Texture?spriteFont.Texture.SortingKey:0,offset=Microsoft.Xna.Framework.Vector2.Zero.$clone(),firstGlyphOfLine=!0;for(i=0;i<text.length;i=i+1|0)if(c=text.charCodeAt(i),c!==13){if(c===10){offset.X=0;offset.Y+=spriteFont.LineSpacing;firstGlyphOfLine=!0;continue}currentGlyphIndex=spriteFont.GetGlyphIndexOrDefault(c);pCurrentGlyph=($t=spriteFont.Glyphs)[System.Array.index(currentGlyphIndex,$t)].$clone();firstGlyphOfLine?(offset.X=Math.max(pCurrentGlyph.LeftSideBearing,0),firstGlyphOfLine=!1):offset.X+=spriteFont.Spacing+pCurrentGlyph.LeftSideBearing;p=offset.$clone();p.X+=pCurrentGlyph.Cropping.X;p.Y+=pCurrentGlyph.Cropping.Y;p=Microsoft.Xna.Framework.Vector2.op_Addition(p.$clone(),position.$clone());item=this._batcher.CreateBatchItem();item.Texture=spriteFont.Texture;item.SortKey=sortKey;this._texCoordTL.X=pCurrentGlyph.BoundsInTexture.X*spriteFont.Texture.TexelWidth;this._texCoordTL.Y=pCurrentGlyph.BoundsInTexture.Y*spriteFont.Texture.TexelHeight;this._texCoordBR.X=(pCurrentGlyph.BoundsInTexture.X+pCurrentGlyph.BoundsInTexture.Width|0)*spriteFont.Texture.TexelWidth;this._texCoordBR.Y=(pCurrentGlyph.BoundsInTexture.Y+pCurrentGlyph.BoundsInTexture.Height|0)*spriteFont.Texture.TexelHeight;item.Set(p.X,p.Y,pCurrentGlyph.BoundsInTexture.Width,pCurrentGlyph.BoundsInTexture.Height,color.$clone(),this._texCoordTL.$clone(),this._texCoordBR.$clone(),0);offset.X+=pCurrentGlyph.Width+pCurrentGlyph.RightSideBearing}this.FlushIfNeeded()},DrawString$2:function(spriteFont,text,position,color,rotation,origin,scale,effects,layerDepth){var scaleVec=new Microsoft.Xna.Framework.Vector2.$ctor2(scale,scale);this.DrawString$1(spriteFont,text,position.$clone(),color.$clone(),rotation,origin.$clone(),scaleVec.$clone(),effects,layerDepth)},DrawString$1:function(spriteFont,text,position,color,rotation,origin,scale,effects,layerDepth){var $t,sortKey,size,source,offset,firstGlyphOfLine,i,c,currentGlyphIndex,pCurrentGlyph,p,item,temp,temp1;this.CheckValid(spriteFont,text);sortKey=0;switch(this._sortMode){case Microsoft.Xna.Framework.Graphics.SpriteSortMode.Texture:sortKey=spriteFont.Texture.SortingKey;break;case Microsoft.Xna.Framework.Graphics.SpriteSortMode.FrontToBack:sortKey=layerDepth;break;case Microsoft.Xna.Framework.Graphics.SpriteSortMode.BackToFront:sortKey=-layerDepth;break}var flipAdjustment=Microsoft.Xna.Framework.Vector2.Zero.$clone(),flippedVert=(effects&Microsoft.Xna.Framework.Graphics.SpriteEffects.FlipVertically)===Microsoft.Xna.Framework.Graphics.SpriteEffects.FlipVertically,flippedHorz=(effects&Microsoft.Xna.Framework.Graphics.SpriteEffects.FlipHorizontally)===Microsoft.Xna.Framework.Graphics.SpriteEffects.FlipHorizontally;(flippedVert||flippedHorz)&&(size={v:new Microsoft.Xna.Framework.Vector2},source={v:new Microsoft.Xna.Framework.Graphics.SpriteFont.CharacterSource.$ctor1(text)},spriteFont.MeasureString$2(source,size),flippedHorz&&(origin.X*=-1,flipAdjustment.X=-size.v.X),flippedVert&&(origin.Y*=-1,flipAdjustment.Y=spriteFont.LineSpacing-size.v.Y));var transformation={v:Microsoft.Xna.Framework.Matrix.Identity.$clone()},cos=0,sin=0;for(rotation===0?(transformation.v.M11=flippedHorz?-scale.X:scale.X,transformation.v.M22=flippedVert?-scale.Y:scale.Y,transformation.v.M41=(flipAdjustment.X-origin.X)*transformation.v.M11+position.X,transformation.v.M42=(flipAdjustment.Y-origin.Y)*transformation.v.M22+position.Y):(cos=Math.cos(rotation),sin=Math.sin(rotation),transformation.v.M11=(flippedHorz?-scale.X:scale.X)*cos,transformation.v.M12=(flippedHorz?-scale.X:scale.X)*sin,transformation.v.M21=(flippedVert?-scale.Y:scale.Y)*-sin,transformation.v.M22=(flippedVert?-scale.Y:scale.Y)*cos,transformation.v.M41=(flipAdjustment.X-origin.X)*transformation.v.M11+(flipAdjustment.Y-origin.Y)*transformation.v.M21+position.X,transformation.v.M42=(flipAdjustment.X-origin.X)*transformation.v.M12+(flipAdjustment.Y-origin.Y)*transformation.v.M22+position.Y),offset=Microsoft.Xna.Framework.Vector2.Zero.$clone(),firstGlyphOfLine=!0,i=0;i<text.length;i=i+1|0)if(c=text.charCodeAt(i),c!==13){if(c===10){offset.X=0;offset.Y+=spriteFont.LineSpacing;firstGlyphOfLine=!0;continue}currentGlyphIndex=spriteFont.GetGlyphIndexOrDefault(c);pCurrentGlyph=($t=spriteFont.Glyphs)[System.Array.index(currentGlyphIndex,$t)].$clone();firstGlyphOfLine?(offset.X=Math.max(pCurrentGlyph.LeftSideBearing,0),firstGlyphOfLine=!1):offset.X+=spriteFont.Spacing+pCurrentGlyph.LeftSideBearing;p={v:offset.$clone()};flippedHorz&&(p.v.X+=pCurrentGlyph.BoundsInTexture.Width);p.v.X+=pCurrentGlyph.Cropping.X;flippedVert&&(p.v.Y+=pCurrentGlyph.BoundsInTexture.Height-spriteFont.LineSpacing|0);p.v.Y+=pCurrentGlyph.Cropping.Y;Microsoft.Xna.Framework.Vector2.Transform$2(p,transformation,p);item=this._batcher.CreateBatchItem();item.Texture=spriteFont.Texture;item.SortKey=sortKey;this._texCoordTL.X=pCurrentGlyph.BoundsInTexture.X*spriteFont.Texture.TexelWidth;this._texCoordTL.Y=pCurrentGlyph.BoundsInTexture.Y*spriteFont.Texture.TexelHeight;this._texCoordBR.X=(pCurrentGlyph.BoundsInTexture.X+pCurrentGlyph.BoundsInTexture.Width|0)*spriteFont.Texture.TexelWidth;this._texCoordBR.Y=(pCurrentGlyph.BoundsInTexture.Y+pCurrentGlyph.BoundsInTexture.Height|0)*spriteFont.Texture.TexelHeight;(effects&Microsoft.Xna.Framework.Graphics.SpriteEffects.FlipVertically)!=0&&(temp=this._texCoordBR.Y,this._texCoordBR.Y=this._texCoordTL.Y,this._texCoordTL.Y=temp);(effects&Microsoft.Xna.Framework.Graphics.SpriteEffects.FlipHorizontally)!=0&&(temp1=this._texCoordBR.X,this._texCoordBR.X=this._texCoordTL.X,this._texCoordTL.X=temp1);rotation===0?item.Set(p.v.X,p.v.Y,pCurrentGlyph.BoundsInTexture.Width*scale.X,pCurrentGlyph.BoundsInTexture.Height*scale.Y,color.$clone(),this._texCoordTL.$clone(),this._texCoordBR.$clone(),layerDepth):item.Set$1(p.v.X,p.v.Y,0,0,pCurrentGlyph.BoundsInTexture.Width*scale.X,pCurrentGlyph.BoundsInTexture.Height*scale.Y,sin,cos,color.$clone(),this._texCoordTL.$clone(),this._texCoordBR.$clone(),layerDepth);offset.X+=pCurrentGlyph.Width+pCurrentGlyph.RightSideBearing}this.FlushIfNeeded()},DrawString$3:function(spriteFont,text,position,color){var $t,i,c,currentGlyphIndex,pCurrentGlyph,p,item;this.CheckValid$1(spriteFont,text);var sortKey=this._sortMode===Microsoft.Xna.Framework.Graphics.SpriteSortMode.Texture?spriteFont.Texture.SortingKey:0,offset=Microsoft.Xna.Framework.Vector2.Zero.$clone(),firstGlyphOfLine=!0;for(i=0;i<text.getLength();i=i+1|0)if(c=text.getChar(i),c!==13){if(c===10){offset.X=0;offset.Y+=spriteFont.LineSpacing;firstGlyphOfLine=!0;continue}currentGlyphIndex=spriteFont.GetGlyphIndexOrDefault(c);pCurrentGlyph=($t=spriteFont.Glyphs)[System.Array.index(currentGlyphIndex,$t)].$clone();firstGlyphOfLine?(offset.X=Math.max(pCurrentGlyph.LeftSideBearing,0),firstGlyphOfLine=!1):offset.X+=spriteFont.Spacing+pCurrentGlyph.LeftSideBearing;p=offset.$clone();p.X+=pCurrentGlyph.Cropping.X;p.Y+=pCurrentGlyph.Cropping.Y;p=Microsoft.Xna.Framework.Vector2.op_Addition(p.$clone(),position.$clone());item=this._batcher.CreateBatchItem();item.Texture=spriteFont.Texture;item.SortKey=sortKey;this._texCoordTL.X=pCurrentGlyph.BoundsInTexture.X*spriteFont.Texture.TexelWidth;this._texCoordTL.Y=pCurrentGlyph.BoundsInTexture.Y*spriteFont.Texture.TexelHeight;this._texCoordBR.X=(pCurrentGlyph.BoundsInTexture.X+pCurrentGlyph.BoundsInTexture.Width|0)*spriteFont.Texture.TexelWidth;this._texCoordBR.Y=(pCurrentGlyph.BoundsInTexture.Y+pCurrentGlyph.BoundsInTexture.Height|0)*spriteFont.Texture.TexelHeight;item.Set(p.X,p.Y,pCurrentGlyph.BoundsInTexture.Width,pCurrentGlyph.BoundsInTexture.Height,color.$clone(),this._texCoordTL.$clone(),this._texCoordBR.$clone(),0);offset.X+=pCurrentGlyph.Width+pCurrentGlyph.RightSideBearing}this.FlushIfNeeded()},DrawString$5:function(spriteFont,text,position,color,rotation,origin,scale,effects,layerDepth){var scaleVec=new Microsoft.Xna.Framework.Vector2.$ctor2(scale,scale);this.DrawString$4(spriteFont,text,position.$clone(),color.$clone(),rotation,origin.$clone(),scaleVec.$clone(),effects,layerDepth)},DrawString$4:function(spriteFont,text,position,color,rotation,origin,scale,effects,layerDepth){var $t,sortKey,source,size,offset,firstGlyphOfLine,i,c,currentGlyphIndex,pCurrentGlyph,p,item,temp,temp1;this.CheckValid$1(spriteFont,text);sortKey=0;switch(this._sortMode){case Microsoft.Xna.Framework.Graphics.SpriteSortMode.Texture:sortKey=spriteFont.Texture.SortingKey;break;case Microsoft.Xna.Framework.Graphics.SpriteSortMode.FrontToBack:sortKey=layerDepth;break;case Microsoft.Xna.Framework.Graphics.SpriteSortMode.BackToFront:sortKey=-layerDepth;break}var flipAdjustment=Microsoft.Xna.Framework.Vector2.Zero.$clone(),flippedVert=(effects&Microsoft.Xna.Framework.Graphics.SpriteEffects.FlipVertically)===Microsoft.Xna.Framework.Graphics.SpriteEffects.FlipVertically,flippedHorz=(effects&Microsoft.Xna.Framework.Graphics.SpriteEffects.FlipHorizontally)===Microsoft.Xna.Framework.Graphics.SpriteEffects.FlipHorizontally;(flippedVert||flippedHorz)&&(source={v:new Microsoft.Xna.Framework.Graphics.SpriteFont.CharacterSource.$ctor2(text)},size={v:new Microsoft.Xna.Framework.Vector2},spriteFont.MeasureString$2(source,size),flippedHorz&&(origin.X*=-1,flipAdjustment.X=-size.v.X),flippedVert&&(origin.Y*=-1,flipAdjustment.Y=spriteFont.LineSpacing-size.v.Y));var transformation={v:Microsoft.Xna.Framework.Matrix.Identity.$clone()},cos=0,sin=0;for(rotation===0?(transformation.v.M11=flippedHorz?-scale.X:scale.X,transformation.v.M22=flippedVert?-scale.Y:scale.Y,transformation.v.M41=(flipAdjustment.X-origin.X)*transformation.v.M11+position.X,transformation.v.M42=(flipAdjustment.Y-origin.Y)*transformation.v.M22+position.Y):(cos=Math.cos(rotation),sin=Math.sin(rotation),transformation.v.M11=(flippedHorz?-scale.X:scale.X)*cos,transformation.v.M12=(flippedHorz?-scale.X:scale.X)*sin,transformation.v.M21=(flippedVert?-scale.Y:scale.Y)*-sin,transformation.v.M22=(flippedVert?-scale.Y:scale.Y)*cos,transformation.v.M41=(flipAdjustment.X-origin.X)*transformation.v.M11+(flipAdjustment.Y-origin.Y)*transformation.v.M21+position.X,transformation.v.M42=(flipAdjustment.X-origin.X)*transformation.v.M12+(flipAdjustment.Y-origin.Y)*transformation.v.M22+position.Y),offset=Microsoft.Xna.Framework.Vector2.Zero.$clone(),firstGlyphOfLine=!0,i=0;i<text.getLength();i=i+1|0)if(c=text.getChar(i),c!==13){if(c===10){offset.X=0;offset.Y+=spriteFont.LineSpacing;firstGlyphOfLine=!0;continue}currentGlyphIndex=spriteFont.GetGlyphIndexOrDefault(c);pCurrentGlyph=($t=spriteFont.Glyphs)[System.Array.index(currentGlyphIndex,$t)].$clone();firstGlyphOfLine?(offset.X=Math.max(pCurrentGlyph.LeftSideBearing,0),firstGlyphOfLine=!1):offset.X+=spriteFont.Spacing+pCurrentGlyph.LeftSideBearing;p={v:offset.$clone()};flippedHorz&&(p.v.X+=pCurrentGlyph.BoundsInTexture.Width);p.v.X+=pCurrentGlyph.Cropping.X;flippedVert&&(p.v.Y+=pCurrentGlyph.BoundsInTexture.Height-spriteFont.LineSpacing|0);p.v.Y+=pCurrentGlyph.Cropping.Y;Microsoft.Xna.Framework.Vector2.Transform$2(p,transformation,p);item=this._batcher.CreateBatchItem();item.Texture=spriteFont.Texture;item.SortKey=sortKey;this._texCoordTL.X=pCurrentGlyph.BoundsInTexture.X*spriteFont.Texture.TexelWidth;this._texCoordTL.Y=pCurrentGlyph.BoundsInTexture.Y*spriteFont.Texture.TexelHeight;this._texCoordBR.X=(pCurrentGlyph.BoundsInTexture.X+pCurrentGlyph.BoundsInTexture.Width|0)*spriteFont.Texture.TexelWidth;this._texCoordBR.Y=(pCurrentGlyph.BoundsInTexture.Y+pCurrentGlyph.BoundsInTexture.Height|0)*spriteFont.Texture.TexelHeight;(effects&Microsoft.Xna.Framework.Graphics.SpriteEffects.FlipVertically)!=0&&(temp=this._texCoordBR.Y,this._texCoordBR.Y=this._texCoordTL.Y,this._texCoordTL.Y=temp);(effects&Microsoft.Xna.Framework.Graphics.SpriteEffects.FlipHorizontally)!=0&&(temp1=this._texCoordBR.X,this._texCoordBR.X=this._texCoordTL.X,this._texCoordTL.X=temp1);rotation===0?item.Set(p.v.X,p.v.Y,pCurrentGlyph.BoundsInTexture.Width*scale.X,pCurrentGlyph.BoundsInTexture.Height*scale.Y,color.$clone(),this._texCoordTL.$clone(),this._texCoordBR.$clone(),layerDepth):item.Set$1(p.v.X,p.v.Y,0,0,pCurrentGlyph.BoundsInTexture.Width*scale.X,pCurrentGlyph.BoundsInTexture.Height*scale.Y,sin,cos,color.$clone(),this._texCoordTL.$clone(),this._texCoordBR.$clone(),layerDepth);offset.X+=pCurrentGlyph.Width+pCurrentGlyph.RightSideBearing}this.FlushIfNeeded()},Dispose$1:function(disposing){this.IsDisposed||disposing&&this._spriteEffect!=null&&(this._spriteEffect.Dispose(),this._spriteEffect=null);Microsoft.Xna.Framework.Graphics.GraphicsResource.prototype.Dispose$1.call(this,disposing)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.VertexBufferBindings",{inherits:[Microsoft.Xna.Framework.Graphics.VertexInputLayout],fields:{_vertexBuffers:null,_vertexOffsets:null},ctors:{ctor:function(maxVertexBufferSlots){this.$initialize();Microsoft.Xna.Framework.Graphics.VertexInputLayout.ctor.call(this,System.Array.init(maxVertexBufferSlots,null,Microsoft.Xna.Framework.Graphics.VertexDeclaration),System.Array.init(maxVertexBufferSlots,0,System.Int32),0);this._vertexBuffers=System.Array.init(maxVertexBufferSlots,null,Microsoft.Xna.Framework.Graphics.VertexBuffer);this._vertexOffsets=System.Array.init(maxVertexBufferSlots,0,System.Int32)}},methods:{Clear:function(){return this.Count===0?!1:(System.Array.fill(this.VertexDeclarations,null,0,this.Count),System.Array.fill(this.InstanceFrequencies,0,0,this.Count),System.Array.fill(this._vertexBuffers,null,0,this.Count),System.Array.fill(this._vertexOffsets,0,0,this.Count),this.Count=0,!0)},Set:function(vertexBuffer,vertexOffset){var $t,$t1,$t2;return this.Count===1&&($t=this.InstanceFrequencies)[System.Array.index(0,$t)]===0&&Bridge.referenceEquals(this._vertexBuffers[System.Array.index(0,this._vertexBuffers)],vertexBuffer)&&this._vertexOffsets[System.Array.index(0,this._vertexOffsets)]===vertexOffset?!1:(($t1=this.VertexDeclarations)[System.Array.index(0,$t1)]=vertexBuffer.VertexDeclaration,($t2=this.InstanceFrequencies)[System.Array.index(0,$t2)]=0,this._vertexBuffers[System.Array.index(0,this._vertexBuffers)]=vertexBuffer,this._vertexOffsets[System.Array.index(0,this._vertexOffsets)]=vertexOffset,this.Count>1&&(System.Array.fill(this.VertexDeclarations,null,1,this.Count-1|0),System.Array.fill(this.InstanceFrequencies,0,1,this.Count-1|0),System.Array.fill(this._vertexBuffers,null,1,this.Count-1|0),System.Array.fill(this._vertexOffsets,0,1,this.Count-1|0)),this.Count=1,!0)},Set$1:function(vertexBufferBindings){var $t,$t1,$t2,isDirty,i,startIndex,length;for(vertexBufferBindings===void 0&&(vertexBufferBindings=[]),isDirty=!1,i=0;i<vertexBufferBindings.length;i=i+1|0)($t=this.InstanceFrequencies)[System.Array.index(i,$t)]===vertexBufferBindings[System.Array.index(i,vertexBufferBindings)].InstanceFrequency&&Bridge.referenceEquals(this._vertexBuffers[System.Array.index(i,this._vertexBuffers)],vertexBufferBindings[System.Array.index(i,vertexBufferBindings)].VertexBuffer)&&this._vertexOffsets[System.Array.index(i,this._vertexOffsets)]===vertexBufferBindings[System.Array.index(i,vertexBufferBindings)].VertexOffset||(($t1=this.VertexDeclarations)[System.Array.index(i,$t1)]=vertexBufferBindings[System.Array.index(i,vertexBufferBindings)].VertexBuffer.VertexDeclaration,($t2=this.InstanceFrequencies)[System.Array.index(i,$t2)]=vertexBufferBindings[System.Array.index(i,vertexBufferBindings)].InstanceFrequency,this._vertexBuffers[System.Array.index(i,this._vertexBuffers)]=vertexBufferBindings[System.Array.index(i,vertexBufferBindings)].VertexBuffer,this._vertexOffsets[System.Array.index(i,this._vertexOffsets)]=vertexBufferBindings[System.Array.index(i,vertexBufferBindings)].VertexOffset,isDirty=!0);return this.Count>vertexBufferBindings.length&&(startIndex=vertexBufferBindings.length,length=this.Count-startIndex|0,System.Array.fill(this.VertexDeclarations,null,startIndex,length),System.Array.fill(this.InstanceFrequencies,0,startIndex,length),System.Array.fill(this._vertexBuffers,null,startIndex,length),System.Array.fill(this._vertexOffsets,0,startIndex,length),isDirty=!0),this.Count=vertexBufferBindings.length,isDirty},Get:function(slot){var $t;return new Microsoft.Xna.Framework.Graphics.VertexBufferBinding.$ctor3(this._vertexBuffers[System.Array.index(slot,this._vertexBuffers)],this._vertexOffsets[System.Array.index(slot,this._vertexOffsets)],($t=this.InstanceFrequencies)[System.Array.index(slot,$t)])},Get$1:function(){for(var $t,bindings=System.Array.init(this.Count,function(){return new Microsoft.Xna.Framework.Graphics.VertexBufferBinding},Microsoft.Xna.Framework.Graphics.VertexBufferBinding),i=0;i<bindings.length;i=i+1|0)bindings[System.Array.index(i,bindings)]=new Microsoft.Xna.Framework.Graphics.VertexBufferBinding.$ctor3(this._vertexBuffers[System.Array.index(i,this._vertexBuffers)],this._vertexOffsets[System.Array.index(i,this._vertexOffsets)],($t=this.InstanceFrequencies)[System.Array.index(i,$t)]);return bindings}}});Bridge.define("Microsoft.Xna.Framework.Graphics.VertexDeclarationCache$1",function(T){return{statics:{fields:{_cached:null},props:{VertexDeclaration:{get:function(){return Microsoft.Xna.Framework.Graphics.VertexDeclaration.op_Equality(Microsoft.Xna.Framework.Graphics.VertexDeclarationCache$1(T)._cached,null)&&(Microsoft.Xna.Framework.Graphics.VertexDeclarationCache$1(T)._cached=Microsoft.Xna.Framework.Graphics.VertexDeclaration.FromType(T)),Microsoft.Xna.Framework.Graphics.VertexDeclarationCache$1(T)._cached}}}}}});Bridge.define("Microsoft.Xna.Framework.Graphics.VertexPosition",{inherits:[Microsoft.Xna.Framework.Graphics.IVertexType],$kind:"struct",statics:{fields:{VertexDeclaration:null},ctors:{ctor:function(){var elements=System.Array.init([new Microsoft.Xna.Framework.Graphics.VertexElement.$ctor1(0,Microsoft.Xna.Framework.Graphics.VertexElementFormat.Vector3,Microsoft.Xna.Framework.Graphics.VertexElementUsage.Position,0)],Microsoft.Xna.Framework.Graphics.VertexElement),declaration=new Microsoft.Xna.Framework.Graphics.VertexDeclaration.$ctor1(elements);Microsoft.Xna.Framework.Graphics.VertexPosition.VertexDeclaration=declaration}},methods:{op_Equality:function(left,right){return Microsoft.Xna.Framework.Vector3.op_Equality(left.Position.$clone(),right.Position.$clone())},op_Inequality:function(left,right){return!Microsoft.Xna.Framework.Graphics.VertexPosition.op_Equality(left.$clone(),right.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.VertexPosition}}},fields:{Position:null},props:{Microsoft$Xna$Framework$Graphics$IVertexType$VertexDeclaration:{get:function(){return Microsoft.Xna.Framework.Graphics.VertexPosition.VertexDeclaration}}},ctors:{init:function(){this.Position=new Microsoft.Xna.Framework.Vector3},$ctor1:function(position){this.$initialize();this.Position=position.$clone()},ctor:function(){this.$initialize()}},methods:{getHashCode:function(){return this.Position.getHashCode()},toString:function(){return"{{Position:"+this.Position+"}}"},equals:function(obj){return obj==null?!1:Bridge.referenceEquals(Bridge.getType(obj),Microsoft.Xna.Framework.Graphics.VertexPosition)?Microsoft.Xna.Framework.Graphics.VertexPosition.op_Equality(this,System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Graphics.VertexPosition),Microsoft.Xna.Framework.Graphics.VertexPosition))):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.VertexPosition;return s.Position=this.Position.$clone(),s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.VertexPositionColor",{inherits:[Microsoft.Xna.Framework.Graphics.IVertexType],$kind:"struct",statics:{fields:{VertexDeclaration:null},ctors:{ctor:function(){var elements=System.Array.init([new Microsoft.Xna.Framework.Graphics.VertexElement.$ctor1(0,Microsoft.Xna.Framework.Graphics.VertexElementFormat.Vector3,Microsoft.Xna.Framework.Graphics.VertexElementUsage.Position,0),new Microsoft.Xna.Framework.Graphics.VertexElement.$ctor1(12,Microsoft.Xna.Framework.Graphics.VertexElementFormat.Color,Microsoft.Xna.Framework.Graphics.VertexElementUsage.Color,0)],Microsoft.Xna.Framework.Graphics.VertexElement),declaration=new Microsoft.Xna.Framework.Graphics.VertexDeclaration.$ctor1(elements);Microsoft.Xna.Framework.Graphics.VertexPositionColor.VertexDeclaration=declaration}},methods:{op_Equality:function(left,right){return Microsoft.Xna.Framework.Color.op_Equality(left.Color.$clone(),right.Color.$clone())&&Microsoft.Xna.Framework.Vector3.op_Equality(left.Position.$clone(),right.Position.$clone())},op_Inequality:function(left,right){return!Microsoft.Xna.Framework.Graphics.VertexPositionColor.op_Equality(left.$clone(),right.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.VertexPositionColor}}},fields:{Position:null,Color:null},props:{Microsoft$Xna$Framework$Graphics$IVertexType$VertexDeclaration:{get:function(){return Microsoft.Xna.Framework.Graphics.VertexPositionColor.VertexDeclaration}}},ctors:{init:function(){this.Position=new Microsoft.Xna.Framework.Vector3;this.Color=new Microsoft.Xna.Framework.Color},$ctor1:function(position,color){this.$initialize();this.Position=position.$clone();this.Color=color.$clone()},ctor:function(){this.$initialize()}},methods:{getHashCode:function(){return Bridge.Int.mul(this.Position.getHashCode(),397)^this.Color.getHashCode()},toString:function(){return"{{Position:"+this.Position+" Color:"+this.Color+"}}"},equals:function(obj){return obj==null?!1:Bridge.referenceEquals(Bridge.getType(obj),Bridge.getType(this))?Microsoft.Xna.Framework.Graphics.VertexPositionColor.op_Equality(this,System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Graphics.VertexPositionColor),Microsoft.Xna.Framework.Graphics.VertexPositionColor))):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.VertexPositionColor;return s.Position=this.Position.$clone(),s.Color=this.Color.$clone(),s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.VertexPositionColorTexture",{inherits:[Microsoft.Xna.Framework.Graphics.IVertexType],$kind:"struct",statics:{fields:{VertexDeclaration:null},ctors:{ctor:function(){var elements=System.Array.init([new Microsoft.Xna.Framework.Graphics.VertexElement.$ctor1(0,Microsoft.Xna.Framework.Graphics.VertexElementFormat.Vector3,Microsoft.Xna.Framework.Graphics.VertexElementUsage.Position,0),new Microsoft.Xna.Framework.Graphics.VertexElement.$ctor1(12,Microsoft.Xna.Framework.Graphics.VertexElementFormat.Color,Microsoft.Xna.Framework.Graphics.VertexElementUsage.Color,0),new Microsoft.Xna.Framework.Graphics.VertexElement.$ctor1(16,Microsoft.Xna.Framework.Graphics.VertexElementFormat.Vector2,Microsoft.Xna.Framework.Graphics.VertexElementUsage.TextureCoordinate,0)],Microsoft.Xna.Framework.Graphics.VertexElement);Microsoft.Xna.Framework.Graphics.VertexPositionColorTexture.VertexDeclaration=new Microsoft.Xna.Framework.Graphics.VertexDeclaration.$ctor1(elements)}},methods:{op_Equality:function(left,right){return Microsoft.Xna.Framework.Vector3.op_Equality(left.Position.$clone(),right.Position.$clone())&&Microsoft.Xna.Framework.Color.op_Equality(left.Color.$clone(),right.Color.$clone())&&Microsoft.Xna.Framework.Vector2.op_Equality(left.TextureCoordinate.$clone(),right.TextureCoordinate.$clone())},op_Inequality:function(left,right){return!Microsoft.Xna.Framework.Graphics.VertexPositionColorTexture.op_Equality(left.$clone(),right.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.VertexPositionColorTexture}}},fields:{Position:null,Color:null,TextureCoordinate:null},props:{Microsoft$Xna$Framework$Graphics$IVertexType$VertexDeclaration:{get:function(){return Microsoft.Xna.Framework.Graphics.VertexPositionColorTexture.VertexDeclaration}}},ctors:{init:function(){this.Position=new Microsoft.Xna.Framework.Vector3;this.Color=new Microsoft.Xna.Framework.Color;this.TextureCoordinate=new Microsoft.Xna.Framework.Vector2},$ctor1:function(position,color,textureCoordinate){this.$initialize();this.Position=position.$clone();this.Color=color.$clone();this.TextureCoordinate=textureCoordinate.$clone()},ctor:function(){this.$initialize()}},methods:{getHashCode:function(){var hashCode=this.Position.getHashCode();return hashCode=Bridge.Int.mul(hashCode,397)^this.Color.getHashCode(),Bridge.Int.mul(hashCode,397)^this.TextureCoordinate.getHashCode()},toString:function(){return"{{Position:"+this.Position+" Color:"+this.Color+" TextureCoordinate:"+this.TextureCoordinate+"}}"},equals:function(obj){return obj==null?!1:Bridge.referenceEquals(Bridge.getType(obj),Bridge.getType(this))?Microsoft.Xna.Framework.Graphics.VertexPositionColorTexture.op_Equality(this,System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Graphics.VertexPositionColorTexture),Microsoft.Xna.Framework.Graphics.VertexPositionColorTexture))):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.VertexPositionColorTexture;return s.Position=this.Position.$clone(),s.Color=this.Color.$clone(),s.TextureCoordinate=this.TextureCoordinate.$clone(),s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.VertexPositionNormalTexture",{inherits:[Microsoft.Xna.Framework.Graphics.IVertexType],$kind:"struct",statics:{fields:{VertexDeclaration:null},ctors:{ctor:function(){var elements=System.Array.init([new Microsoft.Xna.Framework.Graphics.VertexElement.$ctor1(0,Microsoft.Xna.Framework.Graphics.VertexElementFormat.Vector3,Microsoft.Xna.Framework.Graphics.VertexElementUsage.Position,0),new Microsoft.Xna.Framework.Graphics.VertexElement.$ctor1(12,Microsoft.Xna.Framework.Graphics.VertexElementFormat.Vector3,Microsoft.Xna.Framework.Graphics.VertexElementUsage.Normal,0),new Microsoft.Xna.Framework.Graphics.VertexElement.$ctor1(24,Microsoft.Xna.Framework.Graphics.VertexElementFormat.Vector2,Microsoft.Xna.Framework.Graphics.VertexElementUsage.TextureCoordinate,0)],Microsoft.Xna.Framework.Graphics.VertexElement),declaration=new Microsoft.Xna.Framework.Graphics.VertexDeclaration.$ctor1(elements);Microsoft.Xna.Framework.Graphics.VertexPositionNormalTexture.VertexDeclaration=declaration}},methods:{op_Equality:function(left,right){return Microsoft.Xna.Framework.Vector3.op_Equality(left.Position.$clone(),right.Position.$clone())&&Microsoft.Xna.Framework.Vector3.op_Equality(left.Normal.$clone(),right.Normal.$clone())&&Microsoft.Xna.Framework.Vector2.op_Equality(left.TextureCoordinate.$clone(),right.TextureCoordinate.$clone())},op_Inequality:function(left,right){return!Microsoft.Xna.Framework.Graphics.VertexPositionNormalTexture.op_Equality(left.$clone(),right.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.VertexPositionNormalTexture}}},fields:{Position:null,Normal:null,TextureCoordinate:null},props:{Microsoft$Xna$Framework$Graphics$IVertexType$VertexDeclaration:{get:function(){return Microsoft.Xna.Framework.Graphics.VertexPositionNormalTexture.VertexDeclaration}}},ctors:{init:function(){this.Position=new Microsoft.Xna.Framework.Vector3;this.Normal=new Microsoft.Xna.Framework.Vector3;this.TextureCoordinate=new Microsoft.Xna.Framework.Vector2},$ctor1:function(position,normal,textureCoordinate){this.$initialize();this.Position=position.$clone();this.Normal=normal.$clone();this.TextureCoordinate=textureCoordinate.$clone()},ctor:function(){this.$initialize()}},methods:{getHashCode:function(){var hashCode=this.Position.getHashCode();return hashCode=Bridge.Int.mul(hashCode,397)^this.Normal.getHashCode(),Bridge.Int.mul(hashCode,397)^this.TextureCoordinate.getHashCode()},toString:function(){return"{{Position:"+this.Position+" Normal:"+this.Normal+" TextureCoordinate:"+this.TextureCoordinate+"}}"},equals:function(obj){return obj==null?!1:Bridge.referenceEquals(Bridge.getType(obj),Bridge.getType(this))?Microsoft.Xna.Framework.Graphics.VertexPositionNormalTexture.op_Equality(this,System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Graphics.VertexPositionNormalTexture),Microsoft.Xna.Framework.Graphics.VertexPositionNormalTexture))):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.VertexPositionNormalTexture;return s.Position=this.Position.$clone(),s.Normal=this.Normal.$clone(),s.TextureCoordinate=this.TextureCoordinate.$clone(),s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.VertexPositionTexture",{inherits:[Microsoft.Xna.Framework.Graphics.IVertexType],$kind:"struct",statics:{fields:{VertexDeclaration:null},ctors:{ctor:function(){var elements=System.Array.init([new Microsoft.Xna.Framework.Graphics.VertexElement.$ctor1(0,Microsoft.Xna.Framework.Graphics.VertexElementFormat.Vector3,Microsoft.Xna.Framework.Graphics.VertexElementUsage.Position,0),new Microsoft.Xna.Framework.Graphics.VertexElement.$ctor1(12,Microsoft.Xna.Framework.Graphics.VertexElementFormat.Vector2,Microsoft.Xna.Framework.Graphics.VertexElementUsage.TextureCoordinate,0)],Microsoft.Xna.Framework.Graphics.VertexElement),declaration=new Microsoft.Xna.Framework.Graphics.VertexDeclaration.$ctor1(elements);Microsoft.Xna.Framework.Graphics.VertexPositionTexture.VertexDeclaration=declaration}},methods:{op_Equality:function(left,right){return Microsoft.Xna.Framework.Vector3.op_Equality(left.Position.$clone(),right.Position.$clone())&&Microsoft.Xna.Framework.Vector2.op_Equality(left.TextureCoordinate.$clone(),right.TextureCoordinate.$clone())},op_Inequality:function(left,right){return!Microsoft.Xna.Framework.Graphics.VertexPositionTexture.op_Equality(left.$clone(),right.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.VertexPositionTexture}}},fields:{Position:null,TextureCoordinate:null},props:{Microsoft$Xna$Framework$Graphics$IVertexType$VertexDeclaration:{get:function(){return Microsoft.Xna.Framework.Graphics.VertexPositionTexture.VertexDeclaration}}},ctors:{init:function(){this.Position=new Microsoft.Xna.Framework.Vector3;this.TextureCoordinate=new Microsoft.Xna.Framework.Vector2},$ctor1:function(position,textureCoordinate){this.$initialize();this.Position=position.$clone();this.TextureCoordinate=textureCoordinate.$clone()},ctor:function(){this.$initialize()}},methods:{getHashCode:function(){return Bridge.Int.mul(this.Position.getHashCode(),397)^this.TextureCoordinate.getHashCode()},toString:function(){return"{{Position:"+this.Position+" TextureCoordinate:"+this.TextureCoordinate+"}}"},equals:function(obj){return obj==null?!1:Bridge.referenceEquals(Bridge.getType(obj),Bridge.getType(this))?Microsoft.Xna.Framework.Graphics.VertexPositionTexture.op_Equality(this,System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Graphics.VertexPositionTexture),Microsoft.Xna.Framework.Graphics.VertexPositionTexture))):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.VertexPositionTexture;return s.Position=this.Position.$clone(),s.TextureCoordinate=this.TextureCoordinate.$clone(),s}}});Bridge.define("Microsoft.Xna.Framework.GraphicsDeviceManager",{inherits:[Microsoft.Xna.Framework.Graphics.IGraphicsDeviceService,System.IDisposable,Microsoft.Xna.Framework.IGraphicsDeviceManager],statics:{fields:{DefaultBackBufferWidth:0,DefaultBackBufferHeight:0},ctors:{init:function(){this.DefaultBackBufferWidth=800;this.DefaultBackBufferHeight=480}}},fields:{_game:null,_graphicsDevice:null,_initialized:!1,_preferredBackBufferHeight:0,_preferredBackBufferWidth:0,_preferredBackBufferFormat:0,_preferredDepthStencilFormat:0,_preferMultiSampling:!1,_supportedOrientations:0,_synchronizedWithVerticalRetrace:!1,_drawBegun:!1,_disposed:!1,_hardwareModeSwitch:!1,_wantFullScreen:!1,_graphicsProfile:0,_shouldApplyChanges:!1},events:{DeviceCreated:null,DeviceDisposing:null,DeviceReset:null,DeviceResetting:null,PreparingDeviceSettings:null,Disposed:null},props:{GraphicsProfile:{get:function(){return this._graphicsProfile},set:function(value){this._shouldApplyChanges=!0;this._graphicsProfile=value}},GraphicsDevice:{get:function(){return this._graphicsDevice}},IsFullScreen:{get:function(){return this._wantFullScreen},set:function(value){this._shouldApplyChanges=!0;this._wantFullScreen=value}},HardwareModeSwitch:{get:function(){return this._hardwareModeSwitch},set:function(value){this._shouldApplyChanges=!0;this._hardwareModeSwitch=value}},PreferMultiSampling:{get:function(){return this._preferMultiSampling},set:function(value){this._shouldApplyChanges=!0;this._preferMultiSampling=value}},PreferredBackBufferFormat:{get:function(){return this._preferredBackBufferFormat},set:function(value){this._shouldApplyChanges=!0;this._preferredBackBufferFormat=value}},PreferredBackBufferHeight:{get:function(){return this._preferredBackBufferHeight},set:function(value){this._shouldApplyChanges=!0;this._preferredBackBufferHeight=value}},PreferredBackBufferWidth:{get:function(){return this._preferredBackBufferWidth},set:function(value){this._shouldApplyChanges=!0;this._preferredBackBufferWidth=value}},PreferredDepthStencilFormat:{get:function(){return this._preferredDepthStencilFormat},set:function(value){this._shouldApplyChanges=!0;this._preferredDepthStencilFormat=value}},SynchronizeWithVerticalRetrace:{get:function(){return this._synchronizedWithVerticalRetrace},set:function(value){this._shouldApplyChanges=!0;this._synchronizedWithVerticalRetrace=value}},SupportedOrientations:{get:function(){return this._supportedOrientations},set:function(value){this._shouldApplyChanges=!0;this._supportedOrientations=value}}},alias:["BeginDraw","Microsoft$Xna$Framework$IGraphicsDeviceManager$BeginDraw","EndDraw","Microsoft$Xna$Framework$IGraphicsDeviceManager$EndDraw","addDeviceCreated","Microsoft$Xna$Framework$Graphics$IGraphicsDeviceService$addDeviceCreated","removeDeviceCreated","Microsoft$Xna$Framework$Graphics$IGraphicsDeviceService$removeDeviceCreated","addDeviceDisposing","Microsoft$Xna$Framework$Graphics$IGraphicsDeviceService$addDeviceDisposing","removeDeviceDisposing","Microsoft$Xna$Framework$Graphics$IGraphicsDeviceService$removeDeviceDisposing","addDeviceReset","Microsoft$Xna$Framework$Graphics$IGraphicsDeviceService$addDeviceReset","removeDeviceReset","Microsoft$Xna$Framework$Graphics$IGraphicsDeviceService$removeDeviceReset","addDeviceResetting","Microsoft$Xna$Framework$Graphics$IGraphicsDeviceService$addDeviceResetting","removeDeviceResetting","Microsoft$Xna$Framework$Graphics$IGraphicsDeviceService$removeDeviceResetting","Dispose","System$IDisposable$Dispose","GraphicsDevice","Microsoft$Xna$Framework$Graphics$IGraphicsDeviceService$GraphicsDevice"],ctors:{init:function(){this._initialized=!1;this._synchronizedWithVerticalRetrace=!0;this._hardwareModeSwitch=!0},ctor:function(game){if(this.$initialize(),game==null)throw new System.ArgumentNullException.$ctor3("game","Game cannot be null.");this._game=game;this._supportedOrientations=Microsoft.Xna.Framework.DisplayOrientation.Default;this._preferredBackBufferFormat=Microsoft.Xna.Framework.Graphics.SurfaceFormat.Color;this._preferredDepthStencilFormat=Microsoft.Xna.Framework.Graphics.DepthFormat.Depth24;this._synchronizedWithVerticalRetrace=!0;var clientBounds=this._game.Window.ClientBounds.$clone();if(clientBounds.Width>=clientBounds.Height?(this._preferredBackBufferWidth=clientBounds.Width,this._preferredBackBufferHeight=clientBounds.Height):(this._preferredBackBufferWidth=clientBounds.Height,this._preferredBackBufferHeight=clientBounds.Width),this._wantFullScreen=!1,this.GraphicsProfile=Microsoft.Xna.Framework.Graphics.GraphicsProfile.Reach,this._game.Services.GetService(Microsoft.Xna.Framework.IGraphicsDeviceManager)!=null)throw new System.ArgumentException.$ctor1("A graphics device manager is already registered.  The graphics device manager cannot be changed once it is set.");this._game.graphicsDeviceManager=this;this._game.Services.AddService(Microsoft.Xna.Framework.IGraphicsDeviceManager,this);this._game.Services.AddService(Microsoft.Xna.Framework.Graphics.IGraphicsDeviceService,this)}},methods:{CreateDevice:function(){var gdi,ex;if(this._graphicsDevice==null)try{this._initialized||this.Initialize();gdi=this.DoPreparingDeviceSettings();this.CreateDevice$1(gdi)}catch($e1){if($e1=System.Exception.create($e1),Bridge.is($e1,Microsoft.Xna.Framework.Graphics.NoSuitableGraphicsDeviceException))throw $e1;else{ex=$e1;throw new Microsoft.Xna.Framework.Graphics.NoSuitableGraphicsDeviceException.$ctor2("Failed to create graphics device!",ex);}}},CreateDevice$1:function(gdi){this._graphicsDevice==null&&(this._graphicsDevice=new Microsoft.Xna.Framework.Graphics.GraphicsDevice.$ctor2(gdi),this._shouldApplyChanges=!1,this.GraphicsDevice.addDeviceReset(Bridge.fn.bind(this,function(sender,args){this.OnDeviceReset(args)})),this.GraphicsDevice.addDeviceResetting(Bridge.fn.bind(this,function(sender,args){this.OnDeviceResetting(args)})),this._graphicsDevice.addDeviceReset(Bridge.fn.cacheBind(this,this.UpdateTouchPanel)),this._graphicsDevice.addPresentationChanged(Bridge.fn.cacheBind(this,this.OnPresentationChanged)),this.OnDeviceCreated({}))},Microsoft$Xna$Framework$IGraphicsDeviceManager$CreateDevice:function(){this.CreateDevice()},BeginDraw:function(){return this._graphicsDevice==null?!1:(this._drawBegun=!0,!0)},EndDraw:function(){this._graphicsDevice!=null&&this._drawBegun&&(this._drawBegun=!1,this._graphicsDevice.Present())},OnDeviceDisposing:function(e){Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.DeviceDisposing,e)},OnDeviceResetting:function(e){Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.DeviceResetting,e)},OnDeviceReset:function(e){Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.DeviceReset,e)},OnDeviceCreated:function(e){Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.DeviceCreated,e)},DoPreparingDeviceSettings:function(){var gdi=new Microsoft.Xna.Framework.GraphicsDeviceInformation,preparingDeviceSettingsHandler,args;if(this.PrepareGraphicsDeviceInformation(gdi),preparingDeviceSettingsHandler=this.PreparingDeviceSettings,!Bridge.staticEquals(preparingDeviceSettingsHandler,null)&&(args=new Microsoft.Xna.Framework.PreparingDeviceSettingsEventArgs(gdi),preparingDeviceSettingsHandler(this,args),gdi.PresentationParameters==null||gdi.Adapter==null))throw new System.NullReferenceException.$ctor1("Members should not be set to null in PreparingDeviceSettingsEventArgs");return gdi},Dispose:function(){this.Dispose$1(!0);System.GC.SuppressFinalize(this)},Dispose$1:function(disposing){this._disposed||(disposing&&this._graphicsDevice!=null&&(this._graphicsDevice.Dispose(),this._graphicsDevice=null),this._disposed=!0,Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.Disposed,{}))},PreparePresentationParameters:function(presentationParameters){presentationParameters.BackBufferFormat=this._preferredBackBufferFormat;presentationParameters.BackBufferWidth=this._preferredBackBufferWidth;presentationParameters.BackBufferHeight=this._preferredBackBufferHeight;presentationParameters.DepthStencilFormat=this._preferredDepthStencilFormat;presentationParameters.IsFullScreen=this._wantFullScreen;presentationParameters.HardwareModeSwitch=this._hardwareModeSwitch;presentationParameters.PresentationInterval=this._synchronizedWithVerticalRetrace?Microsoft.Xna.Framework.Graphics.PresentInterval.One:Microsoft.Xna.Framework.Graphics.PresentInterval.Immediate;presentationParameters.DisplayOrientation=this._game.Window.CurrentOrientation;presentationParameters.DeviceWindowHandle=this._game.Window.Handle;presentationParameters.MultiSampleCount=this._preferMultiSampling?this.GraphicsDevice!=null?this.GraphicsDevice.GraphicsCapabilities.MaxMultiSampleCount:32:0},PrepareGraphicsDeviceInformation:function(gdi){gdi.Adapter=Microsoft.Xna.Framework.Graphics.GraphicsAdapter.DefaultAdapter;gdi.GraphicsProfile=this.GraphicsProfile;var pp=new Microsoft.Xna.Framework.Graphics.PresentationParameters;this.PreparePresentationParameters(pp);gdi.PresentationParameters=pp},ApplyChanges:function(){if(this._graphicsDevice==null&&this.CreateDevice(),this._shouldApplyChanges){this._shouldApplyChanges=!1;this._game.Window.SetSupportedOrientations(this._supportedOrientations);var gdi=this.DoPreparingDeviceSettings();if(gdi.GraphicsProfile!==this.GraphicsDevice.GraphicsProfile){this.DisposeGraphicsDevice();this.CreateDevice$1(gdi);return}this.GraphicsDevice.Reset$1(gdi.PresentationParameters)}},DisposeGraphicsDevice:function(){this._graphicsDevice.Dispose();Microsoft.Xna.Framework.EventHelpers.Raise$1(Bridge.global.System.Object,this,this.DeviceDisposing,{});this._graphicsDevice=null},PlatformInitialize:function(presentationParameters){},Initialize:function(){this._game.Window.SetSupportedOrientations(this._supportedOrientations);var presentationParameters=new Microsoft.Xna.Framework.Graphics.PresentationParameters;this.PreparePresentationParameters(presentationParameters);this.PlatformInitialize(presentationParameters);this._initialized=!0},UpdateTouchPanel:function(sender,eventArgs){Microsoft.Xna.Framework.Input.Touch.TouchPanel.DisplayWidth=this._graphicsDevice.PresentationParameters.BackBufferWidth;Microsoft.Xna.Framework.Input.Touch.TouchPanel.DisplayHeight=this._graphicsDevice.PresentationParameters.BackBufferHeight;Microsoft.Xna.Framework.Input.Touch.TouchPanel.DisplayOrientation=this._graphicsDevice.PresentationParameters.DisplayOrientation},ToggleFullScreen:function(){this.IsFullScreen=!this.IsFullScreen;this.ApplyChanges()},OnPresentationChanged:function(sender,args){this._game.Platform.OnPresentationChanged(args.PresentationParameters)}}});Bridge.define("Microsoft.Xna.Framework.Input.Touch.TouchCollection",{inherits:[System.Collections.Generic.IList$1(Microsoft.Xna.Framework.Input.Touch.TouchLocation)],$kind:"struct",statics:{fields:{EmptyLocationArray:null,Empty:null},ctors:{init:function(){this.Empty=new Microsoft.Xna.Framework.Input.Touch.TouchCollection;this.EmptyLocationArray=System.Array.init(0,function(){return new Microsoft.Xna.Framework.Input.Touch.TouchLocation},Microsoft.Xna.Framework.Input.Touch.TouchLocation);this.Empty=new Microsoft.Xna.Framework.Input.Touch.TouchCollection.$ctor1(Microsoft.Xna.Framework.Input.Touch.TouchCollection.EmptyLocationArray)}},methods:{getDefaultValue:function(){return new Microsoft.Xna.Framework.Input.Touch.TouchCollection}}},fields:{_collection:null},props:{Collection:{get:function(){return this._collection||Microsoft.Xna.Framework.Input.Touch.TouchCollection.EmptyLocationArray}},IsConnected:{get:function(){return Microsoft.Xna.Framework.Input.Touch.TouchPanel.GetCapabilities().IsConnected}},IsReadOnly:{get:function(){return!0}},Count:{get:function(){return this.Collection.length}}},alias:["IsReadOnly","System$Collections$Generic$ICollection$1$Microsoft$Xna$Framework$Input$Touch$TouchLocation$IsReadOnly","indexOf","System$Collections$Generic$IList$1$Microsoft$Xna$Framework$Input$Touch$TouchLocation$indexOf","insert","System$Collections$Generic$IList$1$Microsoft$Xna$Framework$Input$Touch$TouchLocation$insert","removeAt","System$Collections$Generic$IList$1$Microsoft$Xna$Framework$Input$Touch$TouchLocation$removeAt","getItem","System$Collections$Generic$IList$1$Microsoft$Xna$Framework$Input$Touch$TouchLocation$getItem","setItem","System$Collections$Generic$IList$1$Microsoft$Xna$Framework$Input$Touch$TouchLocation$setItem","add","System$Collections$Generic$ICollection$1$Microsoft$Xna$Framework$Input$Touch$TouchLocation$add","clear","System$Collections$Generic$ICollection$1$Microsoft$Xna$Framework$Input$Touch$TouchLocation$clear","contains","System$Collections$Generic$ICollection$1$Microsoft$Xna$Framework$Input$Touch$TouchLocation$contains","copyTo","System$Collections$Generic$ICollection$1$Microsoft$Xna$Framework$Input$Touch$TouchLocation$copyTo","Count","System$Collections$Generic$ICollection$1$Microsoft$Xna$Framework$Input$Touch$TouchLocation$Count","remove","System$Collections$Generic$ICollection$1$Microsoft$Xna$Framework$Input$Touch$TouchLocation$remove","System$Collections$Generic$IEnumerable$1$Microsoft$Xna$Framework$Input$Touch$TouchLocation$GetEnumerator","System$Collections$Generic$IEnumerable$1$GetEnumerator"],ctors:{$ctor1:function(touches){if(this.$initialize(),touches==null)throw new System.ArgumentNullException.$ctor1("touches");this._collection=touches},ctor:function(){this.$initialize()}},methods:{getItem:function(index){var $t;return($t=this.Collection)[System.Array.index(index,$t)].$clone()},setItem:function(index,value){throw new System.NotSupportedException.ctor;},FindById:function(id,touchLocation){for(var location,$t,i=0;i<this.Collection.length;i=i+1|0)if(location=($t=this.Collection)[System.Array.index(i,$t)].$clone(),location.Id===id)return touchLocation.v=location.$clone(),!0;return touchLocation.v=Bridge.getDefaultValue(Microsoft.Xna.Framework.Input.Touch.TouchLocation),!1},indexOf:function(item){for(var $t,i=0;i<this.Collection.length;i=i+1|0)if(Microsoft.Xna.Framework.Input.Touch.TouchLocation.op_Equality(item.$clone(),($t=this.Collection)[System.Array.index(i,$t)].$clone()))return i;return-1},insert:function(index,item){throw new System.NotSupportedException.ctor;},removeAt:function(index){throw new System.NotSupportedException.ctor;},add:function(item){throw new System.NotSupportedException.ctor;},clear:function(){throw new System.NotSupportedException.ctor;},contains:function(item){for(var $t,i=0;i<this.Collection.length;i=i+1|0)if(Microsoft.Xna.Framework.Input.Touch.TouchLocation.op_Equality(item.$clone(),($t=this.Collection)[System.Array.index(i,$t)].$clone()))return!0;return!1},copyTo:function(array,arrayIndex){var $t;$t=this.Collection;System.Array.copy($t,0,array,arrayIndex,$t.length)},remove:function(item){throw new System.NotSupportedException.ctor;},GetEnumerator:function(){return new Microsoft.Xna.Framework.Input.Touch.TouchCollection.Enumerator.$ctor1(this)},System$Collections$Generic$IEnumerable$1$Microsoft$Xna$Framework$Input$Touch$TouchLocation$GetEnumerator:function(){return new Microsoft.Xna.Framework.Input.Touch.TouchCollection.Enumerator.$ctor1(this).$clone()},System$Collections$IEnumerable$GetEnumerator:function(){return new Microsoft.Xna.Framework.Input.Touch.TouchCollection.Enumerator.$ctor1(this).$clone()},getHashCode:function(){return Bridge.addHash([5447780241,this._collection])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Input.Touch.TouchCollection)?Bridge.equals(this._collection,o._collection):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Input.Touch.TouchCollection;return s._collection=this._collection,s}}});Bridge.define("Microsoft.Xna.Framework.Input.Touch.TouchCollection.Enumerator",{inherits:[System.Collections.Generic.IEnumerator$1(Microsoft.Xna.Framework.Input.Touch.TouchLocation)],$kind:"nested struct",statics:{methods:{getDefaultValue:function(){return new Microsoft.Xna.Framework.Input.Touch.TouchCollection.Enumerator}}},fields:{_collection:null,_position:0},props:{Current:{get:function(){return this._collection.getItem(this._position).$clone()}},System$Collections$IEnumerator$Current:{get:function(){return this._collection.getItem(this._position).$clone()}}},alias:["Current",["System$Collections$Generic$IEnumerator$1$Microsoft$Xna$Framework$Input$Touch$TouchLocation$Current$1","System$Collections$Generic$IEnumerator$1$Current$1"],"moveNext","System$Collections$IEnumerator$moveNext","Dispose","System$IDisposable$Dispose","reset","System$Collections$IEnumerator$reset"],ctors:{init:function(){this._collection=new Microsoft.Xna.Framework.Input.Touch.TouchCollection},$ctor1:function(collection){this.$initialize();this._collection=collection;this._position=-1},ctor:function(){this.$initialize()}},methods:{moveNext:function(){return this._position=this._position+1|0,this._position<this._collection.Count},Dispose:function(){},reset:function(){this._position=-1},getHashCode:function(){return Bridge.addHash([3788985113,this._collection,this._position])},equals:function(o){return Bridge.is(o,Microsoft.Xna.Framework.Input.Touch.TouchCollection.Enumerator)?Bridge.equals(this._collection,o._collection)&&Bridge.equals(this._position,o._position):!1},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Input.Touch.TouchCollection.Enumerator;return s._collection=this._collection,s._position=this._position,s}}});Bridge.define("Microsoft.Xna.Framework.WebGamePlatform",{inherits:[Microsoft.Xna.Framework.GamePlatform],fields:{_view:null,_exit:!1},props:{DefaultRunBehavior:{get:function(){return Microsoft.Xna.Framework.GameRunBehavior.Asynchronous}}},ctors:{ctor:function(game){this.$initialize();Microsoft.Xna.Framework.GamePlatform.ctor.call(this,game);this.Window=this._view=new Microsoft.Xna.Framework.WebGameWindow(game)}},methods:{Exit:function(){this._exit=!0},RunLoop:function(){throw new System.Exception("How did this happen?");},StartRunLoop:function(){window.requestAnimationFrame(Bridge.fn.cacheBind(this,this.AnimationFrame))},AnimationFrame:function(timestamp){this.Game.Tick();this._exit||window.requestAnimationFrame(Bridge.fn.cacheBind(this,this.AnimationFrame))},BeforeUpdate:function(gameTime){return!0},BeforeDraw:function(gameTime){return!0},EnterFullScreen:function(){},ExitFullScreen:function(){},OnPresentationChanged:function(pp){this.BeginScreenDeviceChange(pp.IsFullScreen);this.EndScreenDeviceChange("",pp.BackBufferWidth,pp.BackBufferHeight)},BeginScreenDeviceChange:function(willBeFullScreen){this._view.BeginScreenDeviceChange(willBeFullScreen)},EndScreenDeviceChange:function(screenDeviceName,clientWidth,clientHeight){this._view.EndScreenDeviceChange$1(screenDeviceName,clientWidth,clientHeight)}}});Bridge.define("Microsoft.Xna.Framework.WebGameWindow",{inherits:[Microsoft.Xna.Framework.GameWindow],fields:{_canvas:null,_isFullscreen:!1,_willBeFullScreen:!1,_screenDeviceName:null,_game:null,_keys:null},props:{AllowUserResizing:{get:function(){return!1},set:function(value){}},ClientBounds:{get:function(){return new Microsoft.Xna.Framework.Rectangle.$ctor2(0,0,this._canvas.width|0,this._canvas.height|0)}},CurrentOrientation:{get:function(){return Microsoft.Xna.Framework.DisplayOrientation.Default}},Handle:{get:function(){return Microsoft.Xna.Framework.IntPtr.Zero}},ScreenDeviceName:{get:function(){return this._screenDeviceName}}},ctors:{ctor:function(game){var $t,possiblecontexts,context;this.$initialize();Microsoft.Xna.Framework.GameWindow.ctor.call(this);this._game=game;this._keys=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Input.Keys).ctor);Microsoft.Xna.Framework.Input.Keyboard.SetKeys(this._keys);this._canvas=Bridge.as(document.getElementById("monogamecanvas"),HTMLCanvasElement);this._canvas.width=Microsoft.Xna.Framework.GraphicsDeviceManager.DefaultBackBufferWidth>>>0;this._canvas.height=Microsoft.Xna.Framework.GraphicsDeviceManager.DefaultBackBufferHeight>>>0;this._canvas.tabIndex=1e3;this._canvas.style.userSelect="none";this._canvas.style.webkitUserSelect="none";this._canvas.style.msUserSelect="none";possiblecontexts=System.Array.init(["webgl2","experimental-webgl2"],System.String);$t=Bridge.getEnumerator(possiblecontexts);try{while($t.moveNext()){context=$t.Current;try{if(WebHelper.gl=this._canvas.getContext(context),WebHelper.gl!=null)break}catch($e1){$e1=System.Exception.create($e1)}}}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}if(WebHelper.gl==null)throw new System.Exception("Failed to get WebGL context :|");this._canvas.oncontextmenu=Bridge.fn.combine(this._canvas.oncontextmenu,function(e){e.preventDefault()});this._canvas.onmousemove=Bridge.fn.combine(this._canvas.onmousemove,Bridge.fn.bind(this,function(e){this.Canvas_MouseMove(e)}));this._canvas.onmousedown=Bridge.fn.combine(this._canvas.onmousedown,Bridge.fn.bind(this,function(e){this.Canvas_MouseDown(e)}));this._canvas.onmouseup=Bridge.fn.combine(this._canvas.onmouseup,Bridge.fn.bind(this,function(e){this.Canvas_MouseUp(e)}));this._canvas.onmousewheel=Bridge.fn.combine(this._canvas.onmousewheel,Bridge.fn.bind(this,function(e){this.Canvas_MouseWheel(e)}));this._canvas.onkeydown=Bridge.fn.combine(this._canvas.onkeydown,Bridge.fn.bind(this,function(e){this.Canvas_KeyDown(e)}));this._canvas.onkeyup=Bridge.fn.combine(this._canvas.onkeyup,Bridge.fn.bind(this,function(e){this.Canvas_KeyUp(e)}));document.addEventListener("webkitfullscreenchange",Bridge.fn.cacheBind(this,this.Document_FullscreenChange));document.addEventListener("mozfullscreenchange",Bridge.fn.cacheBind(this,this.Document_FullscreenChange));document.addEventListener("fullscreenchange",Bridge.fn.cacheBind(this,this.Document_FullscreenChange));document.addEventListener("MSFullscreenChange",Bridge.fn.cacheBind(this,this.Document_FullscreenChange))}},methods:{EnsureFullscreen:function(){var isfull=eval("(document.fullScreenElement && document.fullScreenElement !== null) || document.mozFullScreen || document.webkitIsFullScreen"),f_elem,f_method;this._isFullscreen!==isfull&&(this._isFullscreen?(f_elem=document.getElementById("monogamecanvas"),f_method=f_elem.requestFullscreen||f_elem.msRequestFullscreen||f_elem.mozRequestFullScreen||f_elem.webkitRequestFullscreen,f_method.call(f_elem)):(f_method=document.exitFullscreen||document.msExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen,f_method.call(document)))},Document_FullscreenChange:function(e){this._isFullscreen=eval("(document.fullScreenElement && document.fullScreenElement !== null) || document.mozFullScreen || document.webkitIsFullScreen");this._isFullscreen?(this._canvas.width=document.documentElement.clientWidth>>>0,this._canvas.height=document.documentElement.clientHeight>>>0):(this._canvas.width=Microsoft.Xna.Framework.GraphicsDeviceManager.DefaultBackBufferWidth>>>0,this._canvas.height=Microsoft.Xna.Framework.GraphicsDeviceManager.DefaultBackBufferHeight>>>0);this._game.GraphicsDevice.PresentationParameters.BackBufferWidth=this._canvas.width|0;this._game.GraphicsDevice.PresentationParameters.BackBufferHeight=this._canvas.height|0;this._game.GraphicsDevice.Viewport=new Microsoft.Xna.Framework.Graphics.Viewport.$ctor2(0,0,this._canvas.width|0,this._canvas.height|0);this._game.graphicsDeviceManager.IsFullScreen=this._isFullscreen},Canvas_MouseMove:function(e){return this.MouseState.X=Bridge.Int.clip32(e.clientX-this._canvas.offsetLeft),this.MouseState.Y=Bridge.Int.clip32(e.clientY-this._canvas.offsetTop),!0},Canvas_MouseDown:function(e){switch(e.button){case 0:this.MouseState.LeftButton=Microsoft.Xna.Framework.Input.ButtonState.Pressed;break;case 1:this.MouseState.MiddleButton=Microsoft.Xna.Framework.Input.ButtonState.Pressed;break;case 2:this.MouseState.RightButton=Microsoft.Xna.Framework.Input.ButtonState.Pressed;break}return this.EnsureFullscreen(),!0},Canvas_MouseUp:function(e){switch(e.button){case 0:this.MouseState.LeftButton=Microsoft.Xna.Framework.Input.ButtonState.Released;break;case 1:this.MouseState.MiddleButton=Microsoft.Xna.Framework.Input.ButtonState.Released;break;case 2:this.MouseState.RightButton=Microsoft.Xna.Framework.Input.ButtonState.Released;break}return this.EnsureFullscreen(),!0},Canvas_MouseWheel:function(e){return this.MouseState.ScrollWheelValue=e.detail<0?this.MouseState.ScrollWheelValue+120|0:this.MouseState.ScrollWheelValue-120|0,!0},Canvas_KeyDown:function(e){var xnaKey=Microsoft.Xna.Framework.Input.KeyboardUtil.ToXna(e.keyCode|0,e.location|0);return this._keys.contains(xnaKey)||this._keys.add(xnaKey),Microsoft.Xna.Framework.Input.Keyboard.CapsLock=(e.keyCode|0)==20?!Microsoft.Xna.Framework.Input.Keyboard.CapsLock:e.getModifierState("CapsLock"),Microsoft.Xna.Framework.Input.Keyboard.NumLock=(e.keyCode|0)==144?!Microsoft.Xna.Framework.Input.Keyboard.NumLock:e.getModifierState("NumLock"),this.EnsureFullscreen(),!0},Canvas_KeyUp:function(e){return this._keys.remove(Microsoft.Xna.Framework.Input.KeyboardUtil.ToXna(e.keyCode|0,System.Int32.parse(Bridge.toString(e.location)))),this.EnsureFullscreen(),!0},BeginScreenDeviceChange:function(willBeFullScreen){this._willBeFullScreen=willBeFullScreen},EndScreenDeviceChange$1:function(screenDeviceName,clientWidth,clientHeight){this._screenDeviceName=screenDeviceName;this._isFullscreen||this._willBeFullScreen||(this._canvas.width=clientWidth>>>0,this._canvas.height=clientHeight>>>0);this._isFullscreen=this._willBeFullScreen},SetTitle:function(title){document.title=title},SetSupportedOrientations:function(orientations){}}});Bridge.define("Microsoft.Xna.Framework.Graphics.Effect",{inherits:[Microsoft.Xna.Framework.Graphics.GraphicsResource],statics:{methods:{ReadAnnotations:function(reader){var count=reader.ReadByte(),annotations;return count===0?Microsoft.Xna.Framework.Graphics.EffectAnnotationCollection.Empty:(annotations=System.Array.init(count,null,Microsoft.Xna.Framework.Graphics.EffectAnnotation),new Microsoft.Xna.Framework.Graphics.EffectAnnotationCollection(annotations))},ReadPasses:function(reader,effect,shaders){for(var pixelShader,$t,count=reader.ReadByte(),passes=System.Array.init(count,null,Microsoft.Xna.Framework.Graphics.EffectPass),i=0;i<count;i=i+1|0){var name=reader.ReadString(),annotations=Microsoft.Xna.Framework.Graphics.Effect.ReadAnnotations(reader),vertexShader=null,shaderIndex=reader.ReadByte();shaderIndex!==255&&(vertexShader=shaders[System.Array.index(shaderIndex,shaders)]);pixelShader=null;shaderIndex=reader.ReadByte();shaderIndex!==255&&(pixelShader=shaders[System.Array.index(shaderIndex,shaders)]);var blend=null,depth=null,raster=null;reader.ReadBoolean()&&(blend=($t=new Microsoft.Xna.Framework.Graphics.BlendState.ctor,$t.AlphaBlendFunction=reader.ReadByte(),$t.AlphaDestinationBlend=reader.ReadByte(),$t.AlphaSourceBlend=reader.ReadByte(),$t.BlendFactor=new Microsoft.Xna.Framework.Color.$ctor5(reader.ReadByte(),reader.ReadByte(),reader.ReadByte(),reader.ReadByte()),$t.ColorBlendFunction=reader.ReadByte(),$t.ColorDestinationBlend=reader.ReadByte(),$t.ColorSourceBlend=reader.ReadByte(),$t.ColorWriteChannels=reader.ReadByte(),$t.ColorWriteChannels1=reader.ReadByte(),$t.ColorWriteChannels2=reader.ReadByte(),$t.ColorWriteChannels3=reader.ReadByte(),$t.MultiSampleMask=reader.ReadInt32(),$t));reader.ReadBoolean()&&(depth=($t=new Microsoft.Xna.Framework.Graphics.DepthStencilState.ctor,$t.CounterClockwiseStencilDepthBufferFail=reader.ReadByte(),$t.CounterClockwiseStencilFail=reader.ReadByte(),$t.CounterClockwiseStencilFunction=reader.ReadByte(),$t.CounterClockwiseStencilPass=reader.ReadByte(),$t.DepthBufferEnable=reader.ReadBoolean(),$t.DepthBufferFunction=reader.ReadByte(),$t.DepthBufferWriteEnable=reader.ReadBoolean(),$t.ReferenceStencil=reader.ReadInt32(),$t.StencilDepthBufferFail=reader.ReadByte(),$t.StencilEnable=reader.ReadBoolean(),$t.StencilFail=reader.ReadByte(),$t.StencilFunction=reader.ReadByte(),$t.StencilMask=reader.ReadInt32(),$t.StencilPass=reader.ReadByte(),$t.StencilWriteMask=reader.ReadInt32(),$t.TwoSidedStencilMode=reader.ReadBoolean(),$t));reader.ReadBoolean()&&(raster=($t=new Microsoft.Xna.Framework.Graphics.RasterizerState.ctor,$t.CullMode=reader.ReadByte(),$t.DepthBias=reader.ReadSingle(),$t.FillMode=reader.ReadByte(),$t.MultiSampleAntiAlias=reader.ReadBoolean(),$t.ScissorTestEnable=reader.ReadBoolean(),$t.SlopeScaleDepthBias=reader.ReadSingle(),$t));passes[System.Array.index(i,passes)]=new Microsoft.Xna.Framework.Graphics.EffectPass.$ctor1(effect,name,vertexShader,pixelShader,blend,depth,raster,annotations)}return new Microsoft.Xna.Framework.Graphics.EffectPassCollection(passes)},ReadParameters:function(reader){var count=reader.ReadByte(),parameters,i,buffer,j,buffer1,j1;if(count===0)return Microsoft.Xna.Framework.Graphics.EffectParameterCollection.Empty;for(parameters=System.Array.init(count,null,Microsoft.Xna.Framework.Graphics.EffectParameter),i=0;i<count;i=i+1|0){var class_=reader.ReadByte(),type=reader.ReadByte(),name=reader.ReadString(),semantic=reader.ReadString(),annotations=Microsoft.Xna.Framework.Graphics.Effect.ReadAnnotations(reader),rowCount=reader.ReadByte(),columnCount=reader.ReadByte(),elements=Microsoft.Xna.Framework.Graphics.Effect.ReadParameters(reader),structMembers=Microsoft.Xna.Framework.Graphics.Effect.ReadParameters(reader),data=null;if(elements.Count===0&&structMembers.Count===0)switch(type){case Microsoft.Xna.Framework.Graphics.EffectParameterType.Bool:case Microsoft.Xna.Framework.Graphics.EffectParameterType.Int32:for(buffer=System.Array.init(Bridge.Int.mul(rowCount,columnCount),0,System.Int32),j=0;j<buffer.length;j=j+1|0)buffer[System.Array.index(j,buffer)]=reader.ReadInt32();data=buffer;break;case Microsoft.Xna.Framework.Graphics.EffectParameterType.Single:for(buffer1=System.Array.init(Bridge.Int.mul(rowCount,columnCount),0,System.Single),j1=0;j1<buffer1.length;j1=j1+1|0)buffer1[System.Array.index(j1,buffer1)]=reader.ReadSingle();data=buffer1;break;case Microsoft.Xna.Framework.Graphics.EffectParameterType.String:throw new System.NotSupportedException.ctor;default:break}parameters[System.Array.index(i,parameters)]=new Microsoft.Xna.Framework.Graphics.EffectParameter.$ctor1(class_,type,name,rowCount,columnCount,semantic,annotations,elements,structMembers,data)}return new Microsoft.Xna.Framework.Graphics.EffectParameterCollection.ctor(parameters)}}},fields:{Parameters:null,Techniques:null,CurrentTechnique:null,ConstantBuffers:null,_shaders:null,_isClone:!1},ctors:{$ctor1:function(graphicsDevice){if(this.$initialize(),Microsoft.Xna.Framework.Graphics.GraphicsResource.ctor.call(this),graphicsDevice==null)throw new System.ArgumentNullException.$ctor3("graphicsDevice",Microsoft.Xna.Framework.FrameworkResources.ResourceCreationWhenDeviceIsNull);this.GraphicsDevice=graphicsDevice},ctor:function(cloneSource){Microsoft.Xna.Framework.Graphics.Effect.$ctor1.call(this,cloneSource.GraphicsDevice);this._isClone=!0;this.Clone$1(cloneSource)},$ctor2:function(graphicsDevice,effectCode){Microsoft.Xna.Framework.Graphics.Effect.$ctor3.call(this,graphicsDevice,effectCode,0,effectCode.length)},$ctor3:function(graphicsDevice,effectCode,index,count){var stream,reader;Microsoft.Xna.Framework.Graphics.Effect.$ctor1.call(this,graphicsDevice);var header=this.ReadHeader(effectCode,index),effectKey=header.EffectKey,headerSize=header.HeaderSize,cloneSource={};if(!graphicsDevice.EffectCache.tryGetValue(effectKey,cloneSource)){stream=new System.IO.MemoryStream.$ctor4(effectCode,index+headerSize|0,count-headerSize|0,!1);try{reader=new System.IO.BinaryReader.ctor(stream);try{cloneSource.v=new Microsoft.Xna.Framework.Graphics.Effect.$ctor1(graphicsDevice);cloneSource.v.ReadEffect(reader);graphicsDevice.EffectCache.add(effectKey,cloneSource.v)}finally{Bridge.hasValue(reader)&&reader.System$IDisposable$Dispose()}}finally{Bridge.hasValue(stream)&&stream.System$IDisposable$Dispose()}}this._isClone=!0;this.Clone$1(cloneSource.v)}},methods:{ReadHeader:function(effectCode,index){var header=new Microsoft.Xna.Framework.Graphics.Effect.MGFXHeader;if(header.Signature=System.BitConverter.toInt32(effectCode,index),index=index+4|0,header.Version=effectCode[System.Array.index(Bridge.identity(index,index=index+1|0),effectCode)],header.Profile=effectCode[System.Array.index(Bridge.identity(index,index=index+1|0),effectCode)],header.EffectKey=System.BitConverter.toInt32(effectCode,index),index=index+4|0,header.HeaderSize=index,header.Signature!==Microsoft.Xna.Framework.Graphics.Effect.MGFXHeader.MGFXSignature)throw new System.Exception("This does not appear to be a MonoGame MGFX file!");if(header.Version<Microsoft.Xna.Framework.Graphics.Effect.MGFXHeader.MGFXVersion)throw new System.Exception("This MGFX effect is for an older release of MonoGame and needs to be rebuilt.");if(header.Version>Microsoft.Xna.Framework.Graphics.Effect.MGFXHeader.MGFXVersion)throw new System.Exception("This MGFX effect seems to be for a newer release of MonoGame.");if(header.Profile!==Microsoft.Xna.Framework.Graphics.Shader.Profile)throw new System.Exception("This MGFX effect was built for a different platform!");return header.$clone()},Clone$1:function(cloneSource){var $t,$t1,i,i1;for(this.Parameters=cloneSource.Parameters.Clone(),this.Techniques=cloneSource.Techniques.Clone(this),this.ConstantBuffers=System.Array.init(cloneSource.ConstantBuffers.length,null,Microsoft.Xna.Framework.Graphics.ConstantBuffer),i=0;i<cloneSource.ConstantBuffers.length;i=i+1|0)($t=this.ConstantBuffers)[System.Array.index(i,$t)]=new Microsoft.Xna.Framework.Graphics.ConstantBuffer.ctor(($t1=cloneSource.ConstantBuffers)[System.Array.index(i,$t1)]);for(i1=0;i1<cloneSource.Techniques.Count;i1=i1+1|0)if(Bridge.referenceEquals(cloneSource.Techniques.getItem(i1),cloneSource.CurrentTechnique)){this.CurrentTechnique=this.Techniques.getItem(i1);break}this._shaders=cloneSource._shaders},Clone:function(){return new Microsoft.Xna.Framework.Graphics.Effect.ctor(this)},OnApply:function(){},Dispose$1:function(disposing){var $t,$t1,shader,buffer;if(!this.IsDisposed&&disposing){if(!this._isClone&&this._shaders!=null){$t=Bridge.getEnumerator(this._shaders);try{while($t.moveNext())shader=$t.Current,shader.Dispose()}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}if(this.ConstantBuffers!=null){$t1=Bridge.getEnumerator(this.ConstantBuffers);try{while($t1.moveNext())buffer=$t1.Current,buffer.Dispose()}finally{Bridge.is($t1,System.IDisposable)&&$t1.System$IDisposable$Dispose()}this.ConstantBuffers=null}}Microsoft.Xna.Framework.Graphics.GraphicsResource.prototype.Dispose$1.call(this,disposing)},GraphicsDeviceResetting:function(){for(var $t,i=0;i<this.ConstantBuffers.length;i=i+1|0)($t=this.ConstantBuffers)[System.Array.index(i,$t)].Clear()},ReadEffect:function(reader){var $t,buffers=reader.ReadByte(),c,i,buffer,shaders,s,techniqueCount,techniques,t;for(this.ConstantBuffers=System.Array.init(buffers,null,Microsoft.Xna.Framework.Graphics.ConstantBuffer),c=0;c<buffers;c=c+1|0){var name=reader.ReadString(),sizeInBytes=reader.ReadInt16(),parameters=System.Array.init(reader.ReadByte(),0,System.Int32),offsets=System.Array.init(parameters.length,0,System.Int32);for(i=0;i<parameters.length;i=i+1|0)parameters[System.Array.index(i,parameters)]=reader.ReadByte(),offsets[System.Array.index(i,offsets)]=reader.ReadUInt16();buffer=new Microsoft.Xna.Framework.Graphics.ConstantBuffer.$ctor1(this.GraphicsDevice,sizeInBytes,parameters,offsets,name);($t=this.ConstantBuffers)[System.Array.index(c,$t)]=buffer}for(shaders=reader.ReadByte(),this._shaders=System.Array.init(shaders,null,Microsoft.Xna.Framework.Graphics.Shader),s=0;s<shaders;s=s+1|0)this._shaders[System.Array.index(s,this._shaders)]=new Microsoft.Xna.Framework.Graphics.Shader(this.GraphicsDevice,reader);for(this.Parameters=Microsoft.Xna.Framework.Graphics.Effect.ReadParameters(reader),techniqueCount=reader.ReadByte(),techniques=System.Array.init(techniqueCount,null,Microsoft.Xna.Framework.Graphics.EffectTechnique),t=0;t<techniqueCount;t=t+1|0){var name1=reader.ReadString(),annotations=Microsoft.Xna.Framework.Graphics.Effect.ReadAnnotations(reader),passes=Microsoft.Xna.Framework.Graphics.Effect.ReadPasses(reader,this,this._shaders);techniques[System.Array.index(t,techniques)]=new Microsoft.Xna.Framework.Graphics.EffectTechnique.$ctor1(this,name1,passes,annotations)}this.Techniques=new Microsoft.Xna.Framework.Graphics.EffectTechniqueCollection(techniques);this.CurrentTechnique=this.Techniques.getItem(0)}}});Bridge.define("Microsoft.Xna.Framework.Content.ArrayReader$1",function(T){return{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Array.type(T))],fields:{elementReader:null},ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Array.type(T)).ctor.call(this)}},methods:{Initialize:function(manager){var readerType=T;this.elementReader=manager.GetTypeReader(readerType)},Read$1:function(input,existingInstance){var $t,count=input.ReadUInt32(),array=existingInstance,i,i1,readerType;if(array==null&&(array=System.Array.init(count,function(){return Bridge.getDefaultValue(T)},T)),Microsoft.Xna.Framework.Utilities.ReflectionHelpers.IsValueType(T))for(i=0;i<count;i=i+1>>>0)array[System.Array.index(i,array)]=input.ReadObject$2(T,this.elementReader);else for(i1=0;i1<count;i1=i1+1>>>0)readerType=input.Read7BitEncodedInt$1(),array[System.Array.index(i1,array)]=readerType>0?input.ReadObject$2(T,($t=input.TypeReaders)[System.Array.index(readerType-1|0,$t)]):Bridge.getDefaultValue(T);return array}}}});Bridge.define("Microsoft.Xna.Framework.Content.BooleanReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Boolean)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Boolean).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){return input.ReadBoolean()}}});Bridge.define("Microsoft.Xna.Framework.Content.BoundingBoxReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.BoundingBox)],methods:{Read$1:function(input,existingInstance){var min=input.ReadVector3(),max=input.ReadVector3(),result=new Microsoft.Xna.Framework.BoundingBox.$ctor1(min.$clone(),max.$clone());return result.$clone()}}});Bridge.define("Microsoft.Xna.Framework.Content.BoundingFrustumReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.BoundingFrustum)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.BoundingFrustum).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){return new Microsoft.Xna.Framework.BoundingFrustum(input.ReadMatrix())}}});Bridge.define("Microsoft.Xna.Framework.Content.BoundingSphereReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.BoundingSphere)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.BoundingSphere).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){var center=input.ReadVector3(),radius=input.ReadSingle();return new Microsoft.Xna.Framework.BoundingSphere.$ctor1(center.$clone(),radius)}}});Bridge.define("Microsoft.Xna.Framework.Content.ByteReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Byte)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Byte).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){return input.ReadByte()}}});Bridge.define("Microsoft.Xna.Framework.Content.CharReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Char)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Char).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){return input.ReadChar()}}});Bridge.define("Microsoft.Xna.Framework.Content.ColorReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Color)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Color).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){var r=input.ReadByte(),g=input.ReadByte(),b=input.ReadByte(),a=input.ReadByte();return new Microsoft.Xna.Framework.Color.$ctor5(r,g,b,a)}}});Bridge.define("Microsoft.Xna.Framework.Curve",{fields:{_preLoop:0,_postLoop:0,_keys:null},props:{IsConstant:{get:function(){return this._keys.Count<=1}},PreLoop:{get:function(){return this._preLoop},set:function(value){this._preLoop=value}},PostLoop:{get:function(){return this._postLoop},set:function(value){this._postLoop=value}},Keys:{get:function(){return this._keys}}},ctors:{ctor:function(){this.$initialize();this._keys=new Microsoft.Xna.Framework.CurveKeyCollection}},methods:{Clone:function(){var curve=new Microsoft.Xna.Framework.Curve;return curve._keys=this._keys.Clone(),curve._preLoop=this._preLoop,curve._postLoop=this._postLoop,curve},Evaluate:function(position){var first,last,cycle,virtualPos,cycle1,virtualPos1;if(this._keys.Count===0)return 0;if(this._keys.Count===1)return this._keys.getItem(0).Value;if(first=this._keys.getItem(0),last=this._keys.getItem(this._keys.Count-1|0),position<first.Position)switch(this.PreLoop){case Microsoft.Xna.Framework.CurveLoopType.Constant:return first.Value;case Microsoft.Xna.Framework.CurveLoopType.Linear:return first.Value-first.TangentIn*(first.Position-position);case Microsoft.Xna.Framework.CurveLoopType.Cycle:return cycle=this.GetNumberOfCycle(position),virtualPos=position-cycle*(last.Position-first.Position),this.GetCurvePosition(virtualPos);case Microsoft.Xna.Framework.CurveLoopType.CycleOffset:return cycle=this.GetNumberOfCycle(position),virtualPos=position-cycle*(last.Position-first.Position),this.GetCurvePosition(virtualPos)+cycle*(last.Value-first.Value);case Microsoft.Xna.Framework.CurveLoopType.Oscillate:return cycle=this.GetNumberOfCycle(position),virtualPos=0==cycle%2?position-cycle*(last.Position-first.Position):last.Position-position+first.Position+cycle*(last.Position-first.Position),this.GetCurvePosition(virtualPos)}else if(position>last.Position)switch(this.PostLoop){case Microsoft.Xna.Framework.CurveLoopType.Constant:return last.Value;case Microsoft.Xna.Framework.CurveLoopType.Linear:return last.Value+first.TangentOut*(position-last.Position);case Microsoft.Xna.Framework.CurveLoopType.Cycle:return cycle1=this.GetNumberOfCycle(position),virtualPos1=position-cycle1*(last.Position-first.Position),this.GetCurvePosition(virtualPos1);case Microsoft.Xna.Framework.CurveLoopType.CycleOffset:return cycle1=this.GetNumberOfCycle(position),virtualPos=position-cycle1*(last.Position-first.Position),this.GetCurvePosition(virtualPos)+cycle1*(last.Value-first.Value);case Microsoft.Xna.Framework.CurveLoopType.Oscillate:return cycle1=this.GetNumberOfCycle(position),virtualPos=position-cycle1*(last.Position-first.Position),virtualPos=0==cycle1%2?position-cycle1*(last.Position-first.Position):last.Position-position+first.Position+cycle1*(last.Position-first.Position),this.GetCurvePosition(virtualPos)}return this.GetCurvePosition(position)},ComputeTangents:function(tangentType){this.ComputeTangents$1(tangentType,tangentType)},ComputeTangents$1:function(tangentInType,tangentOutType){for(var i=0;i<this.Keys.Count;i=i+1|0)this.ComputeTangent$1(i,tangentInType,tangentOutType)},ComputeTangent:function(keyIndex,tangentType){this.ComputeTangent$1(keyIndex,tangentType,tangentType)},ComputeTangent$1:function(keyIndex,tangentInType,tangentOutType){var key=this._keys.getItem(keyIndex),p0,p,p1,v0,v,v1,pn,pn1;p0=p=p1=key.Position;v0=v=v1=key.Value;keyIndex>0&&(p0=this._keys.getItem(keyIndex-1|0).Position,v0=this._keys.getItem(keyIndex-1|0).Value);keyIndex<(this._keys.Count-1|0)&&(p1=this._keys.getItem(keyIndex+1|0).Position,v1=this._keys.getItem(keyIndex+1|0).Value);switch(tangentInType){case Microsoft.Xna.Framework.CurveTangent.Flat:key.TangentIn=0;break;case Microsoft.Xna.Framework.CurveTangent.Linear:key.TangentIn=v-v0;break;case Microsoft.Xna.Framework.CurveTangent.Smooth:pn=p1-p0;key.TangentIn=Math.abs(pn)<1401298e-51?0:(v1-v0)*((p-p0)/pn);break}switch(tangentOutType){case Microsoft.Xna.Framework.CurveTangent.Flat:key.TangentOut=0;break;case Microsoft.Xna.Framework.CurveTangent.Linear:key.TangentOut=v1-v;break;case Microsoft.Xna.Framework.CurveTangent.Smooth:pn1=p1-p0;key.TangentOut=Math.abs(pn1)<1401298e-51?0:(v1-v0)*((p1-p)/pn1);break}},GetNumberOfCycle:function(position){var cycle=(position-this._keys.getItem(0).Position)/(this._keys.getItem(this._keys.Count-1|0).Position-this._keys.getItem(0).Position);return cycle<0&&cycle--,Bridge.Int.clip32(cycle)},GetCurvePosition:function(position){for(var prev=this._keys.getItem(0),next,i=1;i<this._keys.Count;i=i+1|0){if(next=this.Keys.getItem(i),next.Position>=position){if(prev.Continuity===Microsoft.Xna.Framework.CurveContinuity.Step)return position>=1?next.Value:prev.Value;var t=(position-prev.Position)/(next.Position-prev.Position),ts=t*t,tss=ts*t;return(2*tss-3*ts+1)*prev.Value+(tss-2*ts+t)*prev.TangentOut+(3*ts-2*tss)*next.Value+(tss-ts)*next.TangentIn}prev=next}return 0}}});Bridge.define("Microsoft.Xna.Framework.Content.DateTimeReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.DateTime)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.DateTime).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){var value=input.ReadUInt64(),mask=System.UInt64([0,-1073741824]),ticks=System.Int64.clip64(value.and(mask.not())),kind=System.Int64.clip32(value.shru(62).and(System.UInt64(3)));return System.DateTime.create$2(ticks,kind)}}});Bridge.define("Microsoft.Xna.Framework.Content.DecimalReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Decimal)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Decimal).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){return input.ReadDecimal()}}});Bridge.define("Microsoft.Xna.Framework.Content.DictionaryReader$2",function(TKey,TValue){return{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Collections.Generic.Dictionary$2(TKey,TValue))],fields:{keyReader:null,valueReader:null,keyType:null,valueType:null},props:{CanDeserializeIntoExistingObject:{get:function(){return!0}}},ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Collections.Generic.Dictionary$2(TKey,TValue)).ctor.call(this)}},methods:{Initialize:function(manager){this.keyType=TKey;this.valueType=TValue;this.keyReader=manager.GetTypeReader(this.keyType);this.valueReader=manager.GetTypeReader(this.valueType)},Read$1:function(input,existingInstance){var $t,$t1,count=input.ReadInt32(),dictionary=existingInstance,i,key,value,readerType,readerType1;for(dictionary==null?dictionary=new(System.Collections.Generic.Dictionary$2(TKey,TValue)):dictionary.clear(),i=0;i<count;i=i+1|0)Microsoft.Xna.Framework.Utilities.ReflectionHelpers.IsValueType(this.keyType)?key=input.ReadObject$2(TKey,this.keyReader):(readerType=input.Read7BitEncodedInt$1(),key=readerType>0?input.ReadObject$2(TKey,($t=input.TypeReaders)[System.Array.index(readerType-1|0,$t)]):Bridge.getDefaultValue(TKey)),Microsoft.Xna.Framework.Utilities.ReflectionHelpers.IsValueType(this.valueType)?value=input.ReadObject$2(TValue,this.valueReader):(readerType1=input.Read7BitEncodedInt$1(),value=readerType1>0?input.ReadObject$2(TValue,($t1=input.TypeReaders)[System.Array.index(readerType1-1|0,$t1)]):Bridge.getDefaultValue(TValue)),dictionary.add(key,value);return dictionary}}}});Bridge.define("Microsoft.Xna.Framework.Content.DoubleReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Double)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Double).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){return input.ReadDouble()}}});Bridge.define("Microsoft.Xna.Framework.Content.EnumReader$1",function(T){return{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(T)],fields:{elementReader:null},ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(T).ctor.call(this)}},methods:{Initialize:function(manager){this.elementReader=manager.GetTypeReader(T)},Read$1:function(input,existingInstance){return input.ReadRawObject$2(T,this.elementReader)}}}});Bridge.define("Microsoft.Xna.Framework.Graphics.IndexBuffer",{inherits:[Microsoft.Xna.Framework.Graphics.GraphicsResource],statics:{methods:{SizeForType:function(graphicsDevice,type){switch(Microsoft.Xna.Framework.Utilities.ReflectionHelpers.ManagedSizeOf(type)){case 2:return Microsoft.Xna.Framework.Graphics.IndexElementSize.SixteenBits;case 4:if(graphicsDevice.GraphicsProfile===Microsoft.Xna.Framework.Graphics.GraphicsProfile.Reach)throw new System.NotSupportedException.$ctor1("The profile does not support an elementSize of IndexElementSize.ThirtyTwoBits; use IndexElementSize.SixteenBits or a type that has a size of two bytes.");return Microsoft.Xna.Framework.Graphics.IndexElementSize.ThirtyTwoBits;default:throw new System.ArgumentOutOfRangeException.$ctor4("type","Index buffers can only be created for types that are sixteen or thirty two bits in length");}}}},fields:{_isDynamic:!1,BufferUsage:0,IndexCount:0,IndexElementSize:0,ibo:null},ctors:{$ctor3:function(graphicsDevice,indexType,indexCount,usage,dynamic){Microsoft.Xna.Framework.Graphics.IndexBuffer.$ctor1.call(this,graphicsDevice,Microsoft.Xna.Framework.Graphics.IndexBuffer.SizeForType(graphicsDevice,indexType),indexCount,usage,dynamic)},$ctor1:function(graphicsDevice,indexElementSize,indexCount,usage,dynamic){if(this.$initialize(),Microsoft.Xna.Framework.Graphics.GraphicsResource.ctor.call(this),graphicsDevice==null)throw new System.ArgumentNullException.$ctor3("graphicsDevice",Microsoft.Xna.Framework.FrameworkResources.ResourceCreationWhenDeviceIsNull);this.GraphicsDevice=graphicsDevice;this.IndexElementSize=indexElementSize;this.IndexCount=indexCount;this.BufferUsage=usage;this._isDynamic=dynamic;this.PlatformConstruct(indexElementSize,indexCount)},ctor:function(graphicsDevice,indexElementSize,indexCount,bufferUsage){Microsoft.Xna.Framework.Graphics.IndexBuffer.$ctor1.call(this,graphicsDevice,indexElementSize,indexCount,bufferUsage,!1)},$ctor2:function(graphicsDevice,indexType,indexCount,usage){Microsoft.Xna.Framework.Graphics.IndexBuffer.$ctor1.call(this,graphicsDevice,Microsoft.Xna.Framework.Graphics.IndexBuffer.SizeForType(graphicsDevice,indexType),indexCount,usage,!1)}},methods:{GraphicsDeviceResetting:function(){this.PlatformGraphicsDeviceResetting()},GetData$2:function(T,offsetInBytes,data,startIndex,elementCount){if(data==null)throw new System.ArgumentNullException.$ctor1("data");if(data.length<(startIndex+elementCount|0))throw new System.InvalidOperationException.$ctor1("The array specified in the data parameter is not the correct size for the amount of data requested.");if(this.BufferUsage===Microsoft.Xna.Framework.Graphics.BufferUsage.WriteOnly)throw new System.NotSupportedException.$ctor1("This IndexBuffer was created with a usage type of BufferUsage.WriteOnly. Calling GetData on a resource that was created with BufferUsage.WriteOnly is not supported.");this.PlatformGetData(T,offsetInBytes,data,startIndex,elementCount)},GetData$1:function(T,data,startIndex,elementCount){this.GetData$2(T,0,data,startIndex,elementCount)},GetData:function(T,data){this.GetData$2(T,0,data,0,data.length)},SetData$2:function(T,offsetInBytes,data,startIndex,elementCount){this.SetDataInternal(T,offsetInBytes,data,startIndex,elementCount,Microsoft.Xna.Framework.Graphics.SetDataOptions.None)},SetData$1:function(T,data,startIndex,elementCount){this.SetDataInternal(T,0,data,startIndex,elementCount,Microsoft.Xna.Framework.Graphics.SetDataOptions.None)},SetData:function(T,data){this.SetDataInternal(T,0,data,0,data.length,Microsoft.Xna.Framework.Graphics.SetDataOptions.None)},SetDataInternal:function(T,offsetInBytes,data,startIndex,elementCount,options){if(data==null)throw new System.ArgumentNullException.$ctor1("data");if(data.length<(startIndex+elementCount|0))throw new System.InvalidOperationException.$ctor1("The array specified in the data parameter is not the correct size for the amount of data requested.");this.PlatformSetDataInternal(T,offsetInBytes,data,startIndex,elementCount,options)},PlatformConstruct:function(indexElementSize,indexCount){this.GenerateIfRequired()},PlatformGraphicsDeviceResetting:function(){this.ibo=null},GenerateIfRequired:function(){if(this.ibo==null){var sizeInBytes=Bridge.Int.mul(this.IndexCount,this.IndexElementSize===Microsoft.Xna.Framework.Graphics.IndexElementSize.SixteenBits?2:4);this.ibo=WebHelper.gl.createBuffer();WebHelper.gl.bindBuffer(WebGL2RenderingContext.ELEMENT_ARRAY_BUFFER,this.ibo);WebHelper.gl.bufferData(WebGL2RenderingContext.ELEMENT_ARRAY_BUFFER,new Int16Array(0),this._isDynamic?WebGL2RenderingContext.STREAM_DRAW:WebGL2RenderingContext.STATIC_DRAW)}},PlatformGetData:function(T,offsetInBytes,data,startIndex,elementCount){throw new System.NotSupportedException.$ctor1("Index buffers are write-only on OpenGL ES platforms");},PlatformSetDataInternal:function(T,offsetInBytes,data,startIndex,elementCount,options){this.BufferData(T,offsetInBytes,data,startIndex,elementCount,options)},BufferData:function(T,offsetInBytes,data,startIndex,elementCount,options){var elementSizeInByte,bufferSize,arr,i,arr1,i1;if(this.GenerateIfRequired(),elementSizeInByte=this.IndexElementSize===Microsoft.Xna.Framework.Graphics.IndexElementSize.SixteenBits?2:4,bufferSize=Bridge.Int.mul(this.IndexCount,elementSizeInByte),WebHelper.gl.bindBuffer(WebGL2RenderingContext.ELEMENT_ARRAY_BUFFER,this.ibo),options===Microsoft.Xna.Framework.Graphics.SetDataOptions.Discard&&WebHelper.gl.bufferData(WebGL2RenderingContext.ELEMENT_ARRAY_BUFFER,new Int16Array(0),this._isDynamic?WebGL2RenderingContext.STREAM_DRAW:WebGL2RenderingContext.STATIC_DRAW),elementSizeInByte===2){for(arr=new Uint16Array(elementCount>>>0),i=0;System.Int64(i).lt(System.Int64(elementCount));i=i+1>>>0)arr[i]=data[System.Array.index(System.Int64.toNumber(System.Int64(i).add(System.Int64(startIndex))),data)];WebHelper.gl.bufferSubData(WebGL2RenderingContext.ELEMENT_ARRAY_BUFFER,offsetInBytes,arr)}else{for(arr1=new Uint32Array(elementCount>>>0),i1=0;System.Int64(i1).lt(System.Int64(elementCount));i1=i1+1>>>0)arr1[i1]=data[System.Array.index(System.Int64.toNumber(System.Int64(i1).add(System.Int64(startIndex))),data)];WebHelper.gl.bufferSubData(WebGL2RenderingContext.ELEMENT_ARRAY_BUFFER,offsetInBytes,arr1)}},Dispose$1:function(disposing){this.IsDisposed||this.GraphicsDevice.DisposeBuffer(this.ibo);Microsoft.Xna.Framework.Graphics.GraphicsResource.prototype.Dispose$1.call(this,disposing)}}});Bridge.define("Microsoft.Xna.Framework.Content.Int16Reader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Int16)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Int16).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){return input.ReadInt16()}}});Bridge.define("Microsoft.Xna.Framework.Content.Int32Reader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Int32)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Int32).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){return input.ReadInt32()}}});Bridge.define("Microsoft.Xna.Framework.Content.Int64Reader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Int64)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Int64).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){return input.ReadInt64()}}});Bridge.define("Microsoft.Xna.Framework.Content.ListReader$1",function(T){return{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Collections.Generic.List$1(T))],fields:{elementReader:null},props:{CanDeserializeIntoExistingObject:{get:function(){return!0}}},ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Collections.Generic.List$1(T)).ctor.call(this)}},methods:{Initialize:function(manager){var readerType=T;this.elementReader=manager.GetTypeReader(readerType)},Read$1:function(input,existingInstance){var $t,count=input.ReadInt32(),list=existingInstance,i,readerType;for(list==null&&(list=new(System.Collections.Generic.List$1(T).$ctor2)(count)),i=0;i<count;i=i+1|0)Microsoft.Xna.Framework.Utilities.ReflectionHelpers.IsValueType(T)?list.add(input.ReadObject$2(T,this.elementReader)):(readerType=input.Read7BitEncodedInt$1(),list.add(readerType>0?input.ReadObject$2(T,($t=input.TypeReaders)[System.Array.index(readerType-1|0,$t)]):Bridge.getDefaultValue(T)));return list}}}});Bridge.define("Microsoft.Xna.Framework.Matrix",{inherits:function(){return[System.IEquatable$1(Microsoft.Xna.Framework.Matrix)]},$kind:"struct",statics:{fields:{identity:null},props:{Identity:{get:function(){return Microsoft.Xna.Framework.Matrix.identity.$clone()}}},ctors:{init:function(){this.identity=new Microsoft.Xna.Framework.Matrix;this.identity=new Microsoft.Xna.Framework.Matrix.$ctor2(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}},methods:{Add:function(matrix1,matrix2){return matrix1.M11+=matrix2.M11,matrix1.M12+=matrix2.M12,matrix1.M13+=matrix2.M13,matrix1.M14+=matrix2.M14,matrix1.M21+=matrix2.M21,matrix1.M22+=matrix2.M22,matrix1.M23+=matrix2.M23,matrix1.M24+=matrix2.M24,matrix1.M31+=matrix2.M31,matrix1.M32+=matrix2.M32,matrix1.M33+=matrix2.M33,matrix1.M34+=matrix2.M34,matrix1.M41+=matrix2.M41,matrix1.M42+=matrix2.M42,matrix1.M43+=matrix2.M43,matrix1.M44+=matrix2.M44,matrix1.$clone()},Add$1:function(matrix1,matrix2,result){result.v.M11=matrix1.v.M11+matrix2.v.M11;result.v.M12=matrix1.v.M12+matrix2.v.M12;result.v.M13=matrix1.v.M13+matrix2.v.M13;result.v.M14=matrix1.v.M14+matrix2.v.M14;result.v.M21=matrix1.v.M21+matrix2.v.M21;result.v.M22=matrix1.v.M22+matrix2.v.M22;result.v.M23=matrix1.v.M23+matrix2.v.M23;result.v.M24=matrix1.v.M24+matrix2.v.M24;result.v.M31=matrix1.v.M31+matrix2.v.M31;result.v.M32=matrix1.v.M32+matrix2.v.M32;result.v.M33=matrix1.v.M33+matrix2.v.M33;result.v.M34=matrix1.v.M34+matrix2.v.M34;result.v.M41=matrix1.v.M41+matrix2.v.M41;result.v.M42=matrix1.v.M42+matrix2.v.M42;result.v.M43=matrix1.v.M43+matrix2.v.M43;result.v.M44=matrix1.v.M44+matrix2.v.M44},CreateBillboard:function(objectPosition,cameraPosition,cameraUpVector,cameraForwardVector){objectPosition={v:objectPosition};cameraPosition={v:cameraPosition};cameraUpVector={v:cameraUpVector};var result={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.CreateBillboard$1(objectPosition,cameraPosition,cameraUpVector,System.Nullable.lift1("$clone",cameraForwardVector),result),result.v.$clone()},CreateBillboard$1:function(objectPosition,cameraPosition,cameraUpVector,cameraForwardVector,result){var vector={v:new Microsoft.Xna.Framework.Vector3},vector2={v:new Microsoft.Xna.Framework.Vector3},vector3={v:new Microsoft.Xna.Framework.Vector3},num;vector.v.X=objectPosition.v.X-cameraPosition.v.X;vector.v.Y=objectPosition.v.Y-cameraPosition.v.Y;vector.v.Z=objectPosition.v.Z-cameraPosition.v.Z;num=vector.v.LengthSquared();num<.0001?vector.v=System.Nullable.hasValue(cameraForwardVector)?Microsoft.Xna.Framework.Vector3.op_UnaryNegation(System.Nullable.getValue(cameraForwardVector).$clone()):Microsoft.Xna.Framework.Vector3.Forward:Microsoft.Xna.Framework.Vector3.Multiply$3(vector,1/Math.sqrt(num),vector);Microsoft.Xna.Framework.Vector3.Cross$1(cameraUpVector,vector,vector3);vector3.v.Normalize();Microsoft.Xna.Framework.Vector3.Cross$1(vector,vector3,vector2);result.v.M11=vector3.v.X;result.v.M12=vector3.v.Y;result.v.M13=vector3.v.Z;result.v.M14=0;result.v.M21=vector2.v.X;result.v.M22=vector2.v.Y;result.v.M23=vector2.v.Z;result.v.M24=0;result.v.M31=vector.v.X;result.v.M32=vector.v.Y;result.v.M33=vector.v.Z;result.v.M34=0;result.v.M41=objectPosition.v.X;result.v.M42=objectPosition.v.Y;result.v.M43=objectPosition.v.Z;result.v.M44=1},CreateConstrainedBillboard:function(objectPosition,cameraPosition,rotateAxis,cameraForwardVector,objectForwardVector){objectPosition={v:objectPosition};cameraPosition={v:cameraPosition};rotateAxis={v:rotateAxis};var result={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.CreateConstrainedBillboard$1(objectPosition,cameraPosition,rotateAxis,System.Nullable.lift1("$clone",cameraForwardVector),System.Nullable.lift1("$clone",objectForwardVector),result),result.v.$clone()},CreateConstrainedBillboard$1:function(objectPosition,cameraPosition,rotateAxis,cameraForwardVector,objectForwardVector,result){var num={},vector={v:new Microsoft.Xna.Framework.Vector3},vector2={v:new Microsoft.Xna.Framework.Vector3},vector3={v:new Microsoft.Xna.Framework.Vector3},num2,vector4;vector2.v.X=objectPosition.v.X-cameraPosition.v.X;vector2.v.Y=objectPosition.v.Y-cameraPosition.v.Y;vector2.v.Z=objectPosition.v.Z-cameraPosition.v.Z;num2=vector2.v.LengthSquared();num2<.0001?vector2.v=System.Nullable.hasValue(cameraForwardVector)?Microsoft.Xna.Framework.Vector3.op_UnaryNegation(System.Nullable.getValue(cameraForwardVector).$clone()):Microsoft.Xna.Framework.Vector3.Forward:Microsoft.Xna.Framework.Vector3.Multiply$3(vector2,1/Math.sqrt(num2),vector2);vector4={v:rotateAxis.v.$clone()};Microsoft.Xna.Framework.Vector3.Dot$1(rotateAxis,vector2,num);Math.abs(num.v)>.9982547?(System.Nullable.hasValue(objectForwardVector)?(vector.v=System.Nullable.getValue(objectForwardVector).$clone(),Microsoft.Xna.Framework.Vector3.Dot$1(rotateAxis,vector,num),Math.abs(num.v)>.9982547&&(num.v=rotateAxis.v.X*Microsoft.Xna.Framework.Vector3.Forward.X+rotateAxis.v.Y*Microsoft.Xna.Framework.Vector3.Forward.Y+rotateAxis.v.Z*Microsoft.Xna.Framework.Vector3.Forward.Z,vector.v=Math.abs(num.v)>.9982547?Microsoft.Xna.Framework.Vector3.Right:Microsoft.Xna.Framework.Vector3.Forward)):(num.v=rotateAxis.v.X*Microsoft.Xna.Framework.Vector3.Forward.X+rotateAxis.v.Y*Microsoft.Xna.Framework.Vector3.Forward.Y+rotateAxis.v.Z*Microsoft.Xna.Framework.Vector3.Forward.Z,vector.v=Math.abs(num.v)>.9982547?Microsoft.Xna.Framework.Vector3.Right:Microsoft.Xna.Framework.Vector3.Forward),Microsoft.Xna.Framework.Vector3.Cross$1(rotateAxis,vector,vector3),vector3.v.Normalize(),Microsoft.Xna.Framework.Vector3.Cross$1(vector3,rotateAxis,vector),vector.v.Normalize()):(Microsoft.Xna.Framework.Vector3.Cross$1(rotateAxis,vector2,vector3),vector3.v.Normalize(),Microsoft.Xna.Framework.Vector3.Cross$1(vector3,vector4,vector),vector.v.Normalize());result.v.M11=vector3.v.X;result.v.M12=vector3.v.Y;result.v.M13=vector3.v.Z;result.v.M14=0;result.v.M21=vector4.v.X;result.v.M22=vector4.v.Y;result.v.M23=vector4.v.Z;result.v.M24=0;result.v.M31=vector.v.X;result.v.M32=vector.v.Y;result.v.M33=vector.v.Z;result.v.M34=0;result.v.M41=objectPosition.v.X;result.v.M42=objectPosition.v.Y;result.v.M43=objectPosition.v.Z;result.v.M44=1},CreateFromAxisAngle:function(axis,angle){axis={v:axis};var result={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.CreateFromAxisAngle$1(axis,angle,result),result.v.$clone()},CreateFromAxisAngle$1:function(axis,angle,result){var x=axis.v.X,y=axis.v.Y,z=axis.v.Z,num2=Math.sin(angle),num=Math.cos(angle),num11=x*x,num10=y*y,num9=z*z,num8=x*y,num7=x*z,num6=y*z;result.v.M11=num11+num*(1-num11);result.v.M12=num8-num*num8+num2*z;result.v.M13=num7-num*num7-num2*y;result.v.M14=0;result.v.M21=num8-num*num8-num2*z;result.v.M22=num10+num*(1-num10);result.v.M23=num6-num*num6+num2*x;result.v.M24=0;result.v.M31=num7-num*num7+num2*y;result.v.M32=num6-num*num6-num2*x;result.v.M33=num9+num*(1-num9);result.v.M34=0;result.v.M41=0;result.v.M42=0;result.v.M43=0;result.v.M44=1},CreateFromQuaternion:function(quaternion){quaternion={v:quaternion};var result={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.CreateFromQuaternion$1(quaternion,result),result.v.$clone()},CreateFromQuaternion$1:function(quaternion,result){var num9=quaternion.v.X*quaternion.v.X,num8=quaternion.v.Y*quaternion.v.Y,num7=quaternion.v.Z*quaternion.v.Z,num6=quaternion.v.X*quaternion.v.Y,num5=quaternion.v.Z*quaternion.v.W,num4=quaternion.v.Z*quaternion.v.X,num3=quaternion.v.Y*quaternion.v.W,num2=quaternion.v.Y*quaternion.v.Z,num=quaternion.v.X*quaternion.v.W;result.v.M11=1-2*(num8+num7);result.v.M12=2*(num6+num5);result.v.M13=2*(num4-num3);result.v.M14=0;result.v.M21=2*(num6-num5);result.v.M22=1-2*(num7+num9);result.v.M23=2*(num2+num);result.v.M24=0;result.v.M31=2*(num4+num3);result.v.M32=2*(num2-num);result.v.M33=1-2*(num8+num9);result.v.M34=0;result.v.M41=0;result.v.M42=0;result.v.M43=0;result.v.M44=1},CreateFromYawPitchRoll:function(yaw,pitch,roll){var matrix={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.CreateFromYawPitchRoll$1(yaw,pitch,roll,matrix),matrix.v.$clone()},CreateFromYawPitchRoll$1:function(yaw,pitch,roll,result){var quaternion={v:new Microsoft.Xna.Framework.Quaternion};Microsoft.Xna.Framework.Quaternion.CreateFromYawPitchRoll$1(yaw,pitch,roll,quaternion);Microsoft.Xna.Framework.Matrix.CreateFromQuaternion$1(quaternion,result)},CreateLookAt:function(cameraPosition,cameraTarget,cameraUpVector){cameraPosition={v:cameraPosition};cameraTarget={v:cameraTarget};cameraUpVector={v:cameraUpVector};var matrix={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.CreateLookAt$1(cameraPosition,cameraTarget,cameraUpVector,matrix),matrix.v.$clone()},CreateLookAt$1:function(cameraPosition,cameraTarget,cameraUpVector,result){var vector=Microsoft.Xna.Framework.Vector3.Normalize(Microsoft.Xna.Framework.Vector3.op_Subtraction(cameraPosition.v.$clone(),cameraTarget.v.$clone())),vector2=Microsoft.Xna.Framework.Vector3.Normalize(Microsoft.Xna.Framework.Vector3.Cross(cameraUpVector.v.$clone(),vector.$clone())),vector3=Microsoft.Xna.Framework.Vector3.Cross(vector.$clone(),vector2.$clone());result.v.M11=vector2.X;result.v.M12=vector3.X;result.v.M13=vector.X;result.v.M14=0;result.v.M21=vector2.Y;result.v.M22=vector3.Y;result.v.M23=vector.Y;result.v.M24=0;result.v.M31=vector2.Z;result.v.M32=vector3.Z;result.v.M33=vector.Z;result.v.M34=0;result.v.M41=-Microsoft.Xna.Framework.Vector3.Dot(vector2.$clone(),cameraPosition.v.$clone());result.v.M42=-Microsoft.Xna.Framework.Vector3.Dot(vector3.$clone(),cameraPosition.v.$clone());result.v.M43=-Microsoft.Xna.Framework.Vector3.Dot(vector.$clone(),cameraPosition.v.$clone());result.v.M44=1},CreateOrthographic:function(width,height,zNearPlane,zFarPlane){var matrix={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.CreateOrthographic$1(width,height,zNearPlane,zFarPlane,matrix),matrix.v.$clone()},CreateOrthographic$1:function(width,height,zNearPlane,zFarPlane,result){result.v.M11=2/width;result.v.M12=result.v.M13=result.v.M14=0;result.v.M22=2/height;result.v.M21=result.v.M23=result.v.M24=0;result.v.M33=1/(zNearPlane-zFarPlane);result.v.M31=result.v.M32=result.v.M34=0;result.v.M41=result.v.M42=0;result.v.M43=zNearPlane/(zNearPlane-zFarPlane);result.v.M44=1},CreateOrthographicOffCenter$1:function(left,right,bottom,top,zNearPlane,zFarPlane){var matrix={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.CreateOrthographicOffCenter$2(left,right,bottom,top,zNearPlane,zFarPlane,matrix),matrix.v.$clone()},CreateOrthographicOffCenter:function(viewingVolume,zNearPlane,zFarPlane){var matrix={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.CreateOrthographicOffCenter$2(viewingVolume.Left,viewingVolume.Right,viewingVolume.Bottom,viewingVolume.Top,zNearPlane,zFarPlane,matrix),matrix.v.$clone()},CreateOrthographicOffCenter$2:function(left,right,bottom,top,zNearPlane,zFarPlane,result){result.v.M11=2/(right-left);result.v.M12=0;result.v.M13=0;result.v.M14=0;result.v.M21=0;result.v.M22=2/(top-bottom);result.v.M23=0;result.v.M24=0;result.v.M31=0;result.v.M32=0;result.v.M33=1/(zNearPlane-zFarPlane);result.v.M34=0;result.v.M41=(left+right)/(left-right);result.v.M42=(top+bottom)/(bottom-top);result.v.M43=zNearPlane/(zNearPlane-zFarPlane);result.v.M44=1},CreatePerspective:function(width,height,nearPlaneDistance,farPlaneDistance){var matrix={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.CreatePerspective$1(width,height,nearPlaneDistance,farPlaneDistance,matrix),matrix.v.$clone()},CreatePerspective$1:function(width,height,nearPlaneDistance,farPlaneDistance,result){if(nearPlaneDistance<=0)throw new System.ArgumentException.$ctor1("nearPlaneDistance <= 0");if(farPlaneDistance<=0)throw new System.ArgumentException.$ctor1("farPlaneDistance <= 0");if(nearPlaneDistance>=farPlaneDistance)throw new System.ArgumentException.$ctor1("nearPlaneDistance >= farPlaneDistance");result.v.M11=2*nearPlaneDistance/width;result.v.M12=result.v.M13=result.v.M14=0;result.v.M22=2*nearPlaneDistance/height;result.v.M21=result.v.M23=result.v.M24=0;result.v.M33=farPlaneDistance/(nearPlaneDistance-farPlaneDistance);result.v.M31=result.v.M32=0;result.v.M34=-1;result.v.M41=result.v.M42=result.v.M44=0;result.v.M43=nearPlaneDistance*farPlaneDistance/(nearPlaneDistance-farPlaneDistance)},CreatePerspectiveFieldOfView:function(fieldOfView,aspectRatio,nearPlaneDistance,farPlaneDistance){var result={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.CreatePerspectiveFieldOfView$1(fieldOfView,aspectRatio,nearPlaneDistance,farPlaneDistance,result),result.v.$clone()},CreatePerspectiveFieldOfView$1:function(fieldOfView,aspectRatio,nearPlaneDistance,farPlaneDistance,result){if(fieldOfView<=0||fieldOfView>=3.141593)throw new System.ArgumentException.$ctor1("fieldOfView <= 0 or >= PI");if(nearPlaneDistance<=0)throw new System.ArgumentException.$ctor1("nearPlaneDistance <= 0");if(farPlaneDistance<=0)throw new System.ArgumentException.$ctor1("farPlaneDistance <= 0");if(nearPlaneDistance>=farPlaneDistance)throw new System.ArgumentException.$ctor1("nearPlaneDistance >= farPlaneDistance");var num=1/Math.tan(fieldOfView*.5),num9=num/aspectRatio;result.v.M11=num9;result.v.M12=result.v.M13=result.v.M14=0;result.v.M22=num;result.v.M21=result.v.M23=result.v.M24=0;result.v.M31=result.v.M32=0;result.v.M33=farPlaneDistance/(nearPlaneDistance-farPlaneDistance);result.v.M34=-1;result.v.M41=result.v.M42=result.v.M44=0;result.v.M43=nearPlaneDistance*farPlaneDistance/(nearPlaneDistance-farPlaneDistance)},CreatePerspectiveOffCenter$1:function(left,right,bottom,top,nearPlaneDistance,farPlaneDistance){var result={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.CreatePerspectiveOffCenter$2(left,right,bottom,top,nearPlaneDistance,farPlaneDistance,result),result.v.$clone()},CreatePerspectiveOffCenter:function(viewingVolume,nearPlaneDistance,farPlaneDistance){var result={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.CreatePerspectiveOffCenter$2(viewingVolume.Left,viewingVolume.Right,viewingVolume.Bottom,viewingVolume.Top,nearPlaneDistance,farPlaneDistance,result),result.v.$clone()},CreatePerspectiveOffCenter$2:function(left,right,bottom,top,nearPlaneDistance,farPlaneDistance,result){if(nearPlaneDistance<=0)throw new System.ArgumentException.$ctor1("nearPlaneDistance <= 0");if(farPlaneDistance<=0)throw new System.ArgumentException.$ctor1("farPlaneDistance <= 0");if(nearPlaneDistance>=farPlaneDistance)throw new System.ArgumentException.$ctor1("nearPlaneDistance >= farPlaneDistance");result.v.M11=2*nearPlaneDistance/(right-left);result.v.M12=result.v.M13=result.v.M14=0;result.v.M22=2*nearPlaneDistance/(top-bottom);result.v.M21=result.v.M23=result.v.M24=0;result.v.M31=(left+right)/(right-left);result.v.M32=(top+bottom)/(top-bottom);result.v.M33=farPlaneDistance/(nearPlaneDistance-farPlaneDistance);result.v.M34=-1;result.v.M43=nearPlaneDistance*farPlaneDistance/(nearPlaneDistance-farPlaneDistance);result.v.M41=result.v.M42=result.v.M44=0},CreateRotationX:function(radians){var result={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.CreateRotationX$1(radians,result),result.v.$clone()},CreateRotationX$1:function(radians,result){result.v=Microsoft.Xna.Framework.Matrix.Identity.$clone();var val1=Math.cos(radians),val2=Math.sin(radians);result.v.M22=val1;result.v.M23=val2;result.v.M32=-val2;result.v.M33=val1},CreateRotationY:function(radians){var result={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.CreateRotationY$1(radians,result),result.v.$clone()},CreateRotationY$1:function(radians,result){result.v=Microsoft.Xna.Framework.Matrix.Identity.$clone();var val1=Math.cos(radians),val2=Math.sin(radians);result.v.M11=val1;result.v.M13=-val2;result.v.M31=val2;result.v.M33=val1},CreateRotationZ:function(radians){var result={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.CreateRotationZ$1(radians,result),result.v.$clone()},CreateRotationZ$1:function(radians,result){result.v=Microsoft.Xna.Framework.Matrix.Identity.$clone();var val1=Math.cos(radians),val2=Math.sin(radians);result.v.M11=val1;result.v.M12=val2;result.v.M21=-val2;result.v.M22=val1},CreateScale$1:function(scale){var result={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.CreateScale$5(scale,scale,scale,result),result.v.$clone()},CreateScale$4:function(scale,result){Microsoft.Xna.Framework.Matrix.CreateScale$5(scale,scale,scale,result)},CreateScale$2:function(xScale,yScale,zScale){var result={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.CreateScale$5(xScale,yScale,zScale,result),result.v.$clone()},CreateScale$5:function(xScale,yScale,zScale,result){result.v.M11=xScale;result.v.M12=0;result.v.M13=0;result.v.M14=0;result.v.M21=0;result.v.M22=yScale;result.v.M23=0;result.v.M24=0;result.v.M31=0;result.v.M32=0;result.v.M33=zScale;result.v.M34=0;result.v.M41=0;result.v.M42=0;result.v.M43=0;result.v.M44=1},CreateScale:function(scales){scales={v:scales};var result={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.CreateScale$3(scales,result),result.v.$clone()},CreateScale$3:function(scales,result){result.v.M11=scales.v.X;result.v.M12=0;result.v.M13=0;result.v.M14=0;result.v.M21=0;result.v.M22=scales.v.Y;result.v.M23=0;result.v.M24=0;result.v.M31=0;result.v.M32=0;result.v.M33=scales.v.Z;result.v.M34=0;result.v.M41=0;result.v.M42=0;result.v.M43=0;result.v.M44=1},CreateShadow:function(lightDirection,plane){lightDirection={v:lightDirection};plane={v:plane};var result={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.CreateShadow$1(lightDirection,plane,result),result.v.$clone()},CreateShadow$1:function(lightDirection,plane,result){var dot=plane.v.Normal.X*lightDirection.v.X+plane.v.Normal.Y*lightDirection.v.Y+plane.v.Normal.Z*lightDirection.v.Z,x=-plane.v.Normal.X,y=-plane.v.Normal.Y,z=-plane.v.Normal.Z,d=-plane.v.D;result.v.M11=x*lightDirection.v.X+dot;result.v.M12=x*lightDirection.v.Y;result.v.M13=x*lightDirection.v.Z;result.v.M14=0;result.v.M21=y*lightDirection.v.X;result.v.M22=y*lightDirection.v.Y+dot;result.v.M23=y*lightDirection.v.Z;result.v.M24=0;result.v.M31=z*lightDirection.v.X;result.v.M32=z*lightDirection.v.Y;result.v.M33=z*lightDirection.v.Z+dot;result.v.M34=0;result.v.M41=d*lightDirection.v.X;result.v.M42=d*lightDirection.v.Y;result.v.M43=d*lightDirection.v.Z;result.v.M44=dot},CreateTranslation$1:function(xPosition,yPosition,zPosition){var result={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.CreateTranslation$3(xPosition,yPosition,zPosition,result),result.v.$clone()},CreateTranslation$2:function(position,result){result.v.M11=1;result.v.M12=0;result.v.M13=0;result.v.M14=0;result.v.M21=0;result.v.M22=1;result.v.M23=0;result.v.M24=0;result.v.M31=0;result.v.M32=0;result.v.M33=1;result.v.M34=0;result.v.M41=position.v.X;result.v.M42=position.v.Y;result.v.M43=position.v.Z;result.v.M44=1},CreateTranslation:function(position){position={v:position};var result={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.CreateTranslation$2(position,result),result.v.$clone()},CreateTranslation$3:function(xPosition,yPosition,zPosition,result){result.v.M11=1;result.v.M12=0;result.v.M13=0;result.v.M14=0;result.v.M21=0;result.v.M22=1;result.v.M23=0;result.v.M24=0;result.v.M31=0;result.v.M32=0;result.v.M33=1;result.v.M34=0;result.v.M41=xPosition;result.v.M42=yPosition;result.v.M43=zPosition;result.v.M44=1},CreateReflection:function(value){value={v:value};var result={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.CreateReflection$1(value,result),result.v.$clone()},CreateReflection$1:function(value,result){var plane={v:new Microsoft.Xna.Framework.Plane};Microsoft.Xna.Framework.Plane.Normalize$1(value,plane);var x=plane.v.Normal.X,y=plane.v.Normal.Y,z=plane.v.Normal.Z,num3=-2*x,num2=-2*y,num=-2*z;result.v.M11=num3*x+1;result.v.M12=num2*x;result.v.M13=num*x;result.v.M14=0;result.v.M21=num3*y;result.v.M22=num2*y+1;result.v.M23=num*y;result.v.M24=0;result.v.M31=num3*z;result.v.M32=num2*z;result.v.M33=num*z+1;result.v.M34=0;result.v.M41=num3*plane.v.D;result.v.M42=num2*plane.v.D;result.v.M43=num*plane.v.D;result.v.M44=1},CreateWorld:function(position,forward,up){position={v:position};forward={v:forward};up={v:up};var ret={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.CreateWorld$1(position,forward,up,ret),ret.v.$clone()},CreateWorld$1:function(position,forward,up,result){var x={v:new Microsoft.Xna.Framework.Vector3},y={v:new Microsoft.Xna.Framework.Vector3},z={v:new Microsoft.Xna.Framework.Vector3};Microsoft.Xna.Framework.Vector3.Normalize$1(forward,z);Microsoft.Xna.Framework.Vector3.Cross$1(forward,up,x);Microsoft.Xna.Framework.Vector3.Cross$1(x,forward,y);x.v.Normalize();y.v.Normalize();result.v=new Microsoft.Xna.Framework.Matrix.ctor;result.v.Right=x.v.$clone();result.v.Up=y.v.$clone();result.v.Forward=z.v.$clone();result.v.Translation=position.v.$clone();result.v.M44=1},Divide:function(matrix1,matrix2){return matrix1.M11=matrix1.M11/matrix2.M11,matrix1.M12=matrix1.M12/matrix2.M12,matrix1.M13=matrix1.M13/matrix2.M13,matrix1.M14=matrix1.M14/matrix2.M14,matrix1.M21=matrix1.M21/matrix2.M21,matrix1.M22=matrix1.M22/matrix2.M22,matrix1.M23=matrix1.M23/matrix2.M23,matrix1.M24=matrix1.M24/matrix2.M24,matrix1.M31=matrix1.M31/matrix2.M31,matrix1.M32=matrix1.M32/matrix2.M32,matrix1.M33=matrix1.M33/matrix2.M33,matrix1.M34=matrix1.M34/matrix2.M34,matrix1.M41=matrix1.M41/matrix2.M41,matrix1.M42=matrix1.M42/matrix2.M42,matrix1.M43=matrix1.M43/matrix2.M43,matrix1.M44=matrix1.M44/matrix2.M44,matrix1.$clone()},Divide$2:function(matrix1,matrix2,result){result.v.M11=matrix1.v.M11/matrix2.v.M11;result.v.M12=matrix1.v.M12/matrix2.v.M12;result.v.M13=matrix1.v.M13/matrix2.v.M13;result.v.M14=matrix1.v.M14/matrix2.v.M14;result.v.M21=matrix1.v.M21/matrix2.v.M21;result.v.M22=matrix1.v.M22/matrix2.v.M22;result.v.M23=matrix1.v.M23/matrix2.v.M23;result.v.M24=matrix1.v.M24/matrix2.v.M24;result.v.M31=matrix1.v.M31/matrix2.v.M31;result.v.M32=matrix1.v.M32/matrix2.v.M32;result.v.M33=matrix1.v.M33/matrix2.v.M33;result.v.M34=matrix1.v.M34/matrix2.v.M34;result.v.M41=matrix1.v.M41/matrix2.v.M41;result.v.M42=matrix1.v.M42/matrix2.v.M42;result.v.M43=matrix1.v.M43/matrix2.v.M43;result.v.M44=matrix1.v.M44/matrix2.v.M44},Divide$1:function(matrix1,divider){var num=1/divider;return matrix1.M11=matrix1.M11*num,matrix1.M12=matrix1.M12*num,matrix1.M13=matrix1.M13*num,matrix1.M14=matrix1.M14*num,matrix1.M21=matrix1.M21*num,matrix1.M22=matrix1.M22*num,matrix1.M23=matrix1.M23*num,matrix1.M24=matrix1.M24*num,matrix1.M31=matrix1.M31*num,matrix1.M32=matrix1.M32*num,matrix1.M33=matrix1.M33*num,matrix1.M34=matrix1.M34*num,matrix1.M41=matrix1.M41*num,matrix1.M42=matrix1.M42*num,matrix1.M43=matrix1.M43*num,matrix1.M44=matrix1.M44*num,matrix1.$clone()},Divide$3:function(matrix1,divider,result){var num=1/divider;result.v.M11=matrix1.v.M11*num;result.v.M12=matrix1.v.M12*num;result.v.M13=matrix1.v.M13*num;result.v.M14=matrix1.v.M14*num;result.v.M21=matrix1.v.M21*num;result.v.M22=matrix1.v.M22*num;result.v.M23=matrix1.v.M23*num;result.v.M24=matrix1.v.M24*num;result.v.M31=matrix1.v.M31*num;result.v.M32=matrix1.v.M32*num;result.v.M33=matrix1.v.M33*num;result.v.M34=matrix1.v.M34*num;result.v.M41=matrix1.v.M41*num;result.v.M42=matrix1.v.M42*num;result.v.M43=matrix1.v.M43*num;result.v.M44=matrix1.v.M44*num},Invert:function(matrix){matrix={v:matrix};var result={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.Invert$1(matrix,result),result.v.$clone()},Invert$1:function(matrix,result){var num1=matrix.v.M11,num2=matrix.v.M12,num3=matrix.v.M13,num4=matrix.v.M14,num5=matrix.v.M21,num6=matrix.v.M22,num7=matrix.v.M23,num8=matrix.v.M24,num9=matrix.v.M31,num10=matrix.v.M32,num11=matrix.v.M33,num12=matrix.v.M34,num13=matrix.v.M41,num14=matrix.v.M42,num15=matrix.v.M43,num16=matrix.v.M44,num17=num11*num16-num12*num15,num18=num10*num16-num12*num14,num19=num10*num15-num11*num14,num20=num9*num16-num12*num13,num21=num9*num15-num11*num13,num22=num9*num14-num10*num13,num23=num6*num17-num7*num18+num8*num19,num24=-(num5*num17-num7*num20+num8*num21),num25=num5*num18-num6*num20+num8*num22,num26=-(num5*num19-num6*num21+num7*num22),num27=1/(num1*num23+num2*num24+num3*num25+num4*num26);result.v.M11=num23*num27;result.v.M21=num24*num27;result.v.M31=num25*num27;result.v.M41=num26*num27;result.v.M12=-(num2*num17-num3*num18+num4*num19)*num27;result.v.M22=(num1*num17-num3*num20+num4*num21)*num27;result.v.M32=-(num1*num18-num2*num20+num4*num22)*num27;result.v.M42=(num1*num19-num2*num21+num3*num22)*num27;var num28=num7*num16-num8*num15,num29=num6*num16-num8*num14,num30=num6*num15-num7*num14,num31=num5*num16-num8*num13,num32=num5*num15-num7*num13,num33=num5*num14-num6*num13;result.v.M13=(num2*num28-num3*num29+num4*num30)*num27;result.v.M23=-(num1*num28-num3*num31+num4*num32)*num27;result.v.M33=(num1*num29-num2*num31+num4*num33)*num27;result.v.M43=-(num1*num30-num2*num32+num3*num33)*num27;var num34=num7*num12-num8*num11,num35=num6*num12-num8*num10,num36=num6*num11-num7*num10,num37=num5*num12-num8*num9,num38=num5*num11-num7*num9,num39=num5*num10-num6*num9;result.v.M14=-(num2*num34-num3*num35+num4*num36)*num27;result.v.M24=(num1*num34-num3*num37+num4*num38)*num27;result.v.M34=-(num1*num35-num2*num37+num4*num39)*num27;result.v.M44=(num1*num36-num2*num38+num3*num39)*num27},Lerp:function(matrix1,matrix2,amount){return matrix1.M11=matrix1.M11+(matrix2.M11-matrix1.M11)*amount,matrix1.M12=matrix1.M12+(matrix2.M12-matrix1.M12)*amount,matrix1.M13=matrix1.M13+(matrix2.M13-matrix1.M13)*amount,matrix1.M14=matrix1.M14+(matrix2.M14-matrix1.M14)*amount,matrix1.M21=matrix1.M21+(matrix2.M21-matrix1.M21)*amount,matrix1.M22=matrix1.M22+(matrix2.M22-matrix1.M22)*amount,matrix1.M23=matrix1.M23+(matrix2.M23-matrix1.M23)*amount,matrix1.M24=matrix1.M24+(matrix2.M24-matrix1.M24)*amount,matrix1.M31=matrix1.M31+(matrix2.M31-matrix1.M31)*amount,matrix1.M32=matrix1.M32+(matrix2.M32-matrix1.M32)*amount,matrix1.M33=matrix1.M33+(matrix2.M33-matrix1.M33)*amount,matrix1.M34=matrix1.M34+(matrix2.M34-matrix1.M34)*amount,matrix1.M41=matrix1.M41+(matrix2.M41-matrix1.M41)*amount,matrix1.M42=matrix1.M42+(matrix2.M42-matrix1.M42)*amount,matrix1.M43=matrix1.M43+(matrix2.M43-matrix1.M43)*amount,matrix1.M44=matrix1.M44+(matrix2.M44-matrix1.M44)*amount,matrix1.$clone()},Lerp$1:function(matrix1,matrix2,amount,result){result.v.M11=matrix1.v.M11+(matrix2.v.M11-matrix1.v.M11)*amount;result.v.M12=matrix1.v.M12+(matrix2.v.M12-matrix1.v.M12)*amount;result.v.M13=matrix1.v.M13+(matrix2.v.M13-matrix1.v.M13)*amount;result.v.M14=matrix1.v.M14+(matrix2.v.M14-matrix1.v.M14)*amount;result.v.M21=matrix1.v.M21+(matrix2.v.M21-matrix1.v.M21)*amount;result.v.M22=matrix1.v.M22+(matrix2.v.M22-matrix1.v.M22)*amount;result.v.M23=matrix1.v.M23+(matrix2.v.M23-matrix1.v.M23)*amount;result.v.M24=matrix1.v.M24+(matrix2.v.M24-matrix1.v.M24)*amount;result.v.M31=matrix1.v.M31+(matrix2.v.M31-matrix1.v.M31)*amount;result.v.M32=matrix1.v.M32+(matrix2.v.M32-matrix1.v.M32)*amount;result.v.M33=matrix1.v.M33+(matrix2.v.M33-matrix1.v.M33)*amount;result.v.M34=matrix1.v.M34+(matrix2.v.M34-matrix1.v.M34)*amount;result.v.M41=matrix1.v.M41+(matrix2.v.M41-matrix1.v.M41)*amount;result.v.M42=matrix1.v.M42+(matrix2.v.M42-matrix1.v.M42)*amount;result.v.M43=matrix1.v.M43+(matrix2.v.M43-matrix1.v.M43)*amount;result.v.M44=matrix1.v.M44+(matrix2.v.M44-matrix1.v.M44)*amount},Multiply:function(matrix1,matrix2){var m11=matrix1.M11*matrix2.M11+matrix1.M12*matrix2.M21+matrix1.M13*matrix2.M31+matrix1.M14*matrix2.M41,m12=matrix1.M11*matrix2.M12+matrix1.M12*matrix2.M22+matrix1.M13*matrix2.M32+matrix1.M14*matrix2.M42,m13=matrix1.M11*matrix2.M13+matrix1.M12*matrix2.M23+matrix1.M13*matrix2.M33+matrix1.M14*matrix2.M43,m14=matrix1.M11*matrix2.M14+matrix1.M12*matrix2.M24+matrix1.M13*matrix2.M34+matrix1.M14*matrix2.M44,m21=matrix1.M21*matrix2.M11+matrix1.M22*matrix2.M21+matrix1.M23*matrix2.M31+matrix1.M24*matrix2.M41,m22=matrix1.M21*matrix2.M12+matrix1.M22*matrix2.M22+matrix1.M23*matrix2.M32+matrix1.M24*matrix2.M42,m23=matrix1.M21*matrix2.M13+matrix1.M22*matrix2.M23+matrix1.M23*matrix2.M33+matrix1.M24*matrix2.M43,m24=matrix1.M21*matrix2.M14+matrix1.M22*matrix2.M24+matrix1.M23*matrix2.M34+matrix1.M24*matrix2.M44,m31=matrix1.M31*matrix2.M11+matrix1.M32*matrix2.M21+matrix1.M33*matrix2.M31+matrix1.M34*matrix2.M41,m32=matrix1.M31*matrix2.M12+matrix1.M32*matrix2.M22+matrix1.M33*matrix2.M32+matrix1.M34*matrix2.M42,m33=matrix1.M31*matrix2.M13+matrix1.M32*matrix2.M23+matrix1.M33*matrix2.M33+matrix1.M34*matrix2.M43,m34=matrix1.M31*matrix2.M14+matrix1.M32*matrix2.M24+matrix1.M33*matrix2.M34+matrix1.M34*matrix2.M44,m41=matrix1.M41*matrix2.M11+matrix1.M42*matrix2.M21+matrix1.M43*matrix2.M31+matrix1.M44*matrix2.M41,m42=matrix1.M41*matrix2.M12+matrix1.M42*matrix2.M22+matrix1.M43*matrix2.M32+matrix1.M44*matrix2.M42,m43=matrix1.M41*matrix2.M13+matrix1.M42*matrix2.M23+matrix1.M43*matrix2.M33+matrix1.M44*matrix2.M43,m44=matrix1.M41*matrix2.M14+matrix1.M42*matrix2.M24+matrix1.M43*matrix2.M34+matrix1.M44*matrix2.M44;return matrix1.M11=m11,matrix1.M12=m12,matrix1.M13=m13,matrix1.M14=m14,matrix1.M21=m21,matrix1.M22=m22,matrix1.M23=m23,matrix1.M24=m24,matrix1.M31=m31,matrix1.M32=m32,matrix1.M33=m33,matrix1.M34=m34,matrix1.M41=m41,matrix1.M42=m42,matrix1.M43=m43,matrix1.M44=m44,matrix1.$clone()},Multiply$2:function(matrix1,matrix2,result){var m11=matrix1.v.M11*matrix2.v.M11+matrix1.v.M12*matrix2.v.M21+matrix1.v.M13*matrix2.v.M31+matrix1.v.M14*matrix2.v.M41,m12=matrix1.v.M11*matrix2.v.M12+matrix1.v.M12*matrix2.v.M22+matrix1.v.M13*matrix2.v.M32+matrix1.v.M14*matrix2.v.M42,m13=matrix1.v.M11*matrix2.v.M13+matrix1.v.M12*matrix2.v.M23+matrix1.v.M13*matrix2.v.M33+matrix1.v.M14*matrix2.v.M43,m14=matrix1.v.M11*matrix2.v.M14+matrix1.v.M12*matrix2.v.M24+matrix1.v.M13*matrix2.v.M34+matrix1.v.M14*matrix2.v.M44,m21=matrix1.v.M21*matrix2.v.M11+matrix1.v.M22*matrix2.v.M21+matrix1.v.M23*matrix2.v.M31+matrix1.v.M24*matrix2.v.M41,m22=matrix1.v.M21*matrix2.v.M12+matrix1.v.M22*matrix2.v.M22+matrix1.v.M23*matrix2.v.M32+matrix1.v.M24*matrix2.v.M42,m23=matrix1.v.M21*matrix2.v.M13+matrix1.v.M22*matrix2.v.M23+matrix1.v.M23*matrix2.v.M33+matrix1.v.M24*matrix2.v.M43,m24=matrix1.v.M21*matrix2.v.M14+matrix1.v.M22*matrix2.v.M24+matrix1.v.M23*matrix2.v.M34+matrix1.v.M24*matrix2.v.M44,m31=matrix1.v.M31*matrix2.v.M11+matrix1.v.M32*matrix2.v.M21+matrix1.v.M33*matrix2.v.M31+matrix1.v.M34*matrix2.v.M41,m32=matrix1.v.M31*matrix2.v.M12+matrix1.v.M32*matrix2.v.M22+matrix1.v.M33*matrix2.v.M32+matrix1.v.M34*matrix2.v.M42,m33=matrix1.v.M31*matrix2.v.M13+matrix1.v.M32*matrix2.v.M23+matrix1.v.M33*matrix2.v.M33+matrix1.v.M34*matrix2.v.M43,m34=matrix1.v.M31*matrix2.v.M14+matrix1.v.M32*matrix2.v.M24+matrix1.v.M33*matrix2.v.M34+matrix1.v.M34*matrix2.v.M44,m41=matrix1.v.M41*matrix2.v.M11+matrix1.v.M42*matrix2.v.M21+matrix1.v.M43*matrix2.v.M31+matrix1.v.M44*matrix2.v.M41,m42=matrix1.v.M41*matrix2.v.M12+matrix1.v.M42*matrix2.v.M22+matrix1.v.M43*matrix2.v.M32+matrix1.v.M44*matrix2.v.M42,m43=matrix1.v.M41*matrix2.v.M13+matrix1.v.M42*matrix2.v.M23+matrix1.v.M43*matrix2.v.M33+matrix1.v.M44*matrix2.v.M43,m44=matrix1.v.M41*matrix2.v.M14+matrix1.v.M42*matrix2.v.M24+matrix1.v.M43*matrix2.v.M34+matrix1.v.M44*matrix2.v.M44;result.v.M11=m11;result.v.M12=m12;result.v.M13=m13;result.v.M14=m14;result.v.M21=m21;result.v.M22=m22;result.v.M23=m23;result.v.M24=m24;result.v.M31=m31;result.v.M32=m32;result.v.M33=m33;result.v.M34=m34;result.v.M41=m41;result.v.M42=m42;result.v.M43=m43;result.v.M44=m44},Multiply$1:function(matrix1,scaleFactor){return matrix1.M11*=scaleFactor,matrix1.M12*=scaleFactor,matrix1.M13*=scaleFactor,matrix1.M14*=scaleFactor,matrix1.M21*=scaleFactor,matrix1.M22*=scaleFactor,matrix1.M23*=scaleFactor,matrix1.M24*=scaleFactor,matrix1.M31*=scaleFactor,matrix1.M32*=scaleFactor,matrix1.M33*=scaleFactor,matrix1.M34*=scaleFactor,matrix1.M41*=scaleFactor,matrix1.M42*=scaleFactor,matrix1.M43*=scaleFactor,matrix1.M44*=scaleFactor,matrix1.$clone()},Multiply$3:function(matrix1,scaleFactor,result){result.v.M11=matrix1.v.M11*scaleFactor;result.v.M12=matrix1.v.M12*scaleFactor;result.v.M13=matrix1.v.M13*scaleFactor;result.v.M14=matrix1.v.M14*scaleFactor;result.v.M21=matrix1.v.M21*scaleFactor;result.v.M22=matrix1.v.M22*scaleFactor;result.v.M23=matrix1.v.M23*scaleFactor;result.v.M24=matrix1.v.M24*scaleFactor;result.v.M31=matrix1.v.M31*scaleFactor;result.v.M32=matrix1.v.M32*scaleFactor;result.v.M33=matrix1.v.M33*scaleFactor;result.v.M34=matrix1.v.M34*scaleFactor;result.v.M41=matrix1.v.M41*scaleFactor;result.v.M42=matrix1.v.M42*scaleFactor;result.v.M43=matrix1.v.M43*scaleFactor;result.v.M44=matrix1.v.M44*scaleFactor},ToFloatArray:function(matrix){return System.Array.init([matrix.M11,matrix.M12,matrix.M13,matrix.M14,matrix.M21,matrix.M22,matrix.M23,matrix.M24,matrix.M31,matrix.M32,matrix.M33,matrix.M34,matrix.M41,matrix.M42,matrix.M43,matrix.M44],System.Single)},Negate:function(matrix){return matrix.M11=-matrix.M11,matrix.M12=-matrix.M12,matrix.M13=-matrix.M13,matrix.M14=-matrix.M14,matrix.M21=-matrix.M21,matrix.M22=-matrix.M22,matrix.M23=-matrix.M23,matrix.M24=-matrix.M24,matrix.M31=-matrix.M31,matrix.M32=-matrix.M32,matrix.M33=-matrix.M33,matrix.M34=-matrix.M34,matrix.M41=-matrix.M41,matrix.M42=-matrix.M42,matrix.M43=-matrix.M43,matrix.M44=-matrix.M44,matrix.$clone()},Negate$1:function(matrix,result){result.v.M11=-matrix.v.M11;result.v.M12=-matrix.v.M12;result.v.M13=-matrix.v.M13;result.v.M14=-matrix.v.M14;result.v.M21=-matrix.v.M21;result.v.M22=-matrix.v.M22;result.v.M23=-matrix.v.M23;result.v.M24=-matrix.v.M24;result.v.M31=-matrix.v.M31;result.v.M32=-matrix.v.M32;result.v.M33=-matrix.v.M33;result.v.M34=-matrix.v.M34;result.v.M41=-matrix.v.M41;result.v.M42=-matrix.v.M42;result.v.M43=-matrix.v.M43;result.v.M44=-matrix.v.M44},Subtract:function(matrix1,matrix2){return matrix1.M11=matrix1.M11-matrix2.M11,matrix1.M12=matrix1.M12-matrix2.M12,matrix1.M13=matrix1.M13-matrix2.M13,matrix1.M14=matrix1.M14-matrix2.M14,matrix1.M21=matrix1.M21-matrix2.M21,matrix1.M22=matrix1.M22-matrix2.M22,matrix1.M23=matrix1.M23-matrix2.M23,matrix1.M24=matrix1.M24-matrix2.M24,matrix1.M31=matrix1.M31-matrix2.M31,matrix1.M32=matrix1.M32-matrix2.M32,matrix1.M33=matrix1.M33-matrix2.M33,matrix1.M34=matrix1.M34-matrix2.M34,matrix1.M41=matrix1.M41-matrix2.M41,matrix1.M42=matrix1.M42-matrix2.M42,matrix1.M43=matrix1.M43-matrix2.M43,matrix1.M44=matrix1.M44-matrix2.M44,matrix1.$clone()},Subtract$1:function(matrix1,matrix2,result){result.v.M11=matrix1.v.M11-matrix2.v.M11;result.v.M12=matrix1.v.M12-matrix2.v.M12;result.v.M13=matrix1.v.M13-matrix2.v.M13;result.v.M14=matrix1.v.M14-matrix2.v.M14;result.v.M21=matrix1.v.M21-matrix2.v.M21;result.v.M22=matrix1.v.M22-matrix2.v.M22;result.v.M23=matrix1.v.M23-matrix2.v.M23;result.v.M24=matrix1.v.M24-matrix2.v.M24;result.v.M31=matrix1.v.M31-matrix2.v.M31;result.v.M32=matrix1.v.M32-matrix2.v.M32;result.v.M33=matrix1.v.M33-matrix2.v.M33;result.v.M34=matrix1.v.M34-matrix2.v.M34;result.v.M41=matrix1.v.M41-matrix2.v.M41;result.v.M42=matrix1.v.M42-matrix2.v.M42;result.v.M43=matrix1.v.M43-matrix2.v.M43;result.v.M44=matrix1.v.M44-matrix2.v.M44},Transpose:function(matrix){matrix={v:matrix};var ret={v:new Microsoft.Xna.Framework.Matrix};return Microsoft.Xna.Framework.Matrix.Transpose$1(matrix,ret),ret.v.$clone()},Transpose$1:function(matrix,result){var ret=new Microsoft.Xna.Framework.Matrix;ret.M11=matrix.v.M11;ret.M12=matrix.v.M21;ret.M13=matrix.v.M31;ret.M14=matrix.v.M41;ret.M21=matrix.v.M12;ret.M22=matrix.v.M22;ret.M23=matrix.v.M32;ret.M24=matrix.v.M42;ret.M31=matrix.v.M13;ret.M32=matrix.v.M23;ret.M33=matrix.v.M33;ret.M34=matrix.v.M43;ret.M41=matrix.v.M14;ret.M42=matrix.v.M24;ret.M43=matrix.v.M34;ret.M44=matrix.v.M44;result.v=ret.$clone()},FindDeterminants:function(matrix,major,minor1,minor2,minor3,minor4,minor5,minor6,minor7,minor8,minor9,minor10,minor11,minor12){var det1=matrix.v.M11*matrix.v.M22-matrix.v.M12*matrix.v.M21,det2=matrix.v.M11*matrix.v.M23-matrix.v.M13*matrix.v.M21,det3=matrix.v.M11*matrix.v.M24-matrix.v.M14*matrix.v.M21,det4=matrix.v.M12*matrix.v.M23-matrix.v.M13*matrix.v.M22,det5=matrix.v.M12*matrix.v.M24-matrix.v.M14*matrix.v.M22,det6=matrix.v.M13*matrix.v.M24-matrix.v.M14*matrix.v.M23,det7=matrix.v.M31*matrix.v.M42-matrix.v.M32*matrix.v.M41,det8=matrix.v.M31*matrix.v.M43-matrix.v.M33*matrix.v.M41,det9=matrix.v.M31*matrix.v.M44-matrix.v.M34*matrix.v.M41,det10=matrix.v.M32*matrix.v.M43-matrix.v.M33*matrix.v.M42,det11=matrix.v.M32*matrix.v.M44-matrix.v.M34*matrix.v.M42,det12=matrix.v.M33*matrix.v.M44-matrix.v.M34*matrix.v.M43;major.v=det1*det12-det2*det11+det3*det10+det4*det9-det5*det8+det6*det7;minor1.v=det1;minor2.v=det2;minor3.v=det3;minor4.v=det4;minor5.v=det5;minor6.v=det6;minor7.v=det7;minor8.v=det8;minor9.v=det9;minor10.v=det10;minor11.v=det11;minor12.v=det12},op_Addition:function(matrix1,matrix2){return matrix1.M11=matrix1.M11+matrix2.M11,matrix1.M12=matrix1.M12+matrix2.M12,matrix1.M13=matrix1.M13+matrix2.M13,matrix1.M14=matrix1.M14+matrix2.M14,matrix1.M21=matrix1.M21+matrix2.M21,matrix1.M22=matrix1.M22+matrix2.M22,matrix1.M23=matrix1.M23+matrix2.M23,matrix1.M24=matrix1.M24+matrix2.M24,matrix1.M31=matrix1.M31+matrix2.M31,matrix1.M32=matrix1.M32+matrix2.M32,matrix1.M33=matrix1.M33+matrix2.M33,matrix1.M34=matrix1.M34+matrix2.M34,matrix1.M41=matrix1.M41+matrix2.M41,matrix1.M42=matrix1.M42+matrix2.M42,matrix1.M43=matrix1.M43+matrix2.M43,matrix1.M44=matrix1.M44+matrix2.M44,matrix1.$clone()},op_Division:function(matrix1,matrix2){return matrix1.M11=matrix1.M11/matrix2.M11,matrix1.M12=matrix1.M12/matrix2.M12,matrix1.M13=matrix1.M13/matrix2.M13,matrix1.M14=matrix1.M14/matrix2.M14,matrix1.M21=matrix1.M21/matrix2.M21,matrix1.M22=matrix1.M22/matrix2.M22,matrix1.M23=matrix1.M23/matrix2.M23,matrix1.M24=matrix1.M24/matrix2.M24,matrix1.M31=matrix1.M31/matrix2.M31,matrix1.M32=matrix1.M32/matrix2.M32,matrix1.M33=matrix1.M33/matrix2.M33,matrix1.M34=matrix1.M34/matrix2.M34,matrix1.M41=matrix1.M41/matrix2.M41,matrix1.M42=matrix1.M42/matrix2.M42,matrix1.M43=matrix1.M43/matrix2.M43,matrix1.M44=matrix1.M44/matrix2.M44,matrix1.$clone()},op_Division$1:function(matrix,divider){var num=1/divider;return matrix.M11=matrix.M11*num,matrix.M12=matrix.M12*num,matrix.M13=matrix.M13*num,matrix.M14=matrix.M14*num,matrix.M21=matrix.M21*num,matrix.M22=matrix.M22*num,matrix.M23=matrix.M23*num,matrix.M24=matrix.M24*num,matrix.M31=matrix.M31*num,matrix.M32=matrix.M32*num,matrix.M33=matrix.M33*num,matrix.M34=matrix.M34*num,matrix.M41=matrix.M41*num,matrix.M42=matrix.M42*num,matrix.M43=matrix.M43*num,matrix.M44=matrix.M44*num,matrix.$clone()},op_Equality:function(matrix1,matrix2){return matrix1.M11===matrix2.M11&&matrix1.M12===matrix2.M12&&matrix1.M13===matrix2.M13&&matrix1.M14===matrix2.M14&&matrix1.M21===matrix2.M21&&matrix1.M22===matrix2.M22&&matrix1.M23===matrix2.M23&&matrix1.M24===matrix2.M24&&matrix1.M31===matrix2.M31&&matrix1.M32===matrix2.M32&&matrix1.M33===matrix2.M33&&matrix1.M34===matrix2.M34&&matrix1.M41===matrix2.M41&&matrix1.M42===matrix2.M42&&matrix1.M43===matrix2.M43&&matrix1.M44===matrix2.M44},op_Inequality:function(matrix1,matrix2){return matrix1.M11!==matrix2.M11||matrix1.M12!==matrix2.M12||matrix1.M13!==matrix2.M13||matrix1.M14!==matrix2.M14||matrix1.M21!==matrix2.M21||matrix1.M22!==matrix2.M22||matrix1.M23!==matrix2.M23||matrix1.M24!==matrix2.M24||matrix1.M31!==matrix2.M31||matrix1.M32!==matrix2.M32||matrix1.M33!==matrix2.M33||matrix1.M34!==matrix2.M34||matrix1.M41!==matrix2.M41||matrix1.M42!==matrix2.M42||matrix1.M43!==matrix2.M43||matrix1.M44!==matrix2.M44},op_Multiply:function(matrix1,matrix2){var m11=matrix1.M11*matrix2.M11+matrix1.M12*matrix2.M21+matrix1.M13*matrix2.M31+matrix1.M14*matrix2.M41,m12=matrix1.M11*matrix2.M12+matrix1.M12*matrix2.M22+matrix1.M13*matrix2.M32+matrix1.M14*matrix2.M42,m13=matrix1.M11*matrix2.M13+matrix1.M12*matrix2.M23+matrix1.M13*matrix2.M33+matrix1.M14*matrix2.M43,m14=matrix1.M11*matrix2.M14+matrix1.M12*matrix2.M24+matrix1.M13*matrix2.M34+matrix1.M14*matrix2.M44,m21=matrix1.M21*matrix2.M11+matrix1.M22*matrix2.M21+matrix1.M23*matrix2.M31+matrix1.M24*matrix2.M41,m22=matrix1.M21*matrix2.M12+matrix1.M22*matrix2.M22+matrix1.M23*matrix2.M32+matrix1.M24*matrix2.M42,m23=matrix1.M21*matrix2.M13+matrix1.M22*matrix2.M23+matrix1.M23*matrix2.M33+matrix1.M24*matrix2.M43,m24=matrix1.M21*matrix2.M14+matrix1.M22*matrix2.M24+matrix1.M23*matrix2.M34+matrix1.M24*matrix2.M44,m31=matrix1.M31*matrix2.M11+matrix1.M32*matrix2.M21+matrix1.M33*matrix2.M31+matrix1.M34*matrix2.M41,m32=matrix1.M31*matrix2.M12+matrix1.M32*matrix2.M22+matrix1.M33*matrix2.M32+matrix1.M34*matrix2.M42,m33=matrix1.M31*matrix2.M13+matrix1.M32*matrix2.M23+matrix1.M33*matrix2.M33+matrix1.M34*matrix2.M43,m34=matrix1.M31*matrix2.M14+matrix1.M32*matrix2.M24+matrix1.M33*matrix2.M34+matrix1.M34*matrix2.M44,m41=matrix1.M41*matrix2.M11+matrix1.M42*matrix2.M21+matrix1.M43*matrix2.M31+matrix1.M44*matrix2.M41,m42=matrix1.M41*matrix2.M12+matrix1.M42*matrix2.M22+matrix1.M43*matrix2.M32+matrix1.M44*matrix2.M42,m43=matrix1.M41*matrix2.M13+matrix1.M42*matrix2.M23+matrix1.M43*matrix2.M33+matrix1.M44*matrix2.M43,m44=matrix1.M41*matrix2.M14+matrix1.M42*matrix2.M24+matrix1.M43*matrix2.M34+matrix1.M44*matrix2.M44;return matrix1.M11=m11,matrix1.M12=m12,matrix1.M13=m13,matrix1.M14=m14,matrix1.M21=m21,matrix1.M22=m22,matrix1.M23=m23,matrix1.M24=m24,matrix1.M31=m31,matrix1.M32=m32,matrix1.M33=m33,matrix1.M34=m34,matrix1.M41=m41,matrix1.M42=m42,matrix1.M43=m43,matrix1.M44=m44,matrix1.$clone()},op_Multiply$1:function(matrix,scaleFactor){return matrix.M11=matrix.M11*scaleFactor,matrix.M12=matrix.M12*scaleFactor,matrix.M13=matrix.M13*scaleFactor,matrix.M14=matrix.M14*scaleFactor,matrix.M21=matrix.M21*scaleFactor,matrix.M22=matrix.M22*scaleFactor,matrix.M23=matrix.M23*scaleFactor,matrix.M24=matrix.M24*scaleFactor,matrix.M31=matrix.M31*scaleFactor,matrix.M32=matrix.M32*scaleFactor,matrix.M33=matrix.M33*scaleFactor,matrix.M34=matrix.M34*scaleFactor,matrix.M41=matrix.M41*scaleFactor,matrix.M42=matrix.M42*scaleFactor,matrix.M43=matrix.M43*scaleFactor,matrix.M44=matrix.M44*scaleFactor,matrix.$clone()},op_Subtraction:function(matrix1,matrix2){return matrix1.M11=matrix1.M11-matrix2.M11,matrix1.M12=matrix1.M12-matrix2.M12,matrix1.M13=matrix1.M13-matrix2.M13,matrix1.M14=matrix1.M14-matrix2.M14,matrix1.M21=matrix1.M21-matrix2.M21,matrix1.M22=matrix1.M22-matrix2.M22,matrix1.M23=matrix1.M23-matrix2.M23,matrix1.M24=matrix1.M24-matrix2.M24,matrix1.M31=matrix1.M31-matrix2.M31,matrix1.M32=matrix1.M32-matrix2.M32,matrix1.M33=matrix1.M33-matrix2.M33,matrix1.M34=matrix1.M34-matrix2.M34,matrix1.M41=matrix1.M41-matrix2.M41,matrix1.M42=matrix1.M42-matrix2.M42,matrix1.M43=matrix1.M43-matrix2.M43,matrix1.M44=matrix1.M44-matrix2.M44,matrix1.$clone()},op_UnaryNegation:function(matrix){return matrix.M11=-matrix.M11,matrix.M12=-matrix.M12,matrix.M13=-matrix.M13,matrix.M14=-matrix.M14,matrix.M21=-matrix.M21,matrix.M22=-matrix.M22,matrix.M23=-matrix.M23,matrix.M24=-matrix.M24,matrix.M31=-matrix.M31,matrix.M32=-matrix.M32,matrix.M33=-matrix.M33,matrix.M34=-matrix.M34,matrix.M41=-matrix.M41,matrix.M42=-matrix.M42,matrix.M43=-matrix.M43,matrix.M44=-matrix.M44,matrix.$clone()},getDefaultValue:function(){return new Microsoft.Xna.Framework.Matrix}}},fields:{M11:0,M12:0,M13:0,M14:0,M21:0,M22:0,M23:0,M24:0,M31:0,M32:0,M33:0,M34:0,M41:0,M42:0,M43:0,M44:0},props:{Backward:{get:function(){return new Microsoft.Xna.Framework.Vector3.$ctor3(this.M31,this.M32,this.M33)},set:function(value){this.M31=value.X;this.M32=value.Y;this.M33=value.Z}},Down:{get:function(){return new Microsoft.Xna.Framework.Vector3.$ctor3(-this.M21,-this.M22,-this.M23)},set:function(value){this.M21=-value.X;this.M22=-value.Y;this.M23=-value.Z}},Forward:{get:function(){return new Microsoft.Xna.Framework.Vector3.$ctor3(-this.M31,-this.M32,-this.M33)},set:function(value){this.M31=-value.X;this.M32=-value.Y;this.M33=-value.Z}},Left:{get:function(){return new Microsoft.Xna.Framework.Vector3.$ctor3(-this.M11,-this.M12,-this.M13)},set:function(value){this.M11=-value.X;this.M12=-value.Y;this.M13=-value.Z}},Right:{get:function(){return new Microsoft.Xna.Framework.Vector3.$ctor3(this.M11,this.M12,this.M13)},set:function(value){this.M11=value.X;this.M12=value.Y;this.M13=value.Z}},Translation:{get:function(){return new Microsoft.Xna.Framework.Vector3.$ctor3(this.M41,this.M42,this.M43)},set:function(value){this.M41=value.X;this.M42=value.Y;this.M43=value.Z}},Up:{get:function(){return new Microsoft.Xna.Framework.Vector3.$ctor3(this.M21,this.M22,this.M23)},set:function(value){this.M21=value.X;this.M22=value.Y;this.M23=value.Z}},DebugDisplayString:{get:function(){return Microsoft.Xna.Framework.Matrix.op_Equality(this,Microsoft.Xna.Framework.Matrix.Identity.$clone())?"Identity":System.String.concat(["( ",System.Single.format(this.M11),"  ",System.Single.format(this.M12),"  ",System.Single.format(this.M13),"  ",System.Single.format(this.M14)," )  \r\n","( ",System.Single.format(this.M21),"  ",System.Single.format(this.M22),"  ",System.Single.format(this.M23),"  ",System.Single.format(this.M24)," )  \r\n","( ",System.Single.format(this.M31),"  ",System.Single.format(this.M32),"  ",System.Single.format(this.M33),"  ",System.Single.format(this.M34)," )  \r\n","( ",System.Single.format(this.M41),"  ",System.Single.format(this.M42),"  ",System.Single.format(this.M43),"  ",System.Single.format(this.M44)," )"])}}},alias:["equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Matrix$equalsT"],ctors:{$ctor2:function(m11,m12,m13,m14,m21,m22,m23,m24,m31,m32,m33,m34,m41,m42,m43,m44){this.$initialize();this.M11=m11;this.M12=m12;this.M13=m13;this.M14=m14;this.M21=m21;this.M22=m22;this.M23=m23;this.M24=m24;this.M31=m31;this.M32=m32;this.M33=m33;this.M34=m34;this.M41=m41;this.M42=m42;this.M43=m43;this.M44=m44},$ctor1:function(row1,row2,row3,row4){this.$initialize();this.M11=row1.X;this.M12=row1.Y;this.M13=row1.Z;this.M14=row1.W;this.M21=row2.X;this.M22=row2.Y;this.M23=row2.Z;this.M24=row2.W;this.M31=row3.X;this.M32=row3.Y;this.M33=row3.Z;this.M34=row3.W;this.M41=row4.X;this.M42=row4.Y;this.M43=row4.Z;this.M44=row4.W},ctor:function(){this.$initialize()}},methods:{getItem:function(index){switch(index){case 0:return this.M11;case 1:return this.M12;case 2:return this.M13;case 3:return this.M14;case 4:return this.M21;case 5:return this.M22;case 6:return this.M23;case 7:return this.M24;case 8:return this.M31;case 9:return this.M32;case 10:return this.M33;case 11:return this.M34;case 12:return this.M41;case 13:return this.M42;case 14:return this.M43;case 15:return this.M44}throw new System.ArgumentOutOfRangeException.ctor;},setItem:function(index,value){switch(index){case 0:this.M11=value;break;case 1:this.M12=value;break;case 2:this.M13=value;break;case 3:this.M14=value;break;case 4:this.M21=value;break;case 5:this.M22=value;break;case 6:this.M23=value;break;case 7:this.M24=value;break;case 8:this.M31=value;break;case 9:this.M32=value;break;case 10:this.M33=value;break;case 11:this.M34=value;break;case 12:this.M41=value;break;case 13:this.M42=value;break;case 14:this.M43=value;break;case 15:this.M44=value;break;default:throw new System.ArgumentOutOfRangeException.ctor;}},getItem$1:function(row,column){return this.getItem(Bridge.Int.mul(row,4)+column|0)},setItem$1:function(row,column,value){this.setItem(Bridge.Int.mul(row,4)+column|0,value)},Decompose:function(scale,rotation,translation){var m1;translation.v.X=this.M41;translation.v.Y=this.M42;translation.v.Z=this.M43;var xs=Bridge.Int.sign(this.M11*this.M12*this.M13*this.M14)<0?-1:1,ys=Bridge.Int.sign(this.M21*this.M22*this.M23*this.M24)<0?-1:1,zs=Bridge.Int.sign(this.M31*this.M32*this.M33*this.M34)<0?-1:1;return(scale.v.X=xs*Math.sqrt(this.M11*this.M11+this.M12*this.M12+this.M13*this.M13),scale.v.Y=ys*Math.sqrt(this.M21*this.M21+this.M22*this.M22+this.M23*this.M23),scale.v.Z=zs*Math.sqrt(this.M31*this.M31+this.M32*this.M32+this.M33*this.M33),scale.v.X===0||scale.v.Y===0||scale.v.Z===0)?(rotation.v=Microsoft.Xna.Framework.Quaternion.Identity.$clone(),!1):(m1=new Microsoft.Xna.Framework.Matrix.$ctor2(this.M11/scale.v.X,this.M12/scale.v.X,this.M13/scale.v.X,0,this.M21/scale.v.Y,this.M22/scale.v.Y,this.M23/scale.v.Y,0,this.M31/scale.v.Z,this.M32/scale.v.Z,this.M33/scale.v.Z,0,0,0,0,1),rotation.v=Microsoft.Xna.Framework.Quaternion.CreateFromRotationMatrix(m1.$clone()),!0)},Determinant:function(){var num22=this.M11,num21=this.M12,num20=this.M13,num19=this.M14,num12=this.M21,num11=this.M22,num10=this.M23,num9=this.M24,num8=this.M31,num7=this.M32,num6=this.M33,num5=this.M34,num4=this.M41,num3=this.M42,num2=this.M43,num=this.M44,num18=num6*num-num5*num2,num17=num7*num-num5*num3,num16=num7*num2-num6*num3,num15=num8*num-num5*num4,num14=num8*num2-num6*num4,num13=num8*num3-num7*num4;return num22*(num11*num18-num10*num17+num9*num16)-num21*(num12*num18-num10*num15+num9*num14)+num20*(num12*num17-num11*num15+num9*num13)-num19*(num12*num16-num11*num14+num10*num13)},equalsT:function(other){return this.M11===other.M11&&this.M22===other.M22&&this.M33===other.M33&&this.M44===other.M44&&this.M12===other.M12&&this.M13===other.M13&&this.M14===other.M14&&this.M21===other.M21&&this.M23===other.M23&&this.M24===other.M24&&this.M31===other.M31&&this.M32===other.M32&&this.M34===other.M34&&this.M41===other.M41&&this.M42===other.M42&&this.M43===other.M43},equals:function(obj){var flag=!1;return Bridge.is(obj,Microsoft.Xna.Framework.Matrix)&&(flag=this.equalsT(System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Matrix),Microsoft.Xna.Framework.Matrix)))),flag},getHashCode:function(){return((((((((((((((System.Single.getHashCode(this.M11)+System.Single.getHashCode(this.M12)|0)+System.Single.getHashCode(this.M13)|0)+System.Single.getHashCode(this.M14)|0)+System.Single.getHashCode(this.M21)|0)+System.Single.getHashCode(this.M22)|0)+System.Single.getHashCode(this.M23)|0)+System.Single.getHashCode(this.M24)|0)+System.Single.getHashCode(this.M31)|0)+System.Single.getHashCode(this.M32)|0)+System.Single.getHashCode(this.M33)|0)+System.Single.getHashCode(this.M34)|0)+System.Single.getHashCode(this.M41)|0)+System.Single.getHashCode(this.M42)|0)+System.Single.getHashCode(this.M43)|0)+System.Single.getHashCode(this.M44)|0},toString:function(){return"{M11:"+System.Single.format(this.M11)+" M12:"+System.Single.format(this.M12)+" M13:"+System.Single.format(this.M13)+" M14:"+System.Single.format(this.M14)+"} {M21:"+System.Single.format(this.M21)+" M22:"+System.Single.format(this.M22)+" M23:"+System.Single.format(this.M23)+" M24:"+System.Single.format(this.M24)+"} {M31:"+System.Single.format(this.M31)+" M32:"+System.Single.format(this.M32)+" M33:"+System.Single.format(this.M33)+" M34:"+System.Single.format(this.M34)+"} {M41:"+System.Single.format(this.M41)+" M42:"+System.Single.format(this.M42)+" M43:"+System.Single.format(this.M43)+" M44:"+System.Single.format(this.M44)+"}"},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Matrix;return s.M11=this.M11,s.M12=this.M12,s.M13=this.M13,s.M14=this.M14,s.M21=this.M21,s.M22=this.M22,s.M23=this.M23,s.M24=this.M24,s.M31=this.M31,s.M32=this.M32,s.M33=this.M33,s.M34=this.M34,s.M41=this.M41,s.M42=this.M42,s.M43=this.M43,s.M44=this.M44,s}}});Bridge.define("Microsoft.Xna.Framework.Content.MultiArrayReader$1",function(T){return{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Array)],statics:{methods:{CalcIndices:function(array,index,indices){if(System.Array.getRank(array)!==indices.length)throw new System.Exception("indices");for(var d=0;d<indices.length;d=d+1|0)index===0?indices[System.Array.index(d,indices)]=0:(indices[System.Array.index(d,indices)]=index%System.Array.getLength(array,d),index=Bridge.Int.div(index,System.Array.getLength(array,d))|0);if(index!==0)throw new System.ArgumentOutOfRangeException.$ctor1("index");}}},fields:{elementReader:null},ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(Array).ctor.call(this)}},methods:{Initialize:function(manager){var readerType=T;this.elementReader=manager.GetTypeReader(readerType)},Read$1:function(input,existingInstance){var $t,$t1,$t2,rank=input.ReadInt32(),dimensions,count,d,array,indices,i,value,readerType;if(rank<1)throw new System.RankException.ctor;for(dimensions=System.Array.init(rank,0,System.Int32),count=1,d=0;d<dimensions.length;d=d+1|0)count=Bridge.Int.mul(count,($t=input.ReadInt32(),dimensions[System.Array.index(d,dimensions)]=$t,$t));if(array=existingInstance,array==null)array=($t1=T,System.Array.create(Bridge.getDefaultValue($t1),null,$t1,dimensions));else if(dimensions.length!==System.Array.getRank(array))throw new System.RankException.$ctor1("existingInstance");for(indices=System.Array.init(rank,0,System.Int32),i=0;i<count;i=i+1|0)Microsoft.Xna.Framework.Utilities.ReflectionHelpers.IsValueType(T)?value=input.ReadObject$2(T,this.elementReader):(readerType=input.Read7BitEncodedInt$1(),value=readerType>0?input.ReadObject$2(T,($t2=input.TypeReaders)[System.Array.index(readerType-1|0,$t2)]):Bridge.getDefaultValue(T)),Microsoft.Xna.Framework.Content.MultiArrayReader$1(T).CalcIndices(array,i,indices),System.Array.set.apply(System.Array,[array,value].concat(indices));return array}}}});Bridge.define("Microsoft.Xna.Framework.Content.NullableReader$1",function(T){return{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Nullable$1(T))],fields:{elementReader:null},ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Nullable$1(T)).ctor.call(this)}},methods:{Initialize:function(manager){var readerType=T;this.elementReader=manager.GetTypeReader(readerType)},Read$1:function(input,existingInstance){return input.ReadBoolean()?input.ReadObject$2(T,this.elementReader):null}}}});Bridge.define("Microsoft.Xna.Framework.Plane",{inherits:function(){return[System.IEquatable$1(Microsoft.Xna.Framework.Plane)]},$kind:"struct",statics:{methods:{Transform:function(plane,matrix){plane={v:plane};matrix={v:matrix};var result={v:new Microsoft.Xna.Framework.Plane};return Microsoft.Xna.Framework.Plane.Transform$2(plane,matrix,result),result.v.$clone()},Transform$2:function(plane,matrix,result){var transformedMatrix={v:new Microsoft.Xna.Framework.Matrix},vector,transformedVector;Microsoft.Xna.Framework.Matrix.Invert$1(matrix,transformedMatrix);Microsoft.Xna.Framework.Matrix.Transpose$1(transformedMatrix,transformedMatrix);vector={v:new Microsoft.Xna.Framework.Vector4.$ctor2(plane.v.Normal.$clone(),plane.v.D)};transformedVector={v:new Microsoft.Xna.Framework.Vector4};Microsoft.Xna.Framework.Vector4.Transform$10(vector,transformedMatrix,transformedVector);result.v=new Microsoft.Xna.Framework.Plane.$ctor3(transformedVector.v.$clone())},Transform$1:function(plane,rotation){plane={v:plane};rotation={v:rotation};var result={v:new Microsoft.Xna.Framework.Plane};return Microsoft.Xna.Framework.Plane.Transform$3(plane,rotation,result),result.v.$clone()},Transform$3:function(plane,rotation,result){Microsoft.Xna.Framework.Vector3.Transform$3(Bridge.ref(plane.v,"Normal"),rotation,Bridge.ref(result.v,"Normal"));result.v.D=plane.v.D},Normalize:function(value){value={v:value};var ret={v:new Microsoft.Xna.Framework.Plane};return Microsoft.Xna.Framework.Plane.Normalize$1(value,ret),ret.v.$clone()},Normalize$1:function(value,result){var length=value.v.Normal.Length(),factor=1/length;Microsoft.Xna.Framework.Vector3.Multiply$3(Bridge.ref(value.v,"Normal"),factor,Bridge.ref(result.v,"Normal"));result.v.D=value.v.D*factor},op_Inequality:function(plane1,plane2){return!plane1.equalsT(plane2.$clone())},op_Equality:function(plane1,plane2){return plane1.equalsT(plane2.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.Plane}}},fields:{D:0,Normal:null},props:{DebugDisplayString:{get:function(){return System.String.concat(this.Normal.DebugDisplayString,"  ",System.Single.format(this.D))}}},alias:["equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Plane$equalsT"],ctors:{init:function(){this.Normal=new Microsoft.Xna.Framework.Vector3},$ctor3:function(value){Microsoft.Xna.Framework.Plane.$ctor2.call(this,new Microsoft.Xna.Framework.Vector3.$ctor3(value.X,value.Y,value.Z),value.W)},$ctor2:function(normal,d){this.$initialize();this.Normal=normal.$clone();this.D=d},$ctor1:function(a,b,c){this.$initialize();var ab=Microsoft.Xna.Framework.Vector3.op_Subtraction(b.$clone(),a.$clone()),ac=Microsoft.Xna.Framework.Vector3.op_Subtraction(c.$clone(),a.$clone()),cross={v:Microsoft.Xna.Framework.Vector3.Cross(ab.$clone(),ac.$clone())};Microsoft.Xna.Framework.Vector3.Normalize$1(cross,Bridge.ref(this,"Normal"));this.D=-Microsoft.Xna.Framework.Vector3.Dot(this.Normal.$clone(),a.$clone())},$ctor4:function(a,b,c,d){Microsoft.Xna.Framework.Plane.$ctor2.call(this,new Microsoft.Xna.Framework.Vector3.$ctor3(a,b,c),d)},ctor:function(){this.$initialize()}},methods:{Dot:function(value){return this.Normal.X*value.X+this.Normal.Y*value.Y+this.Normal.Z*value.Z+this.D*value.W},Dot$1:function(value,result){result.v=this.Normal.X*value.v.X+this.Normal.Y*value.v.Y+this.Normal.Z*value.v.Z+this.D*value.v.W},DotCoordinate:function(value){return this.Normal.X*value.X+this.Normal.Y*value.Y+this.Normal.Z*value.Z+this.D},DotCoordinate$1:function(value,result){result.v=this.Normal.X*value.v.X+this.Normal.Y*value.v.Y+this.Normal.Z*value.v.Z+this.D},DotNormal:function(value){return this.Normal.X*value.X+this.Normal.Y*value.Y+this.Normal.Z*value.Z},DotNormal$1:function(value,result){result.v=this.Normal.X*value.v.X+this.Normal.Y*value.v.Y+this.Normal.Z*value.v.Z},Normalize:function(){var length=this.Normal.Length(),factor=1/length;Microsoft.Xna.Framework.Vector3.Multiply$3(Bridge.ref(this,"Normal"),factor,Bridge.ref(this,"Normal"));this.D=this.D*factor},equals:function(other){return Bridge.is(other,Microsoft.Xna.Framework.Plane)?this.equalsT(System.Nullable.getValue(Bridge.cast(Bridge.unbox(other,Microsoft.Xna.Framework.Plane),Microsoft.Xna.Framework.Plane))):!1},equalsT:function(other){return Microsoft.Xna.Framework.Vector3.op_Equality(this.Normal.$clone(),other.Normal.$clone())&&this.D===other.D},getHashCode:function(){return this.Normal.getHashCode()^System.Single.getHashCode(this.D)},Intersects:function(box){return box.Intersects(this)},Intersects$3:function(box,result){box.v.Intersects$7(Bridge.ref(this),result)},Intersects$1:function(frustum){return frustum.Intersects(this)},Intersects$2:function(sphere){return sphere.Intersects(this)},Intersects$4:function(sphere,result){sphere.v.Intersects$6(Bridge.ref(this),result)},Intersects$5:function(point){var distance={};return(this.DotCoordinate$1(point,distance),distance.v>0)?Microsoft.Xna.Framework.PlaneIntersectionType.Front:distance.v<0?Microsoft.Xna.Framework.PlaneIntersectionType.Back:Microsoft.Xna.Framework.PlaneIntersectionType.Intersecting},toString:function(){return"{Normal:"+this.Normal+" D:"+System.Single.format(this.D)+"}"},Deconstruct:function(normal,d){normal.v=this.Normal.$clone();d.v=this.D},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Plane;return s.D=this.D,s.Normal=this.Normal.$clone(),s}}});Bridge.define("Microsoft.Xna.Framework.Point",{inherits:function(){return[System.IEquatable$1(Microsoft.Xna.Framework.Point)]},$kind:"struct",statics:{fields:{zeroPoint:null},props:{Zero:{get:function(){return Microsoft.Xna.Framework.Point.zeroPoint.$clone()}}},ctors:{init:function(){this.zeroPoint=new Microsoft.Xna.Framework.Point}},methods:{op_Addition:function(value1,value2){return new Microsoft.Xna.Framework.Point.$ctor2(value1.X+value2.X|0,value1.Y+value2.Y|0)},op_Subtraction:function(value1,value2){return new Microsoft.Xna.Framework.Point.$ctor2(value1.X-value2.X|0,value1.Y-value2.Y|0)},op_Multiply:function(value1,value2){return new Microsoft.Xna.Framework.Point.$ctor2(Bridge.Int.mul(value1.X,value2.X),Bridge.Int.mul(value1.Y,value2.Y))},op_Division:function(source,divisor){return new Microsoft.Xna.Framework.Point.$ctor2(Bridge.Int.div(source.X,divisor.X)|0,Bridge.Int.div(source.Y,divisor.Y)|0)},op_Equality:function(a,b){return a.equalsT(b.$clone())},op_Inequality:function(a,b){return!a.equalsT(b.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.Point}}},fields:{X:0,Y:0},props:{DebugDisplayString:{get:function(){return System.String.concat(Bridge.toString(this.X),"  ",Bridge.toString(this.Y))}}},alias:["equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Point$equalsT"],ctors:{$ctor2:function(x,y){this.$initialize();this.X=x;this.Y=y},$ctor1:function(value){this.$initialize();this.X=value;this.Y=value},ctor:function(){this.$initialize()}},methods:{equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Point)&&this.equalsT(System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Point),Microsoft.Xna.Framework.Point)))},equalsT:function(other){return this.X===other.X&&this.Y===other.Y},getHashCode:function(){var hash=17;return hash=Bridge.Int.mul(hash,23)+Bridge.getHashCode(this.X)|0,Bridge.Int.mul(hash,23)+Bridge.getHashCode(this.Y)|0},toString:function(){return"{X:"+this.X+" Y:"+this.Y+"}"},ToVector2:function(){return new Microsoft.Xna.Framework.Vector2.$ctor2(this.X,this.Y)},Deconstruct:function(x,y){x.v=this.X;y.v=this.Y},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Point;return s.X=this.X,s.Y=this.Y,s}}});Bridge.define("Microsoft.Xna.Framework.Quaternion",{inherits:function(){return[System.IEquatable$1(Microsoft.Xna.Framework.Quaternion)]},$kind:"struct",statics:{fields:{_identity:null},props:{Identity:{get:function(){return Microsoft.Xna.Framework.Quaternion._identity.$clone()}}},ctors:{init:function(){this._identity=new Microsoft.Xna.Framework.Quaternion;this._identity=new Microsoft.Xna.Framework.Quaternion.$ctor3(0,0,0,1)}},methods:{Add:function(quaternion1,quaternion2){var quaternion=new Microsoft.Xna.Framework.Quaternion;return quaternion.X=quaternion1.X+quaternion2.X,quaternion.Y=quaternion1.Y+quaternion2.Y,quaternion.Z=quaternion1.Z+quaternion2.Z,quaternion.W=quaternion1.W+quaternion2.W,quaternion.$clone()},Add$1:function(quaternion1,quaternion2,result){result.v.X=quaternion1.v.X+quaternion2.v.X;result.v.Y=quaternion1.v.Y+quaternion2.v.Y;result.v.Z=quaternion1.v.Z+quaternion2.v.Z;result.v.W=quaternion1.v.W+quaternion2.v.W},Concatenate:function(value1,value2){var quaternion=new Microsoft.Xna.Framework.Quaternion,x1=value1.X,y1=value1.Y,z1=value1.Z,w1=value1.W,x2=value2.X,y2=value2.Y,z2=value2.Z,w2=value2.W;return quaternion.X=x2*w1+x1*w2+(y2*z1-z2*y1),quaternion.Y=y2*w1+y1*w2+(z2*x1-x2*z1),quaternion.Z=z2*w1+z1*w2+(x2*y1-y2*x1),quaternion.W=w2*w1-(x2*x1+y2*y1+z2*z1),quaternion.$clone()},Concatenate$1:function(value1,value2,result){var x1=value1.v.X,y1=value1.v.Y,z1=value1.v.Z,w1=value1.v.W,x2=value2.v.X,y2=value2.v.Y,z2=value2.v.Z,w2=value2.v.W;result.v.X=x2*w1+x1*w2+(y2*z1-z2*y1);result.v.Y=y2*w1+y1*w2+(z2*x1-x2*z1);result.v.Z=z2*w1+z1*w2+(x2*y1-y2*x1);result.v.W=w2*w1-(x2*x1+y2*y1+z2*z1)},Conjugate:function(value){return new Microsoft.Xna.Framework.Quaternion.$ctor3(-value.X,-value.Y,-value.Z,value.W)},Conjugate$1:function(value,result){result.v.X=-value.v.X;result.v.Y=-value.v.Y;result.v.Z=-value.v.Z;result.v.W=value.v.W},CreateFromAxisAngle:function(axis,angle){var half=angle*.5,sin=Math.sin(half),cos=Math.cos(half);return new Microsoft.Xna.Framework.Quaternion.$ctor3(axis.X*sin,axis.Y*sin,axis.Z*sin,cos)},CreateFromAxisAngle$1:function(axis,angle,result){var half=angle*.5,sin=Math.sin(half),cos=Math.cos(half);result.v.X=axis.v.X*sin;result.v.Y=axis.v.Y*sin;result.v.Z=axis.v.Z*sin;result.v.W=cos},CreateFromRotationMatrix:function(matrix){var quaternion=new Microsoft.Xna.Framework.Quaternion,sqrt,half,scale=matrix.M11+matrix.M22+matrix.M33;return scale>0?(sqrt=Math.sqrt(scale+1),quaternion.W=sqrt*.5,sqrt=.5/sqrt,quaternion.X=(matrix.M23-matrix.M32)*sqrt,quaternion.Y=(matrix.M31-matrix.M13)*sqrt,quaternion.Z=(matrix.M12-matrix.M21)*sqrt,quaternion.$clone()):matrix.M11>=matrix.M22&&matrix.M11>=matrix.M33?(sqrt=Math.sqrt(1+matrix.M11-matrix.M22-matrix.M33),half=.5/sqrt,quaternion.X=.5*sqrt,quaternion.Y=(matrix.M12+matrix.M21)*half,quaternion.Z=(matrix.M13+matrix.M31)*half,quaternion.W=(matrix.M23-matrix.M32)*half,quaternion.$clone()):matrix.M22>matrix.M33?(sqrt=Math.sqrt(1+matrix.M22-matrix.M11-matrix.M33),half=.5/sqrt,quaternion.X=(matrix.M21+matrix.M12)*half,quaternion.Y=.5*sqrt,quaternion.Z=(matrix.M32+matrix.M23)*half,quaternion.W=(matrix.M31-matrix.M13)*half,quaternion.$clone()):(sqrt=Math.sqrt(1+matrix.M33-matrix.M11-matrix.M22),half=.5/sqrt,quaternion.X=(matrix.M31+matrix.M13)*half,quaternion.Y=(matrix.M32+matrix.M23)*half,quaternion.Z=.5*sqrt,quaternion.W=(matrix.M12-matrix.M21)*half,quaternion.$clone())},CreateFromRotationMatrix$1:function(matrix,result){var sqrt,half,scale=matrix.v.M11+matrix.v.M22+matrix.v.M33;scale>0?(sqrt=Math.sqrt(scale+1),result.v.W=sqrt*.5,sqrt=.5/sqrt,result.v.X=(matrix.v.M23-matrix.v.M32)*sqrt,result.v.Y=(matrix.v.M31-matrix.v.M13)*sqrt,result.v.Z=(matrix.v.M12-matrix.v.M21)*sqrt):matrix.v.M11>=matrix.v.M22&&matrix.v.M11>=matrix.v.M33?(sqrt=Math.sqrt(1+matrix.v.M11-matrix.v.M22-matrix.v.M33),half=.5/sqrt,result.v.X=.5*sqrt,result.v.Y=(matrix.v.M12+matrix.v.M21)*half,result.v.Z=(matrix.v.M13+matrix.v.M31)*half,result.v.W=(matrix.v.M23-matrix.v.M32)*half):matrix.v.M22>matrix.v.M33?(sqrt=Math.sqrt(1+matrix.v.M22-matrix.v.M11-matrix.v.M33),half=.5/sqrt,result.v.X=(matrix.v.M21+matrix.v.M12)*half,result.v.Y=.5*sqrt,result.v.Z=(matrix.v.M32+matrix.v.M23)*half,result.v.W=(matrix.v.M31-matrix.v.M13)*half):(sqrt=Math.sqrt(1+matrix.v.M33-matrix.v.M11-matrix.v.M22),half=.5/sqrt,result.v.X=(matrix.v.M31+matrix.v.M13)*half,result.v.Y=(matrix.v.M32+matrix.v.M23)*half,result.v.Z=.5*sqrt,result.v.W=(matrix.v.M12-matrix.v.M21)*half)},CreateFromYawPitchRoll:function(yaw,pitch,roll){var halfRoll=roll*.5,halfPitch=pitch*.5,halfYaw=yaw*.5,sinRoll=Math.sin(halfRoll),cosRoll=Math.cos(halfRoll),sinPitch=Math.sin(halfPitch),cosPitch=Math.cos(halfPitch),sinYaw=Math.sin(halfYaw),cosYaw=Math.cos(halfYaw);return new Microsoft.Xna.Framework.Quaternion.$ctor3(cosYaw*sinPitch*cosRoll+sinYaw*cosPitch*sinRoll,sinYaw*cosPitch*cosRoll-cosYaw*sinPitch*sinRoll,cosYaw*cosPitch*sinRoll-sinYaw*sinPitch*cosRoll,cosYaw*cosPitch*cosRoll+sinYaw*sinPitch*sinRoll)},CreateFromYawPitchRoll$1:function(yaw,pitch,roll,result){var halfRoll=roll*.5,halfPitch=pitch*.5,halfYaw=yaw*.5,sinRoll=Math.sin(halfRoll),cosRoll=Math.cos(halfRoll),sinPitch=Math.sin(halfPitch),cosPitch=Math.cos(halfPitch),sinYaw=Math.sin(halfYaw),cosYaw=Math.cos(halfYaw);result.v.X=cosYaw*sinPitch*cosRoll+sinYaw*cosPitch*sinRoll;result.v.Y=sinYaw*cosPitch*cosRoll-cosYaw*sinPitch*sinRoll;result.v.Z=cosYaw*cosPitch*sinRoll-sinYaw*sinPitch*cosRoll;result.v.W=cosYaw*cosPitch*cosRoll+sinYaw*sinPitch*sinRoll},Divide:function(quaternion1,quaternion2){var quaternion=new Microsoft.Xna.Framework.Quaternion,x=quaternion1.X,y=quaternion1.Y,z=quaternion1.Z,w=quaternion1.W,num14=quaternion2.X*quaternion2.X+quaternion2.Y*quaternion2.Y+quaternion2.Z*quaternion2.Z+quaternion2.W*quaternion2.W,num5=1/num14,num4=-quaternion2.X*num5,num3=-quaternion2.Y*num5,num2=-quaternion2.Z*num5,num=quaternion2.W*num5,num13=y*num2-z*num3,num12=z*num4-x*num2,num11=x*num3-y*num4,num10=x*num4+y*num3+z*num2;return quaternion.X=x*num+num4*w+num13,quaternion.Y=y*num+num3*w+num12,quaternion.Z=z*num+num2*w+num11,quaternion.W=w*num-num10,quaternion.$clone()},Divide$1:function(quaternion1,quaternion2,result){var x=quaternion1.v.X,y=quaternion1.v.Y,z=quaternion1.v.Z,w=quaternion1.v.W,num14=quaternion2.v.X*quaternion2.v.X+quaternion2.v.Y*quaternion2.v.Y+quaternion2.v.Z*quaternion2.v.Z+quaternion2.v.W*quaternion2.v.W,num5=1/num14,num4=-quaternion2.v.X*num5,num3=-quaternion2.v.Y*num5,num2=-quaternion2.v.Z*num5,num=quaternion2.v.W*num5,num13=y*num2-z*num3,num12=z*num4-x*num2,num11=x*num3-y*num4,num10=x*num4+y*num3+z*num2;result.v.X=x*num+num4*w+num13;result.v.Y=y*num+num3*w+num12;result.v.Z=z*num+num2*w+num11;result.v.W=w*num-num10},Dot:function(quaternion1,quaternion2){return quaternion1.X*quaternion2.X+quaternion1.Y*quaternion2.Y+quaternion1.Z*quaternion2.Z+quaternion1.W*quaternion2.W},Dot$1:function(quaternion1,quaternion2,result){result.v=quaternion1.v.X*quaternion2.v.X+quaternion1.v.Y*quaternion2.v.Y+quaternion1.v.Z*quaternion2.v.Z+quaternion1.v.W*quaternion2.v.W},Inverse:function(quaternion){var quaternion2=new Microsoft.Xna.Framework.Quaternion,num2=quaternion.X*quaternion.X+quaternion.Y*quaternion.Y+quaternion.Z*quaternion.Z+quaternion.W*quaternion.W,num=1/num2;return quaternion2.X=-quaternion.X*num,quaternion2.Y=-quaternion.Y*num,quaternion2.Z=-quaternion.Z*num,quaternion2.W=quaternion.W*num,quaternion2.$clone()},Inverse$1:function(quaternion,result){var num2=quaternion.v.X*quaternion.v.X+quaternion.v.Y*quaternion.v.Y+quaternion.v.Z*quaternion.v.Z+quaternion.v.W*quaternion.v.W,num=1/num2;result.v.X=-quaternion.v.X*num;result.v.Y=-quaternion.v.Y*num;result.v.Z=-quaternion.v.Z*num;result.v.W=quaternion.v.W*num},Lerp:function(quaternion1,quaternion2,amount){var num=amount,num2=1-num,quaternion=new Microsoft.Xna.Framework.Quaternion.ctor,num5=quaternion1.X*quaternion2.X+quaternion1.Y*quaternion2.Y+quaternion1.Z*quaternion2.Z+quaternion1.W*quaternion2.W,num4,num3;return num5>=0?(quaternion.X=num2*quaternion1.X+num*quaternion2.X,quaternion.Y=num2*quaternion1.Y+num*quaternion2.Y,quaternion.Z=num2*quaternion1.Z+num*quaternion2.Z,quaternion.W=num2*quaternion1.W+num*quaternion2.W):(quaternion.X=num2*quaternion1.X-num*quaternion2.X,quaternion.Y=num2*quaternion1.Y-num*quaternion2.Y,quaternion.Z=num2*quaternion1.Z-num*quaternion2.Z,quaternion.W=num2*quaternion1.W-num*quaternion2.W),num4=quaternion.X*quaternion.X+quaternion.Y*quaternion.Y+quaternion.Z*quaternion.Z+quaternion.W*quaternion.W,num3=1/Math.sqrt(num4),quaternion.X*=num3,quaternion.Y*=num3,quaternion.Z*=num3,quaternion.W*=num3,quaternion.$clone()},Lerp$1:function(quaternion1,quaternion2,amount,result){var num=amount,num2=1-num,num5=quaternion1.v.X*quaternion2.v.X+quaternion1.v.Y*quaternion2.v.Y+quaternion1.v.Z*quaternion2.v.Z+quaternion1.v.W*quaternion2.v.W,num4,num3;num5>=0?(result.v.X=num2*quaternion1.v.X+num*quaternion2.v.X,result.v.Y=num2*quaternion1.v.Y+num*quaternion2.v.Y,result.v.Z=num2*quaternion1.v.Z+num*quaternion2.v.Z,result.v.W=num2*quaternion1.v.W+num*quaternion2.v.W):(result.v.X=num2*quaternion1.v.X-num*quaternion2.v.X,result.v.Y=num2*quaternion1.v.Y-num*quaternion2.v.Y,result.v.Z=num2*quaternion1.v.Z-num*quaternion2.v.Z,result.v.W=num2*quaternion1.v.W-num*quaternion2.v.W);num4=result.v.X*result.v.X+result.v.Y*result.v.Y+result.v.Z*result.v.Z+result.v.W*result.v.W;num3=1/Math.sqrt(num4);result.v.X*=num3;result.v.Y*=num3;result.v.Z*=num3;result.v.W*=num3},Slerp:function(quaternion1,quaternion2,amount){var num2,num3,quaternion=new Microsoft.Xna.Framework.Quaternion,num=amount,num4=quaternion1.X*quaternion2.X+quaternion1.Y*quaternion2.Y+quaternion1.Z*quaternion2.Z+quaternion1.W*quaternion2.W,flag=!1,num5,num6;return num4<0&&(flag=!0,num4=-num4),num4>.999999?(num3=1-num,num2=flag?-num:num):(num5=Math.acos(num4),num6=1/Math.sin(num5),num3=Math.sin((1-num)*num5)*num6,num2=flag?-Math.sin(num*num5)*num6:Math.sin(num*num5)*num6),quaternion.X=num3*quaternion1.X+num2*quaternion2.X,quaternion.Y=num3*quaternion1.Y+num2*quaternion2.Y,quaternion.Z=num3*quaternion1.Z+num2*quaternion2.Z,quaternion.W=num3*quaternion1.W+num2*quaternion2.W,quaternion.$clone()},Slerp$1:function(quaternion1,quaternion2,amount,result){var num2,num3,num=amount,num4=quaternion1.v.X*quaternion2.v.X+quaternion1.v.Y*quaternion2.v.Y+quaternion1.v.Z*quaternion2.v.Z+quaternion1.v.W*quaternion2.v.W,flag=!1,num5,num6;num4<0&&(flag=!0,num4=-num4);num4>.999999?(num3=1-num,num2=flag?-num:num):(num5=Math.acos(num4),num6=1/Math.sin(num5),num3=Math.sin((1-num)*num5)*num6,num2=flag?-Math.sin(num*num5)*num6:Math.sin(num*num5)*num6);result.v.X=num3*quaternion1.v.X+num2*quaternion2.v.X;result.v.Y=num3*quaternion1.v.Y+num2*quaternion2.v.Y;result.v.Z=num3*quaternion1.v.Z+num2*quaternion2.v.Z;result.v.W=num3*quaternion1.v.W+num2*quaternion2.v.W},Subtract:function(quaternion1,quaternion2){var quaternion=new Microsoft.Xna.Framework.Quaternion;return quaternion.X=quaternion1.X-quaternion2.X,quaternion.Y=quaternion1.Y-quaternion2.Y,quaternion.Z=quaternion1.Z-quaternion2.Z,quaternion.W=quaternion1.W-quaternion2.W,quaternion.$clone()},Subtract$1:function(quaternion1,quaternion2,result){result.v.X=quaternion1.v.X-quaternion2.v.X;result.v.Y=quaternion1.v.Y-quaternion2.v.Y;result.v.Z=quaternion1.v.Z-quaternion2.v.Z;result.v.W=quaternion1.v.W-quaternion2.v.W},Multiply:function(quaternion1,quaternion2){var quaternion=new Microsoft.Xna.Framework.Quaternion,x=quaternion1.X,y=quaternion1.Y,z=quaternion1.Z,w=quaternion1.W,num4=quaternion2.X,num3=quaternion2.Y,num2=quaternion2.Z,num=quaternion2.W,num12=y*num2-z*num3,num11=z*num4-x*num2,num10=x*num3-y*num4,num9=x*num4+y*num3+z*num2;return quaternion.X=x*num+num4*w+num12,quaternion.Y=y*num+num3*w+num11,quaternion.Z=z*num+num2*w+num10,quaternion.W=w*num-num9,quaternion.$clone()},Multiply$1:function(quaternion1,scaleFactor){var quaternion=new Microsoft.Xna.Framework.Quaternion;return quaternion.X=quaternion1.X*scaleFactor,quaternion.Y=quaternion1.Y*scaleFactor,quaternion.Z=quaternion1.Z*scaleFactor,quaternion.W=quaternion1.W*scaleFactor,quaternion.$clone()},Multiply$3:function(quaternion1,scaleFactor,result){result.v.X=quaternion1.v.X*scaleFactor;result.v.Y=quaternion1.v.Y*scaleFactor;result.v.Z=quaternion1.v.Z*scaleFactor;result.v.W=quaternion1.v.W*scaleFactor},Multiply$2:function(quaternion1,quaternion2,result){var x=quaternion1.v.X,y=quaternion1.v.Y,z=quaternion1.v.Z,w=quaternion1.v.W,num4=quaternion2.v.X,num3=quaternion2.v.Y,num2=quaternion2.v.Z,num=quaternion2.v.W,num12=y*num2-z*num3,num11=z*num4-x*num2,num10=x*num3-y*num4,num9=x*num4+y*num3+z*num2;result.v.X=x*num+num4*w+num12;result.v.Y=y*num+num3*w+num11;result.v.Z=z*num+num2*w+num10;result.v.W=w*num-num9},Negate:function(quaternion){return new Microsoft.Xna.Framework.Quaternion.$ctor3(-quaternion.X,-quaternion.Y,-quaternion.Z,-quaternion.W)},Negate$1:function(quaternion,result){result.v.X=-quaternion.v.X;result.v.Y=-quaternion.v.Y;result.v.Z=-quaternion.v.Z;result.v.W=-quaternion.v.W},Normalize:function(quaternion){var result=new Microsoft.Xna.Framework.Quaternion,num=1/Math.sqrt(quaternion.X*quaternion.X+quaternion.Y*quaternion.Y+quaternion.Z*quaternion.Z+quaternion.W*quaternion.W);return result.X=quaternion.X*num,result.Y=quaternion.Y*num,result.Z=quaternion.Z*num,result.W=quaternion.W*num,result.$clone()},Normalize$1:function(quaternion,result){var num=1/Math.sqrt(quaternion.v.X*quaternion.v.X+quaternion.v.Y*quaternion.v.Y+quaternion.v.Z*quaternion.v.Z+quaternion.v.W*quaternion.v.W);result.v.X=quaternion.v.X*num;result.v.Y=quaternion.v.Y*num;result.v.Z=quaternion.v.Z*num;result.v.W=quaternion.v.W*num},op_Addition:function(quaternion1,quaternion2){var quaternion=new Microsoft.Xna.Framework.Quaternion;return quaternion.X=quaternion1.X+quaternion2.X,quaternion.Y=quaternion1.Y+quaternion2.Y,quaternion.Z=quaternion1.Z+quaternion2.Z,quaternion.W=quaternion1.W+quaternion2.W,quaternion.$clone()},op_Division:function(quaternion1,quaternion2){var quaternion=new Microsoft.Xna.Framework.Quaternion,x=quaternion1.X,y=quaternion1.Y,z=quaternion1.Z,w=quaternion1.W,num14=quaternion2.X*quaternion2.X+quaternion2.Y*quaternion2.Y+quaternion2.Z*quaternion2.Z+quaternion2.W*quaternion2.W,num5=1/num14,num4=-quaternion2.X*num5,num3=-quaternion2.Y*num5,num2=-quaternion2.Z*num5,num=quaternion2.W*num5,num13=y*num2-z*num3,num12=z*num4-x*num2,num11=x*num3-y*num4,num10=x*num4+y*num3+z*num2;return quaternion.X=x*num+num4*w+num13,quaternion.Y=y*num+num3*w+num12,quaternion.Z=z*num+num2*w+num11,quaternion.W=w*num-num10,quaternion.$clone()},op_Equality:function(quaternion1,quaternion2){return quaternion1.X===quaternion2.X&&quaternion1.Y===quaternion2.Y&&quaternion1.Z===quaternion2.Z&&quaternion1.W===quaternion2.W},op_Inequality:function(quaternion1,quaternion2){return quaternion1.X===quaternion2.X&&quaternion1.Y===quaternion2.Y&&quaternion1.Z===quaternion2.Z?quaternion1.W!==quaternion2.W:!0},op_Multiply:function(quaternion1,quaternion2){var quaternion=new Microsoft.Xna.Framework.Quaternion,x=quaternion1.X,y=quaternion1.Y,z=quaternion1.Z,w=quaternion1.W,num4=quaternion2.X,num3=quaternion2.Y,num2=quaternion2.Z,num=quaternion2.W,num12=y*num2-z*num3,num11=z*num4-x*num2,num10=x*num3-y*num4,num9=x*num4+y*num3+z*num2;return quaternion.X=x*num+num4*w+num12,quaternion.Y=y*num+num3*w+num11,quaternion.Z=z*num+num2*w+num10,quaternion.W=w*num-num9,quaternion.$clone()},op_Multiply$1:function(quaternion1,scaleFactor){var quaternion=new Microsoft.Xna.Framework.Quaternion;return quaternion.X=quaternion1.X*scaleFactor,quaternion.Y=quaternion1.Y*scaleFactor,quaternion.Z=quaternion1.Z*scaleFactor,quaternion.W=quaternion1.W*scaleFactor,quaternion.$clone()},op_Subtraction:function(quaternion1,quaternion2){var quaternion=new Microsoft.Xna.Framework.Quaternion;return quaternion.X=quaternion1.X-quaternion2.X,quaternion.Y=quaternion1.Y-quaternion2.Y,quaternion.Z=quaternion1.Z-quaternion2.Z,quaternion.W=quaternion1.W-quaternion2.W,quaternion.$clone()},op_UnaryNegation:function(quaternion){var quaternion2=new Microsoft.Xna.Framework.Quaternion;return quaternion2.X=-quaternion.X,quaternion2.Y=-quaternion.Y,quaternion2.Z=-quaternion.Z,quaternion2.W=-quaternion.W,quaternion2.$clone()},getDefaultValue:function(){return new Microsoft.Xna.Framework.Quaternion}}},fields:{X:0,Y:0,Z:0,W:0},props:{DebugDisplayString:{get:function(){return Microsoft.Xna.Framework.Quaternion.op_Equality(this,Microsoft.Xna.Framework.Quaternion._identity.$clone())?"Identity":System.String.concat([System.Single.format(this.X)," ",System.Single.format(this.Y)," ",System.Single.format(this.Z)," ",System.Single.format(this.W)])}}},alias:["equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Quaternion$equalsT"],ctors:{$ctor3:function(x,y,z,w){this.$initialize();this.X=x;this.Y=y;this.Z=z;this.W=w},$ctor1:function(value,w){this.$initialize();this.X=value.X;this.Y=value.Y;this.Z=value.Z;this.W=w},$ctor2:function(value){this.$initialize();this.X=value.X;this.Y=value.Y;this.Z=value.Z;this.W=value.W},ctor:function(){this.$initialize()}},methods:{Conjugate:function(){this.X=-this.X;this.Y=-this.Y;this.Z=-this.Z},equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Quaternion)?this.equalsT(System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Quaternion),Microsoft.Xna.Framework.Quaternion))):!1},equalsT:function(other){return this.X===other.X&&this.Y===other.Y&&this.Z===other.Z&&this.W===other.W},getHashCode:function(){return((System.Single.getHashCode(this.X)+System.Single.getHashCode(this.Y)|0)+System.Single.getHashCode(this.Z)|0)+System.Single.getHashCode(this.W)|0},Length:function(){return Math.sqrt(this.X*this.X+this.Y*this.Y+this.Z*this.Z+this.W*this.W)},LengthSquared:function(){return this.X*this.X+this.Y*this.Y+this.Z*this.Z+this.W*this.W},Normalize:function(){var num=1/Math.sqrt(this.X*this.X+this.Y*this.Y+this.Z*this.Z+this.W*this.W);this.X*=num;this.Y*=num;this.Z*=num;this.W*=num},toString:function(){return"{X:"+System.Single.format(this.X)+" Y:"+System.Single.format(this.Y)+" Z:"+System.Single.format(this.Z)+" W:"+System.Single.format(this.W)+"}"},ToVector4:function(){return new Microsoft.Xna.Framework.Vector4.$ctor4(this.X,this.Y,this.Z,this.W)},Deconstruct:function(x,y,z,w){x.v=this.X;y.v=this.Y;z.v=this.Z;w.v=this.W},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Quaternion;return s.X=this.X,s.Y=this.Y,s.Z=this.Z,s.W=this.W,s}}});Bridge.define("Microsoft.Xna.Framework.Ray",{inherits:function(){return[System.IEquatable$1(Microsoft.Xna.Framework.Ray)]},$kind:"struct",statics:{methods:{op_Inequality:function(a,b){return!a.equalsT(b.$clone())},op_Equality:function(a,b){return a.equalsT(b.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.Ray}}},fields:{Direction:null,Position:null},props:{DebugDisplayString:{get:function(){return System.String.concat(["Pos( ",this.Position.DebugDisplayString," )  \r\n","Dir( ",this.Direction.DebugDisplayString," )"])}}},alias:["equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Ray$equalsT"],ctors:{init:function(){this.Direction=new Microsoft.Xna.Framework.Vector3;this.Position=new Microsoft.Xna.Framework.Vector3},$ctor1:function(position,direction){this.$initialize();this.Position=position.$clone();this.Direction=direction.$clone()},ctor:function(){this.$initialize()}},methods:{equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Ray)?this.equalsT(System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Ray),Microsoft.Xna.Framework.Ray))):!1},equalsT:function(other){return this.Position.equalsT(other.Position.$clone())&&this.Direction.equalsT(other.Direction.$clone())},getHashCode:function(){return this.Position.getHashCode()^this.Direction.getHashCode()},Intersects:function(box){var Epsilon=1e-6,tMin=null,tMax=null,temp,tMinY,tMaxY,temp1,tMinZ,tMaxZ,temp2;if(Math.abs(this.Direction.X)<Epsilon){if(this.Position.X<box.Min.X||this.Position.X>box.Max.X)return null}else tMin=(box.Min.X-this.Position.X)/this.Direction.X,tMax=(box.Max.X-this.Position.X)/this.Direction.X,System.Nullable.gt(tMin,tMax)&&(temp=tMin,tMin=tMax,tMax=temp);if(Math.abs(this.Direction.Y)<Epsilon){if(this.Position.Y<box.Min.Y||this.Position.Y>box.Max.Y)return null}else{if(tMinY=(box.Min.Y-this.Position.Y)/this.Direction.Y,tMaxY=(box.Max.Y-this.Position.Y)/this.Direction.Y,tMinY>tMaxY&&(temp1=tMinY,tMinY=tMaxY,tMaxY=temp1),System.Nullable.hasValue(tMin)&&System.Nullable.gt(tMin,tMaxY)||System.Nullable.hasValue(tMax)&&System.Nullable.gt(tMinY,tMax))return null;(!System.Nullable.hasValue(tMin)||System.Nullable.gt(tMinY,tMin))&&(tMin=tMinY);(!System.Nullable.hasValue(tMax)||System.Nullable.lt(tMaxY,tMax))&&(tMax=tMaxY)}if(Math.abs(this.Direction.Z)<Epsilon){if(this.Position.Z<box.Min.Z||this.Position.Z>box.Max.Z)return null}else{if(tMinZ=(box.Min.Z-this.Position.Z)/this.Direction.Z,tMaxZ=(box.Max.Z-this.Position.Z)/this.Direction.Z,tMinZ>tMaxZ&&(temp2=tMinZ,tMinZ=tMaxZ,tMaxZ=temp2),System.Nullable.hasValue(tMin)&&System.Nullable.gt(tMin,tMaxZ)||System.Nullable.hasValue(tMax)&&System.Nullable.gt(tMinZ,tMax))return null;(!System.Nullable.hasValue(tMin)||System.Nullable.gt(tMinZ,tMin))&&(tMin=tMinZ);(!System.Nullable.hasValue(tMax)||System.Nullable.lt(tMaxZ,tMax))&&(tMax=tMaxZ)}return System.Nullable.hasValue(tMin)&&System.Nullable.lt(tMin,0)&&System.Nullable.gt(tMax,0)?0:System.Nullable.lt(tMin,0)?null:tMin},Intersects$3:function(box,result){result.v=this.Intersects(box.v.$clone())},Intersects$1:function(sphere){sphere={v:sphere};var result={};return this.Intersects$4(sphere,result),result.v},Intersects$2:function(plane){plane={v:plane};var result={};return this.Intersects$5(plane,result),result.v},Intersects$5:function(plane,result){var den=Microsoft.Xna.Framework.Vector3.Dot(this.Direction.$clone(),plane.v.Normal.$clone());if(Math.abs(den)<1e-5){result.v=null;return}if(result.v=(-plane.v.D-Microsoft.Xna.Framework.Vector3.Dot(plane.v.Normal.$clone(),this.Position.$clone()))/den,System.Nullable.lt(result.v,0)){if(System.Nullable.lt(result.v,-1e-5)){result.v=null;return}result.v=0}},Intersects$4:function(sphere,result){var difference={v:Microsoft.Xna.Framework.Vector3.op_Subtraction(sphere.v.Center.$clone(),this.Position.$clone())},differenceLengthSquared=difference.v.LengthSquared(),sphereRadiusSquared=sphere.v.Radius*sphere.v.Radius,distanceAlongRay={},dist;if(differenceLengthSquared<sphereRadiusSquared){result.v=0;return}if(Microsoft.Xna.Framework.Vector3.Dot$1(Bridge.ref(this,"Direction"),difference,distanceAlongRay),distanceAlongRay.v<0){result.v=null;return}dist=sphereRadiusSquared+distanceAlongRay.v*distanceAlongRay.v-differenceLengthSquared;result.v=dist<0?null:System.Nullable.sub(distanceAlongRay.v,Math.sqrt(dist))},toString:function(){return"{{Position:"+(this.Position.toString()||"")+" Direction:"+(this.Direction.toString()||"")+"}}"},Deconstruct:function(position,direction){position.v=this.Position.$clone();direction.v=this.Direction.$clone()},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Ray;return s.Direction=this.Direction.$clone(),s.Position=this.Position.$clone(),s}}});Bridge.define("Microsoft.Xna.Framework.Rectangle",{inherits:function(){return[System.IEquatable$1(Microsoft.Xna.Framework.Rectangle)]},$kind:"struct",statics:{fields:{emptyRectangle:null},props:{Empty:{get:function(){return Microsoft.Xna.Framework.Rectangle.emptyRectangle.$clone()}}},ctors:{init:function(){this.emptyRectangle=new Microsoft.Xna.Framework.Rectangle}},methods:{Intersect:function(value1,value2){value1={v:value1};value2={v:value2};var rectangle={v:new Microsoft.Xna.Framework.Rectangle};return Microsoft.Xna.Framework.Rectangle.Intersect$1(value1,value2,rectangle),rectangle.v.$clone()},Intersect$1:function(value1,value2,result){if(value1.v.Intersects(value2.v.$clone())){var right_side=Math.min(value1.v.X+value1.v.Width|0,value2.v.X+value2.v.Width|0),left_side=Math.max(value1.v.X,value2.v.X),top_side=Math.max(value1.v.Y,value2.v.Y),bottom_side=Math.min(value1.v.Y+value1.v.Height|0,value2.v.Y+value2.v.Height|0);result.v=new Microsoft.Xna.Framework.Rectangle.$ctor2(left_side,top_side,right_side-left_side|0,bottom_side-top_side|0)}else result.v=new Microsoft.Xna.Framework.Rectangle.$ctor2(0,0,0,0)},Union:function(value1,value2){var x=Math.min(value1.X,value2.X),y=Math.min(value1.Y,value2.Y);return new Microsoft.Xna.Framework.Rectangle.$ctor2(x,y,Math.max(value1.Right,value2.Right)-x|0,Math.max(value1.Bottom,value2.Bottom)-y|0)},Union$1:function(value1,value2,result){result.v.X=Math.min(value1.v.X,value2.v.X);result.v.Y=Math.min(value1.v.Y,value2.v.Y);result.v.Width=Math.max(value1.v.Right,value2.v.Right)-result.v.X|0;result.v.Height=Math.max(value1.v.Bottom,value2.v.Bottom)-result.v.Y|0},op_Equality:function(a,b){return a.X===b.X&&a.Y===b.Y&&a.Width===b.Width&&a.Height===b.Height},op_Inequality:function(a,b){return!Microsoft.Xna.Framework.Rectangle.op_Equality(a.$clone(),b.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.Rectangle}}},fields:{X:0,Y:0,Width:0,Height:0},props:{Left:{get:function(){return this.X}},Right:{get:function(){return this.X+this.Width|0}},Top:{get:function(){return this.Y}},Bottom:{get:function(){return this.Y+this.Height|0}},IsEmpty:{get:function(){return this.Width===0&&this.Height===0&&this.X===0&&this.Y===0}},Location:{get:function(){return new Microsoft.Xna.Framework.Point.$ctor2(this.X,this.Y)},set:function(value){this.X=value.X;this.Y=value.Y}},Size:{get:function(){return new Microsoft.Xna.Framework.Point.$ctor2(this.Width,this.Height)},set:function(value){this.Width=value.X;this.Height=value.Y}},Center:{get:function(){return new Microsoft.Xna.Framework.Point.$ctor2(this.X+(Bridge.Int.div(this.Width,2)|0)|0,this.Y+(Bridge.Int.div(this.Height,2)|0)|0)}},DebugDisplayString:{get:function(){return System.String.concat(Bridge.box(this.X,System.Int32),"  ",Bridge.box(this.Y,System.Int32),"  ",Bridge.box(this.Width,System.Int32),"  ",Bridge.box(this.Height,System.Int32))}}},alias:["equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Rectangle$equalsT"],ctors:{$ctor2:function(x,y,width,height){this.$initialize();this.X=x;this.Y=y;this.Width=width;this.Height=height},$ctor1:function(location,size){this.$initialize();this.X=location.X;this.Y=location.Y;this.Width=size.X;this.Height=size.Y},ctor:function(){this.$initialize()}},methods:{Contains$3:function(x,y){return this.X<=x&&x<(this.X+this.Width|0)&&this.Y<=y&&y<(this.Y+this.Height|0)},Contains$4:function(x,y){return this.X<=x&&x<(this.X+this.Width|0)&&this.Y<=y&&y<(this.Y+this.Height|0)},Contains:function(value){return this.X<=value.X&&value.X<(this.X+this.Width|0)&&this.Y<=value.Y&&value.Y<(this.Y+this.Height|0)},Contains$5:function(value,result){result.v=this.X<=value.v.X&&value.v.X<(this.X+this.Width|0)&&this.Y<=value.v.Y&&value.v.Y<(this.Y+this.Height|0)},Contains$2:function(value){return this.X<=value.X&&value.X<(this.X+this.Width|0)&&this.Y<=value.Y&&value.Y<(this.Y+this.Height|0)},Contains$7:function(value,result){result.v=this.X<=value.v.X&&value.v.X<(this.X+this.Width|0)&&this.Y<=value.v.Y&&value.v.Y<(this.Y+this.Height|0)},Contains$1:function(value){return this.X<=value.X&&(value.X+value.Width|0)<=(this.X+this.Width|0)&&this.Y<=value.Y&&(value.Y+value.Height|0)<=(this.Y+this.Height|0)},Contains$6:function(value,result){result.v=this.X<=value.v.X&&(value.v.X+value.v.Width|0)<=(this.X+this.Width|0)&&this.Y<=value.v.Y&&(value.v.Y+value.v.Height|0)<=(this.Y+this.Height|0)},equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Rectangle)&&Microsoft.Xna.Framework.Rectangle.op_Equality(this,System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Rectangle),Microsoft.Xna.Framework.Rectangle)))},equalsT:function(other){return Microsoft.Xna.Framework.Rectangle.op_Equality(this,other.$clone())},getHashCode:function(){var hash=17;return hash=Bridge.Int.mul(hash,23)+Bridge.getHashCode(this.X)|0,hash=Bridge.Int.mul(hash,23)+Bridge.getHashCode(this.Y)|0,hash=Bridge.Int.mul(hash,23)+Bridge.getHashCode(this.Width)|0,Bridge.Int.mul(hash,23)+Bridge.getHashCode(this.Height)|0},Inflate:function(horizontalAmount,verticalAmount){this.X=this.X-horizontalAmount|0;this.Y=this.Y-verticalAmount|0;this.Width=this.Width+Bridge.Int.mul(horizontalAmount,2)|0;this.Height=this.Height+Bridge.Int.mul(verticalAmount,2)|0},Inflate$1:function(horizontalAmount,verticalAmount){this.X=this.X-Bridge.Int.clip32(horizontalAmount)|0;this.Y=this.Y-Bridge.Int.clip32(verticalAmount)|0;this.Width=this.Width+Bridge.Int.mul(Bridge.Int.clip32(horizontalAmount),2)|0;this.Height=this.Height+Bridge.Int.mul(Bridge.Int.clip32(verticalAmount),2)|0},Intersects:function(value){return value.Left<this.Right&&this.Left<value.Right&&value.Top<this.Bottom&&this.Top<value.Bottom},Intersects$1:function(value,result){result.v=value.v.Left<this.Right&&this.Left<value.v.Right&&value.v.Top<this.Bottom&&this.Top<value.v.Bottom},Offset$2:function(offsetX,offsetY){this.X=this.X+offsetX|0;this.Y=this.Y+offsetY|0},Offset$3:function(offsetX,offsetY){this.X=this.X+Bridge.Int.clip32(offsetX)|0;this.Y=this.Y+Bridge.Int.clip32(offsetY)|0},Offset:function(amount){this.X=this.X+amount.X|0;this.Y=this.Y+amount.Y|0},Offset$1:function(amount){this.X=this.X+Bridge.Int.clip32(amount.X)|0;this.Y=this.Y+Bridge.Int.clip32(amount.Y)|0},toString:function(){return"{X:"+this.X+" Y:"+this.Y+" Width:"+this.Width+" Height:"+this.Height+"}"},Deconstruct:function(x,y,width,height){x.v=this.X;y.v=this.Y;width.v=this.Width;height.v=this.Height},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Rectangle;return s.X=this.X,s.Y=this.Y,s.Width=this.Width,s.Height=this.Height,s}}});Bridge.define("Microsoft.Xna.Framework.Content.SByteReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.SByte)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.SByte).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){return input.ReadSByte()}}});Bridge.define("Microsoft.Xna.Framework.Content.SingleReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Single)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.Single).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){return input.ReadSingle()}}});Bridge.define("Microsoft.Xna.Framework.Media.Song",{inherits:function(){return[System.IEquatable$1(Microsoft.Xna.Framework.Media.Song),System.IDisposable]},statics:{methods:{FromUri:function(name,uri){var song=new Microsoft.Xna.Framework.Media.Song.ctor(Bridge.toString(uri));return song._name=name,song},FromURL:function(url){var $step=0,$task1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,ret,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1,2,3,4],$step);switch($step){case 0:ret=new Microsoft.Xna.Framework.Media.Song.ctor(url);$step=1;continue;case 1:if(!ret._loaded){$step=2;continue}$step=4;continue;case 2:$task1=System.Threading.Tasks.Task.delay(10);$step=3;$task1.continueWith($asyncBody);return;case 3:$task1.getAwaitedResult();$step=1;continue;case 4:$tcs.setResult(ret);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},op_Equality:function(song1,song2){return song1==null?song2==null:song1.equalsT(song2)},op_Inequality:function(song1,song2){return!Microsoft.Xna.Framework.Media.Song.op_Equality(song1,song2)}}},fields:{_name:null,_playCount:0,_duration:null,disposed:!1,_audio:null,_loaded:!1},events:{DonePlaying:null},props:{Album:{get:function(){return this.PlatformGetAlbum()}},Artist:{get:function(){return this.PlatformGetArtist()}},Genre:{get:function(){return this.PlatformGetGenre()}},IsDisposed:{get:function(){return this.disposed}},FilePath:{get:function(){return this._name}},Duration:{get:function(){return this.PlatformGetDuration()}},IsProtected:{get:function(){return this.PlatformIsProtected()}},IsRated:{get:function(){return this.PlatformIsRated()}},Name:{get:function(){return this.PlatformGetName()}},PlayCount:{get:function(){return this.PlatformGetPlayCount()}},Rating:{get:function(){return this.PlatformGetRating()}},TrackNumber:{get:function(){return this.PlatformGetTrackNumber()}},Volume:{get:function(){return this._audio.volume},set:function(value){this._audio.volume=value}},Position:{get:function(){return System.TimeSpan.fromSeconds(this._audio.currentTime)}}},alias:["Dispose","System$IDisposable$Dispose","equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Media$Song$equalsT"],ctors:{init:function(){this._duration=new System.TimeSpan;this._playCount=0;this._duration=System.TimeSpan.zero},$ctor1:function(fileName,durationMS){Microsoft.Xna.Framework.Media.Song.ctor.call(this,fileName);this._duration=System.TimeSpan.fromMilliseconds(durationMS)},ctor:function(fileName){this.$initialize();this._name=fileName;this.PlatformInitialize(fileName)}},methods:{Dispose:function(){this.Dispose$1(!0);System.GC.SuppressFinalize(this)},Dispose$1:function(disposing){this.disposed||(disposing&&this.PlatformDispose(disposing),this.disposed=!0)},getHashCode:function(){return Bridge.getHashCode(this)},equalsT:function(song){return song!=null&&Bridge.referenceEquals(this.Name,song.Name)},equals:function(obj){return obj==null?!1:this.equalsT(Bridge.as(obj,Microsoft.Xna.Framework.Media.Song))},PlatformInitialize:function(fileName){this._audio=document.createElement("audio");this._audio.oncanplaythrough=Bridge.fn.combine(this._audio.oncanplaythrough,Bridge.fn.bind(this,function(e){this._loaded=!0}));this._audio.src=fileName;this._audio.load();this._duration=System.TimeSpan.fromSeconds(this._audio.duration);this._audio.onended=Bridge.fn.combine(this._audio.onended,function(e){Microsoft.Xna.Framework.Media.MediaPlayer.OnSongFinishedPlaying(null,null)})},SetEventHandler:function(handler){},PlatformDispose:function(disposing){},Play:function(startPosition){System.Nullable.hasValue(startPosition)&&(this._audio.currentTime=System.Nullable.getValue(startPosition).getSeconds());this._audio.play();this._playCount=this._playCount+1|0},Resume:function(){this._audio.play()},Pause:function(){this._audio.pause()},Stop:function(){this._audio.currentTime=0;this._audio.pause();this._playCount=0},PlatformGetAlbum:function(){return null},PlatformGetArtist:function(){return null},PlatformGetGenre:function(){return null},PlatformGetDuration:function(){return this._duration},PlatformIsProtected:function(){return!1},PlatformIsRated:function(){return!1},PlatformGetName:function(){return this._name},PlatformGetPlayCount:function(){return this._playCount},PlatformGetRating:function(){return 0},PlatformGetTrackNumber:function(){return 0}}});Bridge.define("Microsoft.Xna.Framework.Content.SoundEffectReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Audio.SoundEffect)],methods:{Read$1:function(input,existingInstance){var headerSize=input.ReadInt32(),header=input.ReadBytes(headerSize),dataSize=input.ReadInt32(),data=input.ContentManager.GetScratchBuffer(dataSize);input.Read$1(data,0,dataSize);var loopStart=input.ReadInt32(),loopLength=input.ReadInt32(),durationMs=input.ReadInt32(),effect=new Microsoft.Xna.Framework.Audio.SoundEffect.$ctor2(header,data,dataSize,durationMs,loopStart,loopLength);return effect.Name=input.AssetName,effect}}});Bridge.define("Microsoft.Xna.Framework.Graphics.SpriteFont",{fields:{_glyphs:null,_regions:null,_defaultCharacter:null,_defaultGlyphIndex:0,_texture:null,Characters:null,LineSpacing:0,Spacing:0},props:{Glyphs:{get:function(){return this._glyphs}},Texture:{get:function(){return this._texture}},DefaultCharacter:{get:function(){return this._defaultCharacter},set:function(value){if(System.Nullable.hasValue(value)){if(!this.TryGetGlyphIndex(System.Nullable.getValue(value),Bridge.ref(this,"_defaultGlyphIndex")))throw new System.ArgumentException.$ctor1(Microsoft.Xna.Framework.Graphics.SpriteFont.Errors.UnresolvableCharacter);}else this._defaultGlyphIndex=-1;this._defaultCharacter=value}}},ctors:{init:function(){this._defaultGlyphIndex=-1},ctor:function(texture,glyphBounds,cropping,characters,lineSpacing,spacing,kerning,defaultCharacter){var $t,regions,i,currentRegion;for(this.$initialize(),this.Characters=new(System.Collections.ObjectModel.ReadOnlyCollection$1(System.Char))(characters.ToArray()),this._texture=texture,this.LineSpacing=lineSpacing,this.Spacing=spacing,this._glyphs=System.Array.init(characters.Count,function(){return new Microsoft.Xna.Framework.Graphics.SpriteFont.Glyph},Microsoft.Xna.Framework.Graphics.SpriteFont.Glyph),regions=new(System.Collections.Generic.Stack$1(Microsoft.Xna.Framework.Graphics.SpriteFont.CharacterRegion).ctor),i=0;i<characters.Count;i=i+1|0)if(this._glyphs[System.Array.index(i,this._glyphs)]=($t=new Microsoft.Xna.Framework.Graphics.SpriteFont.Glyph,$t.BoundsInTexture=glyphBounds.getItem(i).$clone(),$t.Cropping=cropping.getItem(i).$clone(),$t.Character=characters.getItem(i),$t.LeftSideBearing=kerning.getItem(i).$clone().X,$t.Width=kerning.getItem(i).$clone().Y,$t.RightSideBearing=kerning.getItem(i).$clone().Z,$t.WidthIncludingBearings=kerning.getItem(i).$clone().X+kerning.getItem(i).$clone().Y+kerning.getItem(i).$clone().Z,$t),regions.Count===0||characters.getItem(i)>(regions.Peek().End+1|0))regions.Push(new Microsoft.Xna.Framework.Graphics.SpriteFont.CharacterRegion.$ctor1(characters.getItem(i),i));else if(characters.getItem(i)===(regions.Peek().End+1|0))currentRegion=regions.Pop().$clone(),currentRegion.End=currentRegion.End+1&65535,regions.Push(currentRegion.$clone());else throw new System.InvalidOperationException.$ctor1("Invalid SpriteFont. Character map must be in ascending order.");this._regions=regions.ToArray();System.Array.reverse(this._regions);this.DefaultCharacter=defaultCharacter}},methods:{GetGlyphs:function(){var $t,glyphsDictionary=new(System.Collections.Generic.Dictionary$2(System.Char,Microsoft.Xna.Framework.Graphics.SpriteFont.Glyph))(null,Microsoft.Xna.Framework.Graphics.SpriteFont.CharComparer.Default),glyph;$t=Bridge.getEnumerator(this._glyphs);try{while($t.moveNext())glyph=$t.Current.$clone(),glyphsDictionary.add(glyph.Character,glyph.$clone())}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return glyphsDictionary},MeasureString:function(text){var source={v:new Microsoft.Xna.Framework.Graphics.SpriteFont.CharacterSource.$ctor1(text)},size={v:new Microsoft.Xna.Framework.Vector2};return this.MeasureString$2(source,size),size.v.$clone()},MeasureString$1:function(text){var source={v:new Microsoft.Xna.Framework.Graphics.SpriteFont.CharacterSource.$ctor2(text)},size={v:new Microsoft.Xna.Framework.Vector2};return this.MeasureString$2(source,size),size.v.$clone()},MeasureString$2:function(text,size){var $t,i,c,currentGlyphIndex,pCurrentGlyph,proposedWidth;if(text.v.Length===0){size.v=Microsoft.Xna.Framework.Vector2.Zero.$clone();return}var width=0,finalLineHeight=this.LineSpacing,offset=Microsoft.Xna.Framework.Vector2.Zero.$clone(),firstGlyphOfLine=!0;for(i=0;i<text.v.Length;i=i+1|0)if(c=text.v.getItem(i),c!==13){if(c===10){finalLineHeight=this.LineSpacing;offset.X=0;offset.Y+=this.LineSpacing;firstGlyphOfLine=!0;continue}currentGlyphIndex=this.GetGlyphIndexOrDefault(c);pCurrentGlyph=($t=this.Glyphs)[System.Array.index(currentGlyphIndex,$t)].$clone();firstGlyphOfLine?(offset.X=Math.max(pCurrentGlyph.LeftSideBearing,0),firstGlyphOfLine=!1):offset.X+=this.Spacing+pCurrentGlyph.LeftSideBearing;offset.X+=pCurrentGlyph.Width;proposedWidth=offset.X+Math.max(pCurrentGlyph.RightSideBearing,0);proposedWidth>width&&(width=proposedWidth);offset.X+=pCurrentGlyph.RightSideBearing;pCurrentGlyph.Cropping.Height>finalLineHeight&&(finalLineHeight=pCurrentGlyph.Cropping.Height)}size.v.X=width;size.v.Y=offset.Y+finalLineHeight},TryGetGlyphIndex:function(c,index){for(var regionIdx=-1,l=0,r=this._regions.length-1|0,m;l<=r;)if(m=(l+r|0)>>1,this._regions[System.Array.index(m,this._regions)].End<c)l=m+1|0;else if(this._regions[System.Array.index(m,this._regions)].Start>c)r=m-1|0;else{regionIdx=m;break}return regionIdx===-1?(index.v=-1,!1):(index.v=this._regions[System.Array.index(regionIdx,this._regions)].StartIndex+(c-this._regions[System.Array.index(regionIdx,this._regions)].Start|0)|0,!0)},GetGlyphIndexOrDefault:function(c){var glyphIdx={};if(this.TryGetGlyphIndex(c,glyphIdx))return glyphIdx.v;else{if(this._defaultGlyphIndex===-1)throw new System.ArgumentException.$ctor3(Microsoft.Xna.Framework.Graphics.SpriteFont.Errors.TextContainsUnresolvableCharacters,"text");return this._defaultGlyphIndex}}}});Bridge.define("Microsoft.Xna.Framework.Content.StringReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.String)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.String).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){return input.ReadString()}}});Bridge.define("Microsoft.Xna.Framework.Graphics.Texture",{inherits:[Microsoft.Xna.Framework.Graphics.GraphicsResource],statics:{fields:{_lastSortingKey:0},methods:{CalculateMipLevels:function(width,height,depth){height===void 0&&(height=0);depth===void 0&&(depth=0);for(var levels=1,size=Math.max(Math.max(width,height),depth);size>1;)size=Bridge.Int.div(size,2)|0,levels=levels+1|0;return levels},GetSizeForLevel$1:function(width,height,level,w,h){for(w.v=width,h.v=height;level>0;)level=level-1|0,w.v=Bridge.Int.div(w.v,2)|0,h.v=Bridge.Int.div(h.v,2)|0;w.v===0&&(w.v=1);h.v===0&&(h.v=1)},GetSizeForLevel:function(width,height,depth,level,w,h,d){for(w.v=width,h.v=height,d.v=depth;level>0;)level=level-1|0,w.v=Bridge.Int.div(w.v,2)|0,h.v=Bridge.Int.div(h.v,2)|0,d.v=Bridge.Int.div(d.v,2)|0;w.v===0&&(w.v=1);h.v===0&&(h.v=1);d.v===0&&(d.v=1)}}},fields:{_format:0,_levelCount:0,_sortingKey:0,glTexture:null,glTarget:0,glTextureUnit:0,glInternalFormat:0,glFormat:0,glType:0,glLastSamplerState:null},props:{SortingKey:{get:function(){return this._sortingKey}},Format:{get:function(){return this._format}},LevelCount:{get:function(){return this._levelCount}}},ctors:{init:function(){this._sortingKey=Microsoft.Xna.Framework.Interlocked.Increment(Bridge.ref(Microsoft.Xna.Framework.Graphics.Texture,"_lastSortingKey"));this.glTextureUnit=WebGL2RenderingContext.TEXTURE0}},methods:{GetPitch:function(width){var pitch;switch(this._format){case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt1:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt1SRgb:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt1a:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbPvrtc2Bpp:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbaPvrtc2Bpp:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbEtc1:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt3:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt3SRgb:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt5:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt5SRgb:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbPvrtc4Bpp:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbaPvrtc4Bpp:pitch=Bridge.Int.mul(Bridge.Int.div(width+3|0,4)|0,Microsoft.Xna.Framework.Graphics.GraphicsExtensions.GetSize(this._format));break;default:pitch=Bridge.Int.mul(width,Microsoft.Xna.Framework.Graphics.GraphicsExtensions.GetSize(this._format));break}return pitch},GraphicsDeviceResetting:function(){this.PlatformGraphicsDeviceResetting()},PlatformGraphicsDeviceResetting:function(){this.DeleteGLTexture();this.glLastSamplerState=null},Dispose$1:function(disposing){this.IsDisposed||(this.DeleteGLTexture(),this.glLastSamplerState=null);Microsoft.Xna.Framework.Graphics.GraphicsResource.prototype.Dispose$1.call(this,disposing)},DeleteGLTexture:function(){this.glTexture!=null&&this.GraphicsDevice.DisposeTexture(this.glTexture);this.glTexture=null}}});Bridge.define("Microsoft.Xna.Framework.Content.TimeSpanReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.TimeSpan)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.TimeSpan).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){return new System.TimeSpan(input.ReadInt64())}}});Bridge.define("Microsoft.Xna.Framework.Content.UInt16Reader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.UInt16)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.UInt16).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){return input.ReadUInt16()}}});Bridge.define("Microsoft.Xna.Framework.Content.UInt32Reader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.UInt32)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.UInt32).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){return input.ReadUInt32()}}});Bridge.define("Microsoft.Xna.Framework.Content.UInt64Reader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.UInt64)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(System.UInt64).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){return input.ReadUInt64()}}});Bridge.define("Microsoft.Xna.Framework.Vector2",{inherits:function(){return[System.IEquatable$1(Microsoft.Xna.Framework.Vector2)]},$kind:"struct",statics:{fields:{zeroVector:null,unitVector:null,unitXVector:null,unitYVector:null},props:{Zero:{get:function(){return Microsoft.Xna.Framework.Vector2.zeroVector.$clone()}},One:{get:function(){return Microsoft.Xna.Framework.Vector2.unitVector.$clone()}},UnitX:{get:function(){return Microsoft.Xna.Framework.Vector2.unitXVector.$clone()}},UnitY:{get:function(){return Microsoft.Xna.Framework.Vector2.unitYVector.$clone()}}},ctors:{init:function(){this.zeroVector=new Microsoft.Xna.Framework.Vector2;this.unitVector=new Microsoft.Xna.Framework.Vector2;this.unitXVector=new Microsoft.Xna.Framework.Vector2;this.unitYVector=new Microsoft.Xna.Framework.Vector2;this.zeroVector=new Microsoft.Xna.Framework.Vector2.$ctor2(0,0);this.unitVector=new Microsoft.Xna.Framework.Vector2.$ctor2(1,1);this.unitXVector=new Microsoft.Xna.Framework.Vector2.$ctor2(1,0);this.unitYVector=new Microsoft.Xna.Framework.Vector2.$ctor2(0,1)}},methods:{Add:function(value1,value2){return value1.X+=value2.X,value1.Y+=value2.Y,value1.$clone()},Add$1:function(value1,value2,result){result.v.X=value1.v.X+value2.v.X;result.v.Y=value1.v.Y+value2.v.Y},Barycentric:function(value1,value2,value3,amount1,amount2){return new Microsoft.Xna.Framework.Vector2.$ctor2(Microsoft.Xna.Framework.MathHelper.Barycentric(value1.X,value2.X,value3.X,amount1,amount2),Microsoft.Xna.Framework.MathHelper.Barycentric(value1.Y,value2.Y,value3.Y,amount1,amount2))},Barycentric$1:function(value1,value2,value3,amount1,amount2,result){result.v.X=Microsoft.Xna.Framework.MathHelper.Barycentric(value1.v.X,value2.v.X,value3.v.X,amount1,amount2);result.v.Y=Microsoft.Xna.Framework.MathHelper.Barycentric(value1.v.Y,value2.v.Y,value3.v.Y,amount1,amount2)},CatmullRom:function(value1,value2,value3,value4,amount){return new Microsoft.Xna.Framework.Vector2.$ctor2(Microsoft.Xna.Framework.MathHelper.CatmullRom(value1.X,value2.X,value3.X,value4.X,amount),Microsoft.Xna.Framework.MathHelper.CatmullRom(value1.Y,value2.Y,value3.Y,value4.Y,amount))},CatmullRom$1:function(value1,value2,value3,value4,amount,result){result.v.X=Microsoft.Xna.Framework.MathHelper.CatmullRom(value1.v.X,value2.v.X,value3.v.X,value4.v.X,amount);result.v.Y=Microsoft.Xna.Framework.MathHelper.CatmullRom(value1.v.Y,value2.v.Y,value3.v.Y,value4.v.Y,amount)},Clamp:function(value1,min,max){return new Microsoft.Xna.Framework.Vector2.$ctor2(Microsoft.Xna.Framework.MathHelper.Clamp$1(value1.X,min.X,max.X),Microsoft.Xna.Framework.MathHelper.Clamp$1(value1.Y,min.Y,max.Y))},Clamp$1:function(value1,min,max,result){result.v.X=Microsoft.Xna.Framework.MathHelper.Clamp$1(value1.v.X,min.v.X,max.v.X);result.v.Y=Microsoft.Xna.Framework.MathHelper.Clamp$1(value1.v.Y,min.v.Y,max.v.Y)},Distance:function(value1,value2){var v1=value1.X-value2.X,v2=value1.Y-value2.Y;return Math.sqrt(v1*v1+v2*v2)},Distance$1:function(value1,value2,result){var v1=value1.v.X-value2.v.X,v2=value1.v.Y-value2.v.Y;result.v=Math.sqrt(v1*v1+v2*v2)},DistanceSquared:function(value1,value2){var v1=value1.X-value2.X,v2=value1.Y-value2.Y;return v1*v1+v2*v2},DistanceSquared$1:function(value1,value2,result){var v1=value1.v.X-value2.v.X,v2=value1.v.Y-value2.v.Y;result.v=v1*v1+v2*v2},Divide:function(value1,value2){return value1.X/=value2.X,value1.Y/=value2.Y,value1.$clone()},Divide$2:function(value1,value2,result){result.v.X=value1.v.X/value2.v.X;result.v.Y=value1.v.Y/value2.v.Y},Divide$1:function(value1,divider){var factor=1/divider;return value1.X*=factor,value1.Y*=factor,value1.$clone()},Divide$3:function(value1,divider,result){var factor=1/divider;result.v.X=value1.v.X*factor;result.v.Y=value1.v.Y*factor},Dot:function(value1,value2){return value1.X*value2.X+value1.Y*value2.Y},Dot$1:function(value1,value2,result){result.v=value1.v.X*value2.v.X+value1.v.Y*value2.v.Y},Hermite:function(value1,tangent1,value2,tangent2,amount){return new Microsoft.Xna.Framework.Vector2.$ctor2(Microsoft.Xna.Framework.MathHelper.Hermite(value1.X,tangent1.X,value2.X,tangent2.X,amount),Microsoft.Xna.Framework.MathHelper.Hermite(value1.Y,tangent1.Y,value2.Y,tangent2.Y,amount))},Hermite$1:function(value1,tangent1,value2,tangent2,amount,result){result.v.X=Microsoft.Xna.Framework.MathHelper.Hermite(value1.v.X,tangent1.v.X,value2.v.X,tangent2.v.X,amount);result.v.Y=Microsoft.Xna.Framework.MathHelper.Hermite(value1.v.Y,tangent1.v.Y,value2.v.Y,tangent2.v.Y,amount)},Lerp:function(value1,value2,amount){return new Microsoft.Xna.Framework.Vector2.$ctor2(Microsoft.Xna.Framework.MathHelper.Lerp(value1.X,value2.X,amount),Microsoft.Xna.Framework.MathHelper.Lerp(value1.Y,value2.Y,amount))},Lerp$1:function(value1,value2,amount,result){result.v.X=Microsoft.Xna.Framework.MathHelper.Lerp(value1.v.X,value2.v.X,amount);result.v.Y=Microsoft.Xna.Framework.MathHelper.Lerp(value1.v.Y,value2.v.Y,amount)},LerpPrecise:function(value1,value2,amount){return new Microsoft.Xna.Framework.Vector2.$ctor2(Microsoft.Xna.Framework.MathHelper.LerpPrecise(value1.X,value2.X,amount),Microsoft.Xna.Framework.MathHelper.LerpPrecise(value1.Y,value2.Y,amount))},LerpPrecise$1:function(value1,value2,amount,result){result.v.X=Microsoft.Xna.Framework.MathHelper.LerpPrecise(value1.v.X,value2.v.X,amount);result.v.Y=Microsoft.Xna.Framework.MathHelper.LerpPrecise(value1.v.Y,value2.v.Y,amount)},Max:function(value1,value2){return new Microsoft.Xna.Framework.Vector2.$ctor2(value1.X>value2.X?value1.X:value2.X,value1.Y>value2.Y?value1.Y:value2.Y)},Max$1:function(value1,value2,result){result.v.X=value1.v.X>value2.v.X?value1.v.X:value2.v.X;result.v.Y=value1.v.Y>value2.v.Y?value1.v.Y:value2.v.Y},Min:function(value1,value2){return new Microsoft.Xna.Framework.Vector2.$ctor2(value1.X<value2.X?value1.X:value2.X,value1.Y<value2.Y?value1.Y:value2.Y)},Min$1:function(value1,value2,result){result.v.X=value1.v.X<value2.v.X?value1.v.X:value2.v.X;result.v.Y=value1.v.Y<value2.v.Y?value1.v.Y:value2.v.Y},Multiply:function(value1,value2){return value1.X*=value2.X,value1.Y*=value2.Y,value1.$clone()},Multiply$2:function(value1,value2,result){result.v.X=value1.v.X*value2.v.X;result.v.Y=value1.v.Y*value2.v.Y},Multiply$1:function(value1,scaleFactor){return value1.X*=scaleFactor,value1.Y*=scaleFactor,value1.$clone()},Multiply$3:function(value1,scaleFactor,result){result.v.X=value1.v.X*scaleFactor;result.v.Y=value1.v.Y*scaleFactor},Negate:function(value){return value.X=-value.X,value.Y=-value.Y,value.$clone()},Negate$1:function(value,result){result.v.X=-value.v.X;result.v.Y=-value.v.Y},Normalize:function(value){var val=1/Math.sqrt(value.X*value.X+value.Y*value.Y);return value.X*=val,value.Y*=val,value.$clone()},Normalize$1:function(value,result){var val=1/Math.sqrt(value.v.X*value.v.X+value.v.Y*value.v.Y);result.v.X=value.v.X*val;result.v.Y=value.v.Y*val},Reflect:function(vector,normal){var result=new Microsoft.Xna.Framework.Vector2,val=2*(vector.X*normal.X+vector.Y*normal.Y);return result.X=vector.X-normal.X*val,result.Y=vector.Y-normal.Y*val,result.$clone()},Reflect$1:function(vector,normal,result){var val=2*(vector.v.X*normal.v.X+vector.v.Y*normal.v.Y);result.v.X=vector.v.X-normal.v.X*val;result.v.Y=vector.v.Y-normal.v.Y*val},SmoothStep:function(value1,value2,amount){return new Microsoft.Xna.Framework.Vector2.$ctor2(Microsoft.Xna.Framework.MathHelper.SmoothStep(value1.X,value2.X,amount),Microsoft.Xna.Framework.MathHelper.SmoothStep(value1.Y,value2.Y,amount))},SmoothStep$1:function(value1,value2,amount,result){result.v.X=Microsoft.Xna.Framework.MathHelper.SmoothStep(value1.v.X,value2.v.X,amount);result.v.Y=Microsoft.Xna.Framework.MathHelper.SmoothStep(value1.v.Y,value2.v.Y,amount)},Subtract:function(value1,value2){return value1.X-=value2.X,value1.Y-=value2.Y,value1.$clone()},Subtract$1:function(value1,value2,result){result.v.X=value1.v.X-value2.v.X;result.v.Y=value1.v.Y-value2.v.Y},Transform:function(position,matrix){return new Microsoft.Xna.Framework.Vector2.$ctor2(position.X*matrix.M11+position.Y*matrix.M21+matrix.M41,position.X*matrix.M12+position.Y*matrix.M22+matrix.M42)},Transform$2:function(position,matrix,result){var x=position.v.X*matrix.v.M11+position.v.Y*matrix.v.M21+matrix.v.M41,y=position.v.X*matrix.v.M12+position.v.Y*matrix.v.M22+matrix.v.M42;result.v.X=x;result.v.Y=y},Transform$1:function(value,rotation){return value={v:value},rotation={v:rotation},Microsoft.Xna.Framework.Vector2.Transform$3(value,rotation,value),value.v.$clone()},Transform$3:function(value,rotation,result){var rot1=new Microsoft.Xna.Framework.Vector3.$ctor3(rotation.v.X+rotation.v.X,rotation.v.Y+rotation.v.Y,rotation.v.Z+rotation.v.Z),rot2=new Microsoft.Xna.Framework.Vector3.$ctor3(rotation.v.X,rotation.v.X,rotation.v.W),rot3=new Microsoft.Xna.Framework.Vector3.$ctor3(1,rotation.v.Y,rotation.v.Z),rot4=Microsoft.Xna.Framework.Vector3.op_Multiply(rot1.$clone(),rot2.$clone()),rot5=Microsoft.Xna.Framework.Vector3.op_Multiply(rot1.$clone(),rot3.$clone()),v=new Microsoft.Xna.Framework.Vector2.ctor;v.X=value.v.X*(1-rot5.Y-rot5.Z)+value.v.Y*(rot4.Y-rot4.Z);v.Y=value.v.X*(rot4.Y+rot4.Z)+value.v.Y*(1-rot4.X-rot5.Z);result.v.X=v.X;result.v.Y=v.Y},Transform$6:function(sourceArray,sourceIndex,matrix,destinationArray,destinationIndex,length){var x,position,destination;if(sourceArray==null)throw new System.ArgumentNullException.$ctor1("sourceArray");if(destinationArray==null)throw new System.ArgumentNullException.$ctor1("destinationArray");if(sourceArray.length<(sourceIndex+length|0))throw new System.ArgumentException.$ctor1("Source array length is lesser than sourceIndex + length");if(destinationArray.length<(destinationIndex+length|0))throw new System.ArgumentException.$ctor1("Destination array length is lesser than destinationIndex + length");for(x=0;x<length;x=x+1|0)position=sourceArray[System.Array.index(sourceIndex+x|0,sourceArray)].$clone(),destination=destinationArray[System.Array.index(destinationIndex+x|0,destinationArray)].$clone(),destination.X=position.X*matrix.v.M11+position.Y*matrix.v.M21+matrix.v.M41,destination.Y=position.X*matrix.v.M12+position.Y*matrix.v.M22+matrix.v.M42,destinationArray[System.Array.index(destinationIndex+x|0,destinationArray)]=destination.$clone()},Transform$7:function(sourceArray,sourceIndex,rotation,destinationArray,destinationIndex,length){var x;if(sourceArray==null)throw new System.ArgumentNullException.$ctor1("sourceArray");if(destinationArray==null)throw new System.ArgumentNullException.$ctor1("destinationArray");if(sourceArray.length<(sourceIndex+length|0))throw new System.ArgumentException.$ctor1("Source array length is lesser than sourceIndex + length");if(destinationArray.length<(destinationIndex+length|0))throw new System.ArgumentException.$ctor1("Destination array length is lesser than destinationIndex + length");for(x=0;x<length;x=x+1|0){var position={v:sourceArray[System.Array.index(sourceIndex+x|0,sourceArray)].$clone()},destination=destinationArray[System.Array.index(destinationIndex+x|0,destinationArray)].$clone(),v={v:new Microsoft.Xna.Framework.Vector2};Microsoft.Xna.Framework.Vector2.Transform$3(position,rotation,v);destination.X=v.v.X;destination.Y=v.v.Y;destinationArray[System.Array.index(destinationIndex+x|0,destinationArray)]=destination.$clone()}},Transform$4:function(sourceArray,matrix,destinationArray){Microsoft.Xna.Framework.Vector2.Transform$6(sourceArray,0,matrix,destinationArray,0,sourceArray.length)},Transform$5:function(sourceArray,rotation,destinationArray){Microsoft.Xna.Framework.Vector2.Transform$7(sourceArray,0,rotation,destinationArray,0,sourceArray.length)},TransformNormal:function(normal,matrix){return new Microsoft.Xna.Framework.Vector2.$ctor2(normal.X*matrix.M11+normal.Y*matrix.M21,normal.X*matrix.M12+normal.Y*matrix.M22)},TransformNormal$1:function(normal,matrix,result){var x=normal.v.X*matrix.v.M11+normal.v.Y*matrix.v.M21,y=normal.v.X*matrix.v.M12+normal.v.Y*matrix.v.M22;result.v.X=x;result.v.Y=y},TransformNormal$3:function(sourceArray,sourceIndex,matrix,destinationArray,destinationIndex,length){var i,normal;if(sourceArray==null)throw new System.ArgumentNullException.$ctor1("sourceArray");if(destinationArray==null)throw new System.ArgumentNullException.$ctor1("destinationArray");if(sourceArray.length<(sourceIndex+length|0))throw new System.ArgumentException.$ctor1("Source array length is lesser than sourceIndex + length");if(destinationArray.length<(destinationIndex+length|0))throw new System.ArgumentException.$ctor1("Destination array length is lesser than destinationIndex + length");for(i=0;i<length;i=i+1|0)normal=sourceArray[System.Array.index(sourceIndex+i|0,sourceArray)].$clone(),destinationArray[System.Array.index(destinationIndex+i|0,destinationArray)]=new Microsoft.Xna.Framework.Vector2.$ctor2(normal.X*matrix.v.M11+normal.Y*matrix.v.M21,normal.X*matrix.v.M12+normal.Y*matrix.v.M22)},TransformNormal$2:function(sourceArray,matrix,destinationArray){var i,normal;if(sourceArray==null)throw new System.ArgumentNullException.$ctor1("sourceArray");if(destinationArray==null)throw new System.ArgumentNullException.$ctor1("destinationArray");if(destinationArray.length<sourceArray.length)throw new System.ArgumentException.$ctor1("Destination array length is lesser than source array length");for(i=0;i<sourceArray.length;i=i+1|0)normal=sourceArray[System.Array.index(i,sourceArray)].$clone(),destinationArray[System.Array.index(i,destinationArray)]=new Microsoft.Xna.Framework.Vector2.$ctor2(normal.X*matrix.v.M11+normal.Y*matrix.v.M21,normal.X*matrix.v.M12+normal.Y*matrix.v.M22)},op_UnaryNegation:function(value){return value.X=-value.X,value.Y=-value.Y,value.$clone()},op_Addition:function(value1,value2){return value1.X+=value2.X,value1.Y+=value2.Y,value1.$clone()},op_Subtraction:function(value1,value2){return value1.X-=value2.X,value1.Y-=value2.Y,value1.$clone()},op_Multiply:function(value1,value2){return value1.X*=value2.X,value1.Y*=value2.Y,value1.$clone()},op_Multiply$1:function(value,scaleFactor){return value.X*=scaleFactor,value.Y*=scaleFactor,value.$clone()},op_Multiply$2:function(scaleFactor,value){return value.X*=scaleFactor,value.Y*=scaleFactor,value.$clone()},op_Division:function(value1,value2){return value1.X/=value2.X,value1.Y/=value2.Y,value1.$clone()},op_Division$1:function(value1,divider){var factor=1/divider;return value1.X*=factor,value1.Y*=factor,value1.$clone()},op_Equality:function(value1,value2){return value1.X===value2.X&&value1.Y===value2.Y},op_Inequality:function(value1,value2){return value1.X!==value2.X||value1.Y!==value2.Y},getDefaultValue:function(){return new Microsoft.Xna.Framework.Vector2}}},fields:{X:0,Y:0},props:{DebugDisplayString:{get:function(){return System.String.concat(System.Single.format(this.X),"  ",System.Single.format(this.Y))}}},alias:["equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Vector2$equalsT"],ctors:{$ctor2:function(x,y){this.$initialize();this.X=x;this.Y=y},$ctor1:function(value){this.$initialize();this.X=value;this.Y=value},ctor:function(){this.$initialize()}},methods:{equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Vector2)?this.equalsT(System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Vector2),Microsoft.Xna.Framework.Vector2))):!1},equalsT:function(other){return this.X===other.X&&this.Y===other.Y},getHashCode:function(){return Bridge.Int.mul(System.Single.getHashCode(this.X),397)^System.Single.getHashCode(this.Y)},Length:function(){return Math.sqrt(this.X*this.X+this.Y*this.Y)},LengthSquared:function(){return this.X*this.X+this.Y*this.Y},Normalize:function(){var val=1/Math.sqrt(this.X*this.X+this.Y*this.Y);this.X*=val;this.Y*=val},toString:function(){return"{X:"+System.Single.format(this.X)+" Y:"+System.Single.format(this.Y)+"}"},ToPoint:function(){return new Microsoft.Xna.Framework.Point.$ctor2(Bridge.Int.clip32(this.X),Bridge.Int.clip32(this.Y))},Deconstruct:function(x,y){x.v=this.X;y.v=this.Y},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Vector2;return s.X=this.X,s.Y=this.Y,s}}});Bridge.define("Microsoft.Xna.Framework.Vector3",{inherits:function(){return[System.IEquatable$1(Microsoft.Xna.Framework.Vector3)]},$kind:"struct",statics:{fields:{zero:null,one:null,unitX:null,unitY:null,unitZ:null,up:null,down:null,right:null,left:null,forward:null,backward:null},props:{Zero:{get:function(){return Microsoft.Xna.Framework.Vector3.zero.$clone()}},One:{get:function(){return Microsoft.Xna.Framework.Vector3.one.$clone()}},UnitX:{get:function(){return Microsoft.Xna.Framework.Vector3.unitX.$clone()}},UnitY:{get:function(){return Microsoft.Xna.Framework.Vector3.unitY.$clone()}},UnitZ:{get:function(){return Microsoft.Xna.Framework.Vector3.unitZ.$clone()}},Up:{get:function(){return Microsoft.Xna.Framework.Vector3.up.$clone()}},Down:{get:function(){return Microsoft.Xna.Framework.Vector3.down.$clone()}},Right:{get:function(){return Microsoft.Xna.Framework.Vector3.right.$clone()}},Left:{get:function(){return Microsoft.Xna.Framework.Vector3.left.$clone()}},Forward:{get:function(){return Microsoft.Xna.Framework.Vector3.forward.$clone()}},Backward:{get:function(){return Microsoft.Xna.Framework.Vector3.backward.$clone()}}},ctors:{init:function(){this.zero=new Microsoft.Xna.Framework.Vector3;this.one=new Microsoft.Xna.Framework.Vector3;this.unitX=new Microsoft.Xna.Framework.Vector3;this.unitY=new Microsoft.Xna.Framework.Vector3;this.unitZ=new Microsoft.Xna.Framework.Vector3;this.up=new Microsoft.Xna.Framework.Vector3;this.down=new Microsoft.Xna.Framework.Vector3;this.right=new Microsoft.Xna.Framework.Vector3;this.left=new Microsoft.Xna.Framework.Vector3;this.forward=new Microsoft.Xna.Framework.Vector3;this.backward=new Microsoft.Xna.Framework.Vector3;this.zero=new Microsoft.Xna.Framework.Vector3.$ctor3(0,0,0);this.one=new Microsoft.Xna.Framework.Vector3.$ctor3(1,1,1);this.unitX=new Microsoft.Xna.Framework.Vector3.$ctor3(1,0,0);this.unitY=new Microsoft.Xna.Framework.Vector3.$ctor3(0,1,0);this.unitZ=new Microsoft.Xna.Framework.Vector3.$ctor3(0,0,1);this.up=new Microsoft.Xna.Framework.Vector3.$ctor3(0,1,0);this.down=new Microsoft.Xna.Framework.Vector3.$ctor3(0,-1,0);this.right=new Microsoft.Xna.Framework.Vector3.$ctor3(1,0,0);this.left=new Microsoft.Xna.Framework.Vector3.$ctor3(-1,0,0);this.forward=new Microsoft.Xna.Framework.Vector3.$ctor3(0,0,-1);this.backward=new Microsoft.Xna.Framework.Vector3.$ctor3(0,0,1)}},methods:{Add:function(value1,value2){return value1.X+=value2.X,value1.Y+=value2.Y,value1.Z+=value2.Z,value1.$clone()},Add$1:function(value1,value2,result){result.v.X=value1.v.X+value2.v.X;result.v.Y=value1.v.Y+value2.v.Y;result.v.Z=value1.v.Z+value2.v.Z},Barycentric:function(value1,value2,value3,amount1,amount2){return new Microsoft.Xna.Framework.Vector3.$ctor3(Microsoft.Xna.Framework.MathHelper.Barycentric(value1.X,value2.X,value3.X,amount1,amount2),Microsoft.Xna.Framework.MathHelper.Barycentric(value1.Y,value2.Y,value3.Y,amount1,amount2),Microsoft.Xna.Framework.MathHelper.Barycentric(value1.Z,value2.Z,value3.Z,amount1,amount2))},Barycentric$1:function(value1,value2,value3,amount1,amount2,result){result.v.X=Microsoft.Xna.Framework.MathHelper.Barycentric(value1.v.X,value2.v.X,value3.v.X,amount1,amount2);result.v.Y=Microsoft.Xna.Framework.MathHelper.Barycentric(value1.v.Y,value2.v.Y,value3.v.Y,amount1,amount2);result.v.Z=Microsoft.Xna.Framework.MathHelper.Barycentric(value1.v.Z,value2.v.Z,value3.v.Z,amount1,amount2)},CatmullRom:function(value1,value2,value3,value4,amount){return new Microsoft.Xna.Framework.Vector3.$ctor3(Microsoft.Xna.Framework.MathHelper.CatmullRom(value1.X,value2.X,value3.X,value4.X,amount),Microsoft.Xna.Framework.MathHelper.CatmullRom(value1.Y,value2.Y,value3.Y,value4.Y,amount),Microsoft.Xna.Framework.MathHelper.CatmullRom(value1.Z,value2.Z,value3.Z,value4.Z,amount))},CatmullRom$1:function(value1,value2,value3,value4,amount,result){result.v.X=Microsoft.Xna.Framework.MathHelper.CatmullRom(value1.v.X,value2.v.X,value3.v.X,value4.v.X,amount);result.v.Y=Microsoft.Xna.Framework.MathHelper.CatmullRom(value1.v.Y,value2.v.Y,value3.v.Y,value4.v.Y,amount);result.v.Z=Microsoft.Xna.Framework.MathHelper.CatmullRom(value1.v.Z,value2.v.Z,value3.v.Z,value4.v.Z,amount)},Clamp:function(value1,min,max){return new Microsoft.Xna.Framework.Vector3.$ctor3(Microsoft.Xna.Framework.MathHelper.Clamp$1(value1.X,min.X,max.X),Microsoft.Xna.Framework.MathHelper.Clamp$1(value1.Y,min.Y,max.Y),Microsoft.Xna.Framework.MathHelper.Clamp$1(value1.Z,min.Z,max.Z))},Clamp$1:function(value1,min,max,result){result.v.X=Microsoft.Xna.Framework.MathHelper.Clamp$1(value1.v.X,min.v.X,max.v.X);result.v.Y=Microsoft.Xna.Framework.MathHelper.Clamp$1(value1.v.Y,min.v.Y,max.v.Y);result.v.Z=Microsoft.Xna.Framework.MathHelper.Clamp$1(value1.v.Z,min.v.Z,max.v.Z)},Cross:function(vector1,vector2){return vector1={v:vector1},vector2={v:vector2},Microsoft.Xna.Framework.Vector3.Cross$1(vector1,vector2,vector1),vector1.v.$clone()},Cross$1:function(vector1,vector2,result){var x=vector1.v.Y*vector2.v.Z-vector2.v.Y*vector1.v.Z,y=-(vector1.v.X*vector2.v.Z-vector2.v.X*vector1.v.Z),z=vector1.v.X*vector2.v.Y-vector2.v.X*vector1.v.Y;result.v.X=x;result.v.Y=y;result.v.Z=z},Distance:function(value1,value2){value1={v:value1};value2={v:value2};var result={};return Microsoft.Xna.Framework.Vector3.DistanceSquared$1(value1,value2,result),Math.sqrt(result.v)},Distance$1:function(value1,value2,result){Microsoft.Xna.Framework.Vector3.DistanceSquared$1(value1,value2,result);result.v=Math.sqrt(result.v)},DistanceSquared:function(value1,value2){return(value1.X-value2.X)*(value1.X-value2.X)+(value1.Y-value2.Y)*(value1.Y-value2.Y)+(value1.Z-value2.Z)*(value1.Z-value2.Z)},DistanceSquared$1:function(value1,value2,result){result.v=(value1.v.X-value2.v.X)*(value1.v.X-value2.v.X)+(value1.v.Y-value2.v.Y)*(value1.v.Y-value2.v.Y)+(value1.v.Z-value2.v.Z)*(value1.v.Z-value2.v.Z)},Divide:function(value1,value2){return value1.X/=value2.X,value1.Y/=value2.Y,value1.Z/=value2.Z,value1.$clone()},Divide$1:function(value1,divider){var factor=1/divider;return value1.X*=factor,value1.Y*=factor,value1.Z*=factor,value1.$clone()},Divide$3:function(value1,divider,result){var factor=1/divider;result.v.X=value1.v.X*factor;result.v.Y=value1.v.Y*factor;result.v.Z=value1.v.Z*factor},Divide$2:function(value1,value2,result){result.v.X=value1.v.X/value2.v.X;result.v.Y=value1.v.Y/value2.v.Y;result.v.Z=value1.v.Z/value2.v.Z},Dot:function(value1,value2){return value1.X*value2.X+value1.Y*value2.Y+value1.Z*value2.Z},Dot$1:function(value1,value2,result){result.v=value1.v.X*value2.v.X+value1.v.Y*value2.v.Y+value1.v.Z*value2.v.Z},Hermite:function(value1,tangent1,value2,tangent2,amount){return new Microsoft.Xna.Framework.Vector3.$ctor3(Microsoft.Xna.Framework.MathHelper.Hermite(value1.X,tangent1.X,value2.X,tangent2.X,amount),Microsoft.Xna.Framework.MathHelper.Hermite(value1.Y,tangent1.Y,value2.Y,tangent2.Y,amount),Microsoft.Xna.Framework.MathHelper.Hermite(value1.Z,tangent1.Z,value2.Z,tangent2.Z,amount))},Hermite$1:function(value1,tangent1,value2,tangent2,amount,result){result.v.X=Microsoft.Xna.Framework.MathHelper.Hermite(value1.v.X,tangent1.v.X,value2.v.X,tangent2.v.X,amount);result.v.Y=Microsoft.Xna.Framework.MathHelper.Hermite(value1.v.Y,tangent1.v.Y,value2.v.Y,tangent2.v.Y,amount);result.v.Z=Microsoft.Xna.Framework.MathHelper.Hermite(value1.v.Z,tangent1.v.Z,value2.v.Z,tangent2.v.Z,amount)},Lerp:function(value1,value2,amount){return new Microsoft.Xna.Framework.Vector3.$ctor3(Microsoft.Xna.Framework.MathHelper.Lerp(value1.X,value2.X,amount),Microsoft.Xna.Framework.MathHelper.Lerp(value1.Y,value2.Y,amount),Microsoft.Xna.Framework.MathHelper.Lerp(value1.Z,value2.Z,amount))},Lerp$1:function(value1,value2,amount,result){result.v.X=Microsoft.Xna.Framework.MathHelper.Lerp(value1.v.X,value2.v.X,amount);result.v.Y=Microsoft.Xna.Framework.MathHelper.Lerp(value1.v.Y,value2.v.Y,amount);result.v.Z=Microsoft.Xna.Framework.MathHelper.Lerp(value1.v.Z,value2.v.Z,amount)},LerpPrecise:function(value1,value2,amount){return new Microsoft.Xna.Framework.Vector3.$ctor3(Microsoft.Xna.Framework.MathHelper.LerpPrecise(value1.X,value2.X,amount),Microsoft.Xna.Framework.MathHelper.LerpPrecise(value1.Y,value2.Y,amount),Microsoft.Xna.Framework.MathHelper.LerpPrecise(value1.Z,value2.Z,amount))},LerpPrecise$1:function(value1,value2,amount,result){result.v.X=Microsoft.Xna.Framework.MathHelper.LerpPrecise(value1.v.X,value2.v.X,amount);result.v.Y=Microsoft.Xna.Framework.MathHelper.LerpPrecise(value1.v.Y,value2.v.Y,amount);result.v.Z=Microsoft.Xna.Framework.MathHelper.LerpPrecise(value1.v.Z,value2.v.Z,amount)},Max:function(value1,value2){return new Microsoft.Xna.Framework.Vector3.$ctor3(Microsoft.Xna.Framework.MathHelper.Max$1(value1.X,value2.X),Microsoft.Xna.Framework.MathHelper.Max$1(value1.Y,value2.Y),Microsoft.Xna.Framework.MathHelper.Max$1(value1.Z,value2.Z))},Max$1:function(value1,value2,result){result.v.X=Microsoft.Xna.Framework.MathHelper.Max$1(value1.v.X,value2.v.X);result.v.Y=Microsoft.Xna.Framework.MathHelper.Max$1(value1.v.Y,value2.v.Y);result.v.Z=Microsoft.Xna.Framework.MathHelper.Max$1(value1.v.Z,value2.v.Z)},Min:function(value1,value2){return new Microsoft.Xna.Framework.Vector3.$ctor3(Microsoft.Xna.Framework.MathHelper.Min$1(value1.X,value2.X),Microsoft.Xna.Framework.MathHelper.Min$1(value1.Y,value2.Y),Microsoft.Xna.Framework.MathHelper.Min$1(value1.Z,value2.Z))},Min$1:function(value1,value2,result){result.v.X=Microsoft.Xna.Framework.MathHelper.Min$1(value1.v.X,value2.v.X);result.v.Y=Microsoft.Xna.Framework.MathHelper.Min$1(value1.v.Y,value2.v.Y);result.v.Z=Microsoft.Xna.Framework.MathHelper.Min$1(value1.v.Z,value2.v.Z)},Multiply:function(value1,value2){return value1.X*=value2.X,value1.Y*=value2.Y,value1.Z*=value2.Z,value1.$clone()},Multiply$1:function(value1,scaleFactor){return value1.X*=scaleFactor,value1.Y*=scaleFactor,value1.Z*=scaleFactor,value1.$clone()},Multiply$3:function(value1,scaleFactor,result){result.v.X=value1.v.X*scaleFactor;result.v.Y=value1.v.Y*scaleFactor;result.v.Z=value1.v.Z*scaleFactor},Multiply$2:function(value1,value2,result){result.v.X=value1.v.X*value2.v.X;result.v.Y=value1.v.Y*value2.v.Y;result.v.Z=value1.v.Z*value2.v.Z},Negate:function(value){return value=new Microsoft.Xna.Framework.Vector3.$ctor3(-value.X,-value.Y,-value.Z),value.$clone()},Negate$1:function(value,result){result.v.X=-value.v.X;result.v.Y=-value.v.Y;result.v.Z=-value.v.Z},Normalize:function(value){var factor=Math.sqrt(value.X*value.X+value.Y*value.Y+value.Z*value.Z);return factor=1/factor,new Microsoft.Xna.Framework.Vector3.$ctor3(value.X*factor,value.Y*factor,value.Z*factor)},Normalize$1:function(value,result){var factor=Math.sqrt(value.v.X*value.v.X+value.v.Y*value.v.Y+value.v.Z*value.v.Z);factor=1/factor;result.v.X=value.v.X*factor;result.v.Y=value.v.Y*factor;result.v.Z=value.v.Z*factor},Reflect:function(vector,normal){var reflectedVector=new Microsoft.Xna.Framework.Vector3,dotProduct=vector.X*normal.X+vector.Y*normal.Y+vector.Z*normal.Z;return reflectedVector.X=vector.X-2*normal.X*dotProduct,reflectedVector.Y=vector.Y-2*normal.Y*dotProduct,reflectedVector.Z=vector.Z-2*normal.Z*dotProduct,reflectedVector.$clone()},Reflect$1:function(vector,normal,result){var dotProduct=vector.v.X*normal.v.X+vector.v.Y*normal.v.Y+vector.v.Z*normal.v.Z;result.v.X=vector.v.X-2*normal.v.X*dotProduct;result.v.Y=vector.v.Y-2*normal.v.Y*dotProduct;result.v.Z=vector.v.Z-2*normal.v.Z*dotProduct},SmoothStep:function(value1,value2,amount){return new Microsoft.Xna.Framework.Vector3.$ctor3(Microsoft.Xna.Framework.MathHelper.SmoothStep(value1.X,value2.X,amount),Microsoft.Xna.Framework.MathHelper.SmoothStep(value1.Y,value2.Y,amount),Microsoft.Xna.Framework.MathHelper.SmoothStep(value1.Z,value2.Z,amount))},SmoothStep$1:function(value1,value2,amount,result){result.v.X=Microsoft.Xna.Framework.MathHelper.SmoothStep(value1.v.X,value2.v.X,amount);result.v.Y=Microsoft.Xna.Framework.MathHelper.SmoothStep(value1.v.Y,value2.v.Y,amount);result.v.Z=Microsoft.Xna.Framework.MathHelper.SmoothStep(value1.v.Z,value2.v.Z,amount)},Subtract:function(value1,value2){return value1.X-=value2.X,value1.Y-=value2.Y,value1.Z-=value2.Z,value1.$clone()},Subtract$1:function(value1,value2,result){result.v.X=value1.v.X-value2.v.X;result.v.Y=value1.v.Y-value2.v.Y;result.v.Z=value1.v.Z-value2.v.Z},Transform:function(position,matrix){return position={v:position},matrix={v:matrix},Microsoft.Xna.Framework.Vector3.Transform$2(position,matrix,position),position.v.$clone()},Transform$2:function(position,matrix,result){var x=position.v.X*matrix.v.M11+position.v.Y*matrix.v.M21+position.v.Z*matrix.v.M31+matrix.v.M41,y=position.v.X*matrix.v.M12+position.v.Y*matrix.v.M22+position.v.Z*matrix.v.M32+matrix.v.M42,z=position.v.X*matrix.v.M13+position.v.Y*matrix.v.M23+position.v.Z*matrix.v.M33+matrix.v.M43;result.v.X=x;result.v.Y=y;result.v.Z=z},Transform$1:function(value,rotation){value={v:value};rotation={v:rotation};var result={v:new Microsoft.Xna.Framework.Vector3};return Microsoft.Xna.Framework.Vector3.Transform$3(value,rotation,result),result.v.$clone()},Transform$3:function(value,rotation,result){var x=2*(rotation.v.Y*value.v.Z-rotation.v.Z*value.v.Y),y=2*(rotation.v.Z*value.v.X-rotation.v.X*value.v.Z),z=2*(rotation.v.X*value.v.Y-rotation.v.Y*value.v.X);result.v.X=value.v.X+x*rotation.v.W+(rotation.v.Y*z-rotation.v.Z*y);result.v.Y=value.v.Y+y*rotation.v.W+(rotation.v.Z*x-rotation.v.X*z);result.v.Z=value.v.Z+z*rotation.v.W+(rotation.v.X*y-rotation.v.Y*x)},Transform$6:function(sourceArray,sourceIndex,matrix,destinationArray,destinationIndex,length){var i,position;if(sourceArray==null)throw new System.ArgumentNullException.$ctor1("sourceArray");if(destinationArray==null)throw new System.ArgumentNullException.$ctor1("destinationArray");if(sourceArray.length<(sourceIndex+length|0))throw new System.ArgumentException.$ctor1("Source array length is lesser than sourceIndex + length");if(destinationArray.length<(destinationIndex+length|0))throw new System.ArgumentException.$ctor1("Destination array length is lesser than destinationIndex + length");for(i=0;i<length;i=i+1|0)position=sourceArray[System.Array.index(sourceIndex+i|0,sourceArray)].$clone(),destinationArray[System.Array.index(destinationIndex+i|0,destinationArray)]=new Microsoft.Xna.Framework.Vector3.$ctor3(position.X*matrix.v.M11+position.Y*matrix.v.M21+position.Z*matrix.v.M31+matrix.v.M41,position.X*matrix.v.M12+position.Y*matrix.v.M22+position.Z*matrix.v.M32+matrix.v.M42,position.X*matrix.v.M13+position.Y*matrix.v.M23+position.Z*matrix.v.M33+matrix.v.M43)},Transform$7:function(sourceArray,sourceIndex,rotation,destinationArray,destinationIndex,length){var i;if(sourceArray==null)throw new System.ArgumentNullException.$ctor1("sourceArray");if(destinationArray==null)throw new System.ArgumentNullException.$ctor1("destinationArray");if(sourceArray.length<(sourceIndex+length|0))throw new System.ArgumentException.$ctor1("Source array length is lesser than sourceIndex + length");if(destinationArray.length<(destinationIndex+length|0))throw new System.ArgumentException.$ctor1("Destination array length is lesser than destinationIndex + length");for(i=0;i<length;i=i+1|0){var position=sourceArray[System.Array.index(sourceIndex+i|0,sourceArray)].$clone(),x=2*(rotation.v.Y*position.Z-rotation.v.Z*position.Y),y=2*(rotation.v.Z*position.X-rotation.v.X*position.Z),z=2*(rotation.v.X*position.Y-rotation.v.Y*position.X);destinationArray[System.Array.index(destinationIndex+i|0,destinationArray)]=new Microsoft.Xna.Framework.Vector3.$ctor3(position.X+x*rotation.v.W+(rotation.v.Y*z-rotation.v.Z*y),position.Y+y*rotation.v.W+(rotation.v.Z*x-rotation.v.X*z),position.Z+z*rotation.v.W+(rotation.v.X*y-rotation.v.Y*x))}},Transform$4:function(sourceArray,matrix,destinationArray){var i,position;if(sourceArray==null)throw new System.ArgumentNullException.$ctor1("sourceArray");if(destinationArray==null)throw new System.ArgumentNullException.$ctor1("destinationArray");if(destinationArray.length<sourceArray.length)throw new System.ArgumentException.$ctor1("Destination array length is lesser than source array length");for(i=0;i<sourceArray.length;i=i+1|0)position=sourceArray[System.Array.index(i,sourceArray)].$clone(),destinationArray[System.Array.index(i,destinationArray)]=new Microsoft.Xna.Framework.Vector3.$ctor3(position.X*matrix.v.M11+position.Y*matrix.v.M21+position.Z*matrix.v.M31+matrix.v.M41,position.X*matrix.v.M12+position.Y*matrix.v.M22+position.Z*matrix.v.M32+matrix.v.M42,position.X*matrix.v.M13+position.Y*matrix.v.M23+position.Z*matrix.v.M33+matrix.v.M43)},Transform$5:function(sourceArray,rotation,destinationArray){var i;if(sourceArray==null)throw new System.ArgumentNullException.$ctor1("sourceArray");if(destinationArray==null)throw new System.ArgumentNullException.$ctor1("destinationArray");if(destinationArray.length<sourceArray.length)throw new System.ArgumentException.$ctor1("Destination array length is lesser than source array length");for(i=0;i<sourceArray.length;i=i+1|0){var position=sourceArray[System.Array.index(i,sourceArray)].$clone(),x=2*(rotation.v.Y*position.Z-rotation.v.Z*position.Y),y=2*(rotation.v.Z*position.X-rotation.v.X*position.Z),z=2*(rotation.v.X*position.Y-rotation.v.Y*position.X);destinationArray[System.Array.index(i,destinationArray)]=new Microsoft.Xna.Framework.Vector3.$ctor3(position.X+x*rotation.v.W+(rotation.v.Y*z-rotation.v.Z*y),position.Y+y*rotation.v.W+(rotation.v.Z*x-rotation.v.X*z),position.Z+z*rotation.v.W+(rotation.v.X*y-rotation.v.Y*x))}},TransformNormal:function(normal,matrix){return normal={v:normal},matrix={v:matrix},Microsoft.Xna.Framework.Vector3.TransformNormal$1(normal,matrix,normal),normal.v.$clone()},TransformNormal$1:function(normal,matrix,result){var x=normal.v.X*matrix.v.M11+normal.v.Y*matrix.v.M21+normal.v.Z*matrix.v.M31,y=normal.v.X*matrix.v.M12+normal.v.Y*matrix.v.M22+normal.v.Z*matrix.v.M32,z=normal.v.X*matrix.v.M13+normal.v.Y*matrix.v.M23+normal.v.Z*matrix.v.M33;result.v.X=x;result.v.Y=y;result.v.Z=z},TransformNormal$3:function(sourceArray,sourceIndex,matrix,destinationArray,destinationIndex,length){var x,normal;if(sourceArray==null)throw new System.ArgumentNullException.$ctor1("sourceArray");if(destinationArray==null)throw new System.ArgumentNullException.$ctor1("destinationArray");if(sourceArray.length<(sourceIndex+length|0))throw new System.ArgumentException.$ctor1("Source array length is lesser than sourceIndex + length");if(destinationArray.length<(destinationIndex+length|0))throw new System.ArgumentException.$ctor1("Destination array length is lesser than destinationIndex + length");for(x=0;x<length;x=x+1|0)normal=sourceArray[System.Array.index(sourceIndex+x|0,sourceArray)].$clone(),destinationArray[System.Array.index(destinationIndex+x|0,destinationArray)]=new Microsoft.Xna.Framework.Vector3.$ctor3(normal.X*matrix.v.M11+normal.Y*matrix.v.M21+normal.Z*matrix.v.M31,normal.X*matrix.v.M12+normal.Y*matrix.v.M22+normal.Z*matrix.v.M32,normal.X*matrix.v.M13+normal.Y*matrix.v.M23+normal.Z*matrix.v.M33)},TransformNormal$2:function(sourceArray,matrix,destinationArray){var i,normal;if(sourceArray==null)throw new System.ArgumentNullException.$ctor1("sourceArray");if(destinationArray==null)throw new System.ArgumentNullException.$ctor1("destinationArray");if(destinationArray.length<sourceArray.length)throw new System.ArgumentException.$ctor1("Destination array length is lesser than source array length");for(i=0;i<sourceArray.length;i=i+1|0)normal=sourceArray[System.Array.index(i,sourceArray)].$clone(),destinationArray[System.Array.index(i,destinationArray)]=new Microsoft.Xna.Framework.Vector3.$ctor3(normal.X*matrix.v.M11+normal.Y*matrix.v.M21+normal.Z*matrix.v.M31,normal.X*matrix.v.M12+normal.Y*matrix.v.M22+normal.Z*matrix.v.M32,normal.X*matrix.v.M13+normal.Y*matrix.v.M23+normal.Z*matrix.v.M33)},op_Equality:function(value1,value2){return value1.X===value2.X&&value1.Y===value2.Y&&value1.Z===value2.Z},op_Inequality:function(value1,value2){return!Microsoft.Xna.Framework.Vector3.op_Equality(value1.$clone(),value2.$clone())},op_Addition:function(value1,value2){return value1.X+=value2.X,value1.Y+=value2.Y,value1.Z+=value2.Z,value1.$clone()},op_UnaryNegation:function(value){return value=new Microsoft.Xna.Framework.Vector3.$ctor3(-value.X,-value.Y,-value.Z),value.$clone()},op_Subtraction:function(value1,value2){return value1.X-=value2.X,value1.Y-=value2.Y,value1.Z-=value2.Z,value1.$clone()},op_Multiply:function(value1,value2){return value1.X*=value2.X,value1.Y*=value2.Y,value1.Z*=value2.Z,value1.$clone()},op_Multiply$1:function(value,scaleFactor){return value.X*=scaleFactor,value.Y*=scaleFactor,value.Z*=scaleFactor,value.$clone()},op_Multiply$2:function(scaleFactor,value){return value.X*=scaleFactor,value.Y*=scaleFactor,value.Z*=scaleFactor,value.$clone()},op_Division:function(value1,value2){return value1.X/=value2.X,value1.Y/=value2.Y,value1.Z/=value2.Z,value1.$clone()},op_Division$1:function(value1,divider){var factor=1/divider;return value1.X*=factor,value1.Y*=factor,value1.Z*=factor,value1.$clone()},getDefaultValue:function(){return new Microsoft.Xna.Framework.Vector3}}},fields:{X:0,Y:0,Z:0},props:{DebugDisplayString:{get:function(){return System.String.concat([System.Single.format(this.X),"  ",System.Single.format(this.Y),"  ",System.Single.format(this.Z)])}}},alias:["equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Vector3$equalsT"],ctors:{$ctor3:function(x,y,z){this.$initialize();this.X=x;this.Y=y;this.Z=z},$ctor2:function(value){this.$initialize();this.X=value;this.Y=value;this.Z=value},$ctor1:function(value,z){this.$initialize();this.X=value.X;this.Y=value.Y;this.Z=z},ctor:function(){this.$initialize()}},methods:{equals:function(obj){if(!Bridge.is(obj,Microsoft.Xna.Framework.Vector3))return!1;var other=System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Vector3),Microsoft.Xna.Framework.Vector3));return this.X===other.X&&this.Y===other.Y&&this.Z===other.Z},equalsT:function(other){return this.X===other.X&&this.Y===other.Y&&this.Z===other.Z},getHashCode:function(){var hashCode=System.Single.getHashCode(this.X);return hashCode=Bridge.Int.mul(hashCode,397)^System.Single.getHashCode(this.Y),Bridge.Int.mul(hashCode,397)^System.Single.getHashCode(this.Z)},Length:function(){return Math.sqrt(this.X*this.X+this.Y*this.Y+this.Z*this.Z)},LengthSquared:function(){return this.X*this.X+this.Y*this.Y+this.Z*this.Z},Normalize:function(){var factor=Math.sqrt(this.X*this.X+this.Y*this.Y+this.Z*this.Z);factor=1/factor;this.X*=factor;this.Y*=factor;this.Z*=factor},toString:function(){var sb=new System.Text.StringBuilder("",32);return sb.append("{X:"),sb.append(this.X),sb.append(" Y:"),sb.append(this.Y),sb.append(" Z:"),sb.append(this.Z),sb.append("}"),sb.toString()},Deconstruct:function(x,y,z){x.v=this.X;y.v=this.Y;z.v=this.Z},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Vector3;return s.X=this.X,s.Y=this.Y,s.Z=this.Z,s}}});Bridge.define("Microsoft.Xna.Framework.Vector4",{inherits:function(){return[System.IEquatable$1(Microsoft.Xna.Framework.Vector4)]},$kind:"struct",statics:{fields:{zero:null,one:null,unitX:null,unitY:null,unitZ:null,unitW:null},props:{Zero:{get:function(){return Microsoft.Xna.Framework.Vector4.zero.$clone()}},One:{get:function(){return Microsoft.Xna.Framework.Vector4.one.$clone()}},UnitX:{get:function(){return Microsoft.Xna.Framework.Vector4.unitX.$clone()}},UnitY:{get:function(){return Microsoft.Xna.Framework.Vector4.unitY.$clone()}},UnitZ:{get:function(){return Microsoft.Xna.Framework.Vector4.unitZ.$clone()}},UnitW:{get:function(){return Microsoft.Xna.Framework.Vector4.unitW.$clone()}}},ctors:{init:function(){this.zero=new Microsoft.Xna.Framework.Vector4;this.one=new Microsoft.Xna.Framework.Vector4;this.unitX=new Microsoft.Xna.Framework.Vector4;this.unitY=new Microsoft.Xna.Framework.Vector4;this.unitZ=new Microsoft.Xna.Framework.Vector4;this.unitW=new Microsoft.Xna.Framework.Vector4;this.one=new Microsoft.Xna.Framework.Vector4.$ctor4(1,1,1,1);this.unitX=new Microsoft.Xna.Framework.Vector4.$ctor4(1,0,0,0);this.unitY=new Microsoft.Xna.Framework.Vector4.$ctor4(0,1,0,0);this.unitZ=new Microsoft.Xna.Framework.Vector4.$ctor4(0,0,1,0);this.unitW=new Microsoft.Xna.Framework.Vector4.$ctor4(0,0,0,1)}},methods:{Add:function(value1,value2){return value1.X+=value2.X,value1.Y+=value2.Y,value1.Z+=value2.Z,value1.W+=value2.W,value1.$clone()},Add$1:function(value1,value2,result){result.v.X=value1.v.X+value2.v.X;result.v.Y=value1.v.Y+value2.v.Y;result.v.Z=value1.v.Z+value2.v.Z;result.v.W=value1.v.W+value2.v.W},Barycentric:function(value1,value2,value3,amount1,amount2){return new Microsoft.Xna.Framework.Vector4.$ctor4(Microsoft.Xna.Framework.MathHelper.Barycentric(value1.X,value2.X,value3.X,amount1,amount2),Microsoft.Xna.Framework.MathHelper.Barycentric(value1.Y,value2.Y,value3.Y,amount1,amount2),Microsoft.Xna.Framework.MathHelper.Barycentric(value1.Z,value2.Z,value3.Z,amount1,amount2),Microsoft.Xna.Framework.MathHelper.Barycentric(value1.W,value2.W,value3.W,amount1,amount2))},Barycentric$1:function(value1,value2,value3,amount1,amount2,result){result.v.X=Microsoft.Xna.Framework.MathHelper.Barycentric(value1.v.X,value2.v.X,value3.v.X,amount1,amount2);result.v.Y=Microsoft.Xna.Framework.MathHelper.Barycentric(value1.v.Y,value2.v.Y,value3.v.Y,amount1,amount2);result.v.Z=Microsoft.Xna.Framework.MathHelper.Barycentric(value1.v.Z,value2.v.Z,value3.v.Z,amount1,amount2);result.v.W=Microsoft.Xna.Framework.MathHelper.Barycentric(value1.v.W,value2.v.W,value3.v.W,amount1,amount2)},CatmullRom:function(value1,value2,value3,value4,amount){return new Microsoft.Xna.Framework.Vector4.$ctor4(Microsoft.Xna.Framework.MathHelper.CatmullRom(value1.X,value2.X,value3.X,value4.X,amount),Microsoft.Xna.Framework.MathHelper.CatmullRom(value1.Y,value2.Y,value3.Y,value4.Y,amount),Microsoft.Xna.Framework.MathHelper.CatmullRom(value1.Z,value2.Z,value3.Z,value4.Z,amount),Microsoft.Xna.Framework.MathHelper.CatmullRom(value1.W,value2.W,value3.W,value4.W,amount))},CatmullRom$1:function(value1,value2,value3,value4,amount,result){result.v.X=Microsoft.Xna.Framework.MathHelper.CatmullRom(value1.v.X,value2.v.X,value3.v.X,value4.v.X,amount);result.v.Y=Microsoft.Xna.Framework.MathHelper.CatmullRom(value1.v.Y,value2.v.Y,value3.v.Y,value4.v.Y,amount);result.v.Z=Microsoft.Xna.Framework.MathHelper.CatmullRom(value1.v.Z,value2.v.Z,value3.v.Z,value4.v.Z,amount);result.v.W=Microsoft.Xna.Framework.MathHelper.CatmullRom(value1.v.W,value2.v.W,value3.v.W,value4.v.W,amount)},Clamp:function(value1,min,max){return new Microsoft.Xna.Framework.Vector4.$ctor4(Microsoft.Xna.Framework.MathHelper.Clamp$1(value1.X,min.X,max.X),Microsoft.Xna.Framework.MathHelper.Clamp$1(value1.Y,min.Y,max.Y),Microsoft.Xna.Framework.MathHelper.Clamp$1(value1.Z,min.Z,max.Z),Microsoft.Xna.Framework.MathHelper.Clamp$1(value1.W,min.W,max.W))},Clamp$1:function(value1,min,max,result){result.v.X=Microsoft.Xna.Framework.MathHelper.Clamp$1(value1.v.X,min.v.X,max.v.X);result.v.Y=Microsoft.Xna.Framework.MathHelper.Clamp$1(value1.v.Y,min.v.Y,max.v.Y);result.v.Z=Microsoft.Xna.Framework.MathHelper.Clamp$1(value1.v.Z,min.v.Z,max.v.Z);result.v.W=Microsoft.Xna.Framework.MathHelper.Clamp$1(value1.v.W,min.v.W,max.v.W)},Distance:function(value1,value2){return Math.sqrt(Microsoft.Xna.Framework.Vector4.DistanceSquared(value1.$clone(),value2.$clone()))},Distance$1:function(value1,value2,result){result.v=Math.sqrt(Microsoft.Xna.Framework.Vector4.DistanceSquared(value1.v.$clone(),value2.v.$clone()))},DistanceSquared:function(value1,value2){return(value1.W-value2.W)*(value1.W-value2.W)+(value1.X-value2.X)*(value1.X-value2.X)+(value1.Y-value2.Y)*(value1.Y-value2.Y)+(value1.Z-value2.Z)*(value1.Z-value2.Z)},DistanceSquared$1:function(value1,value2,result){result.v=(value1.v.W-value2.v.W)*(value1.v.W-value2.v.W)+(value1.v.X-value2.v.X)*(value1.v.X-value2.v.X)+(value1.v.Y-value2.v.Y)*(value1.v.Y-value2.v.Y)+(value1.v.Z-value2.v.Z)*(value1.v.Z-value2.v.Z)},Divide:function(value1,value2){return value1.W/=value2.W,value1.X/=value2.X,value1.Y/=value2.Y,value1.Z/=value2.Z,value1.$clone()},Divide$1:function(value1,divider){var factor=1/divider;return value1.W*=factor,value1.X*=factor,value1.Y*=factor,value1.Z*=factor,value1.$clone()},Divide$3:function(value1,divider,result){var factor=1/divider;result.v.W=value1.v.W*factor;result.v.X=value1.v.X*factor;result.v.Y=value1.v.Y*factor;result.v.Z=value1.v.Z*factor},Divide$2:function(value1,value2,result){result.v.W=value1.v.W/value2.v.W;result.v.X=value1.v.X/value2.v.X;result.v.Y=value1.v.Y/value2.v.Y;result.v.Z=value1.v.Z/value2.v.Z},Dot:function(value1,value2){return value1.X*value2.X+value1.Y*value2.Y+value1.Z*value2.Z+value1.W*value2.W},Dot$1:function(value1,value2,result){result.v=value1.v.X*value2.v.X+value1.v.Y*value2.v.Y+value1.v.Z*value2.v.Z+value1.v.W*value2.v.W},Hermite:function(value1,tangent1,value2,tangent2,amount){return new Microsoft.Xna.Framework.Vector4.$ctor4(Microsoft.Xna.Framework.MathHelper.Hermite(value1.X,tangent1.X,value2.X,tangent2.X,amount),Microsoft.Xna.Framework.MathHelper.Hermite(value1.Y,tangent1.Y,value2.Y,tangent2.Y,amount),Microsoft.Xna.Framework.MathHelper.Hermite(value1.Z,tangent1.Z,value2.Z,tangent2.Z,amount),Microsoft.Xna.Framework.MathHelper.Hermite(value1.W,tangent1.W,value2.W,tangent2.W,amount))},Hermite$1:function(value1,tangent1,value2,tangent2,amount,result){result.v.W=Microsoft.Xna.Framework.MathHelper.Hermite(value1.v.W,tangent1.v.W,value2.v.W,tangent2.v.W,amount);result.v.X=Microsoft.Xna.Framework.MathHelper.Hermite(value1.v.X,tangent1.v.X,value2.v.X,tangent2.v.X,amount);result.v.Y=Microsoft.Xna.Framework.MathHelper.Hermite(value1.v.Y,tangent1.v.Y,value2.v.Y,tangent2.v.Y,amount);result.v.Z=Microsoft.Xna.Framework.MathHelper.Hermite(value1.v.Z,tangent1.v.Z,value2.v.Z,tangent2.v.Z,amount)},Lerp:function(value1,value2,amount){return new Microsoft.Xna.Framework.Vector4.$ctor4(Microsoft.Xna.Framework.MathHelper.Lerp(value1.X,value2.X,amount),Microsoft.Xna.Framework.MathHelper.Lerp(value1.Y,value2.Y,amount),Microsoft.Xna.Framework.MathHelper.Lerp(value1.Z,value2.Z,amount),Microsoft.Xna.Framework.MathHelper.Lerp(value1.W,value2.W,amount))},Lerp$1:function(value1,value2,amount,result){result.v.X=Microsoft.Xna.Framework.MathHelper.Lerp(value1.v.X,value2.v.X,amount);result.v.Y=Microsoft.Xna.Framework.MathHelper.Lerp(value1.v.Y,value2.v.Y,amount);result.v.Z=Microsoft.Xna.Framework.MathHelper.Lerp(value1.v.Z,value2.v.Z,amount);result.v.W=Microsoft.Xna.Framework.MathHelper.Lerp(value1.v.W,value2.v.W,amount)},LerpPrecise:function(value1,value2,amount){return new Microsoft.Xna.Framework.Vector4.$ctor4(Microsoft.Xna.Framework.MathHelper.LerpPrecise(value1.X,value2.X,amount),Microsoft.Xna.Framework.MathHelper.LerpPrecise(value1.Y,value2.Y,amount),Microsoft.Xna.Framework.MathHelper.LerpPrecise(value1.Z,value2.Z,amount),Microsoft.Xna.Framework.MathHelper.LerpPrecise(value1.W,value2.W,amount))},LerpPrecise$1:function(value1,value2,amount,result){result.v.X=Microsoft.Xna.Framework.MathHelper.LerpPrecise(value1.v.X,value2.v.X,amount);result.v.Y=Microsoft.Xna.Framework.MathHelper.LerpPrecise(value1.v.Y,value2.v.Y,amount);result.v.Z=Microsoft.Xna.Framework.MathHelper.LerpPrecise(value1.v.Z,value2.v.Z,amount);result.v.W=Microsoft.Xna.Framework.MathHelper.LerpPrecise(value1.v.W,value2.v.W,amount)},Max:function(value1,value2){return new Microsoft.Xna.Framework.Vector4.$ctor4(Microsoft.Xna.Framework.MathHelper.Max$1(value1.X,value2.X),Microsoft.Xna.Framework.MathHelper.Max$1(value1.Y,value2.Y),Microsoft.Xna.Framework.MathHelper.Max$1(value1.Z,value2.Z),Microsoft.Xna.Framework.MathHelper.Max$1(value1.W,value2.W))},Max$1:function(value1,value2,result){result.v.X=Microsoft.Xna.Framework.MathHelper.Max$1(value1.v.X,value2.v.X);result.v.Y=Microsoft.Xna.Framework.MathHelper.Max$1(value1.v.Y,value2.v.Y);result.v.Z=Microsoft.Xna.Framework.MathHelper.Max$1(value1.v.Z,value2.v.Z);result.v.W=Microsoft.Xna.Framework.MathHelper.Max$1(value1.v.W,value2.v.W)},Min:function(value1,value2){return new Microsoft.Xna.Framework.Vector4.$ctor4(Microsoft.Xna.Framework.MathHelper.Min$1(value1.X,value2.X),Microsoft.Xna.Framework.MathHelper.Min$1(value1.Y,value2.Y),Microsoft.Xna.Framework.MathHelper.Min$1(value1.Z,value2.Z),Microsoft.Xna.Framework.MathHelper.Min$1(value1.W,value2.W))},Min$1:function(value1,value2,result){result.v.X=Microsoft.Xna.Framework.MathHelper.Min$1(value1.v.X,value2.v.X);result.v.Y=Microsoft.Xna.Framework.MathHelper.Min$1(value1.v.Y,value2.v.Y);result.v.Z=Microsoft.Xna.Framework.MathHelper.Min$1(value1.v.Z,value2.v.Z);result.v.W=Microsoft.Xna.Framework.MathHelper.Min$1(value1.v.W,value2.v.W)},Multiply:function(value1,value2){return value1.W*=value2.W,value1.X*=value2.X,value1.Y*=value2.Y,value1.Z*=value2.Z,value1.$clone()},Multiply$1:function(value1,scaleFactor){return value1.W*=scaleFactor,value1.X*=scaleFactor,value1.Y*=scaleFactor,value1.Z*=scaleFactor,value1.$clone()},Multiply$3:function(value1,scaleFactor,result){result.v.W=value1.v.W*scaleFactor;result.v.X=value1.v.X*scaleFactor;result.v.Y=value1.v.Y*scaleFactor;result.v.Z=value1.v.Z*scaleFactor},Multiply$2:function(value1,value2,result){result.v.W=value1.v.W*value2.v.W;result.v.X=value1.v.X*value2.v.X;result.v.Y=value1.v.Y*value2.v.Y;result.v.Z=value1.v.Z*value2.v.Z},Negate:function(value){return value=new Microsoft.Xna.Framework.Vector4.$ctor4(-value.X,-value.Y,-value.Z,-value.W),value.$clone()},Negate$1:function(value,result){result.v.X=-value.v.X;result.v.Y=-value.v.Y;result.v.Z=-value.v.Z;result.v.W=-value.v.W},Normalize:function(value){var factor=Math.sqrt(value.X*value.X+value.Y*value.Y+value.Z*value.Z+value.W*value.W);return factor=1/factor,new Microsoft.Xna.Framework.Vector4.$ctor4(value.X*factor,value.Y*factor,value.Z*factor,value.W*factor)},Normalize$1:function(value,result){var factor=Math.sqrt(value.v.X*value.v.X+value.v.Y*value.v.Y+value.v.Z*value.v.Z+value.v.W*value.v.W);factor=1/factor;result.v.W=value.v.W*factor;result.v.X=value.v.X*factor;result.v.Y=value.v.Y*factor;result.v.Z=value.v.Z*factor},SmoothStep:function(value1,value2,amount){return new Microsoft.Xna.Framework.Vector4.$ctor4(Microsoft.Xna.Framework.MathHelper.SmoothStep(value1.X,value2.X,amount),Microsoft.Xna.Framework.MathHelper.SmoothStep(value1.Y,value2.Y,amount),Microsoft.Xna.Framework.MathHelper.SmoothStep(value1.Z,value2.Z,amount),Microsoft.Xna.Framework.MathHelper.SmoothStep(value1.W,value2.W,amount))},SmoothStep$1:function(value1,value2,amount,result){result.v.X=Microsoft.Xna.Framework.MathHelper.SmoothStep(value1.v.X,value2.v.X,amount);result.v.Y=Microsoft.Xna.Framework.MathHelper.SmoothStep(value1.v.Y,value2.v.Y,amount);result.v.Z=Microsoft.Xna.Framework.MathHelper.SmoothStep(value1.v.Z,value2.v.Z,amount);result.v.W=Microsoft.Xna.Framework.MathHelper.SmoothStep(value1.v.W,value2.v.W,amount)},Subtract:function(value1,value2){return value1.W-=value2.W,value1.X-=value2.X,value1.Y-=value2.Y,value1.Z-=value2.Z,value1.$clone()},Subtract$1:function(value1,value2,result){result.v.W=value1.v.W-value2.v.W;result.v.X=value1.v.X-value2.v.X;result.v.Y=value1.v.Y-value2.v.Y;result.v.Z=value1.v.Z-value2.v.Z},Transform:function(value,matrix){value={v:value};matrix={v:matrix};var result={v:new Microsoft.Xna.Framework.Vector4};return Microsoft.Xna.Framework.Vector4.Transform$6(value,matrix,result),result.v.$clone()},Transform$1:function(value,rotation){value={v:value};rotation={v:rotation};var result={v:new Microsoft.Xna.Framework.Vector4};return Microsoft.Xna.Framework.Vector4.Transform$7(value,rotation,result),result.v.$clone()},Transform$2:function(value,matrix){value={v:value};matrix={v:matrix};var result={v:new Microsoft.Xna.Framework.Vector4};return Microsoft.Xna.Framework.Vector4.Transform$8(value,matrix,result),result.v.$clone()},Transform$3:function(value,rotation){value={v:value};rotation={v:rotation};var result={v:new Microsoft.Xna.Framework.Vector4};return Microsoft.Xna.Framework.Vector4.Transform$9(value,rotation,result),result.v.$clone()},Transform$4:function(value,matrix){return value={v:value},matrix={v:matrix},Microsoft.Xna.Framework.Vector4.Transform$10(value,matrix,value),value.v.$clone()},Transform$5:function(value,rotation){value={v:value};rotation={v:rotation};var result={v:new Microsoft.Xna.Framework.Vector4};return Microsoft.Xna.Framework.Vector4.Transform$11(value,rotation,result),result.v.$clone()},Transform$6:function(value,matrix,result){result.v.X=value.v.X*matrix.v.M11+value.v.Y*matrix.v.M21+matrix.v.M41;result.v.Y=value.v.X*matrix.v.M12+value.v.Y*matrix.v.M22+matrix.v.M42;result.v.Z=value.v.X*matrix.v.M13+value.v.Y*matrix.v.M23+matrix.v.M43;result.v.W=value.v.X*matrix.v.M14+value.v.Y*matrix.v.M24+matrix.v.M44},Transform$7:function(value,rotation,result){throw new System.NotImplementedException.ctor;},Transform$8:function(value,matrix,result){result.v.X=value.v.X*matrix.v.M11+value.v.Y*matrix.v.M21+value.v.Z*matrix.v.M31+matrix.v.M41;result.v.Y=value.v.X*matrix.v.M12+value.v.Y*matrix.v.M22+value.v.Z*matrix.v.M32+matrix.v.M42;result.v.Z=value.v.X*matrix.v.M13+value.v.Y*matrix.v.M23+value.v.Z*matrix.v.M33+matrix.v.M43;result.v.W=value.v.X*matrix.v.M14+value.v.Y*matrix.v.M24+value.v.Z*matrix.v.M34+matrix.v.M44},Transform$9:function(value,rotation,result){throw new System.NotImplementedException.ctor;},Transform$10:function(value,matrix,result){var x=value.v.X*matrix.v.M11+value.v.Y*matrix.v.M21+value.v.Z*matrix.v.M31+value.v.W*matrix.v.M41,y=value.v.X*matrix.v.M12+value.v.Y*matrix.v.M22+value.v.Z*matrix.v.M32+value.v.W*matrix.v.M42,z=value.v.X*matrix.v.M13+value.v.Y*matrix.v.M23+value.v.Z*matrix.v.M33+value.v.W*matrix.v.M43,w=value.v.X*matrix.v.M14+value.v.Y*matrix.v.M24+value.v.Z*matrix.v.M34+value.v.W*matrix.v.M44;result.v.X=x;result.v.Y=y;result.v.Z=z;result.v.W=w},Transform$11:function(value,rotation,result){throw new System.NotImplementedException.ctor;},Transform$14:function(sourceArray,sourceIndex,matrix,destinationArray,destinationIndex,length){var i,value;if(sourceArray==null)throw new System.ArgumentNullException.$ctor1("sourceArray");if(destinationArray==null)throw new System.ArgumentNullException.$ctor1("destinationArray");if(sourceArray.length<(sourceIndex+length|0))throw new System.ArgumentException.$ctor1("Source array length is lesser than sourceIndex + length");if(destinationArray.length<(destinationIndex+length|0))throw new System.ArgumentException.$ctor1("Destination array length is lesser than destinationIndex + length");for(i=0;i<length;i=i+1|0)value=sourceArray[System.Array.index(sourceIndex+i|0,sourceArray)].$clone(),destinationArray[System.Array.index(destinationIndex+i|0,destinationArray)]=Microsoft.Xna.Framework.Vector4.Transform$4(value.$clone(),matrix.v.$clone())},Transform$15:function(sourceArray,sourceIndex,rotation,destinationArray,destinationIndex,length){var i,value;if(sourceArray==null)throw new System.ArgumentNullException.$ctor1("sourceArray");if(destinationArray==null)throw new System.ArgumentNullException.$ctor1("destinationArray");if(sourceArray.length<(sourceIndex+length|0))throw new System.ArgumentException.$ctor1("Source array length is lesser than sourceIndex + length");if(destinationArray.length<(destinationIndex+length|0))throw new System.ArgumentException.$ctor1("Destination array length is lesser than destinationIndex + length");for(i=0;i<length;i=i+1|0)value=sourceArray[System.Array.index(sourceIndex+i|0,sourceArray)].$clone(),destinationArray[System.Array.index(destinationIndex+i|0,destinationArray)]=Microsoft.Xna.Framework.Vector4.Transform$5(value.$clone(),rotation.v.$clone())},Transform$12:function(sourceArray,matrix,destinationArray){var i,value;if(sourceArray==null)throw new System.ArgumentNullException.$ctor1("sourceArray");if(destinationArray==null)throw new System.ArgumentNullException.$ctor1("destinationArray");if(destinationArray.length<sourceArray.length)throw new System.ArgumentException.$ctor1("Destination array length is lesser than source array length");for(i=0;i<sourceArray.length;i=i+1|0)value=sourceArray[System.Array.index(i,sourceArray)].$clone(),destinationArray[System.Array.index(i,destinationArray)]=Microsoft.Xna.Framework.Vector4.Transform$4(value.$clone(),matrix.v.$clone())},Transform$13:function(sourceArray,rotation,destinationArray){var i,value;if(sourceArray==null)throw new System.ArgumentNullException.$ctor1("sourceArray");if(destinationArray==null)throw new System.ArgumentNullException.$ctor1("destinationArray");if(destinationArray.length<sourceArray.length)throw new System.ArgumentException.$ctor1("Destination array length is lesser than source array length");for(i=0;i<sourceArray.length;i=i+1|0)value=sourceArray[System.Array.index(i,sourceArray)].$clone(),destinationArray[System.Array.index(i,destinationArray)]=Microsoft.Xna.Framework.Vector4.Transform$5(value.$clone(),rotation.v.$clone())},op_UnaryNegation:function(value){return new Microsoft.Xna.Framework.Vector4.$ctor4(-value.X,-value.Y,-value.Z,-value.W)},op_Equality:function(value1,value2){return value1.W===value2.W&&value1.X===value2.X&&value1.Y===value2.Y&&value1.Z===value2.Z},op_Inequality:function(value1,value2){return!Microsoft.Xna.Framework.Vector4.op_Equality(value1.$clone(),value2.$clone())},op_Addition:function(value1,value2){return value1.W+=value2.W,value1.X+=value2.X,value1.Y+=value2.Y,value1.Z+=value2.Z,value1.$clone()},op_Subtraction:function(value1,value2){return value1.W-=value2.W,value1.X-=value2.X,value1.Y-=value2.Y,value1.Z-=value2.Z,value1.$clone()},op_Multiply:function(value1,value2){return value1.W*=value2.W,value1.X*=value2.X,value1.Y*=value2.Y,value1.Z*=value2.Z,value1.$clone()},op_Multiply$1:function(value,scaleFactor){return value.W*=scaleFactor,value.X*=scaleFactor,value.Y*=scaleFactor,value.Z*=scaleFactor,value.$clone()},op_Multiply$2:function(scaleFactor,value){return value.W*=scaleFactor,value.X*=scaleFactor,value.Y*=scaleFactor,value.Z*=scaleFactor,value.$clone()},op_Division:function(value1,value2){return value1.W/=value2.W,value1.X/=value2.X,value1.Y/=value2.Y,value1.Z/=value2.Z,value1.$clone()},op_Division$1:function(value1,divider){var factor=1/divider;return value1.W*=factor,value1.X*=factor,value1.Y*=factor,value1.Z*=factor,value1.$clone()},getDefaultValue:function(){return new Microsoft.Xna.Framework.Vector4}}},fields:{X:0,Y:0,Z:0,W:0},props:{DebugDisplayString:{get:function(){return System.String.concat([System.Single.format(this.X),"  ",System.Single.format(this.Y),"  ",System.Single.format(this.Z),"  ",System.Single.format(this.W)])}}},alias:["equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Vector4$equalsT"],ctors:{$ctor4:function(x,y,z,w){this.$initialize();this.X=x;this.Y=y;this.Z=z;this.W=w},$ctor1:function(value,z,w){this.$initialize();this.X=value.X;this.Y=value.Y;this.Z=z;this.W=w},$ctor2:function(value,w){this.$initialize();this.X=value.X;this.Y=value.Y;this.Z=value.Z;this.W=w},$ctor3:function(value){this.$initialize();this.X=value;this.Y=value;this.Z=value;this.W=value},ctor:function(){this.$initialize()}},methods:{equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Vector4)?Microsoft.Xna.Framework.Vector4.op_Equality(this,System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Vector4),Microsoft.Xna.Framework.Vector4))):!1},equalsT:function(other){return this.W===other.W&&this.X===other.X&&this.Y===other.Y&&this.Z===other.Z},getHashCode:function(){var hashCode=System.Single.getHashCode(this.W);return hashCode=Bridge.Int.mul(hashCode,397)^System.Single.getHashCode(this.X),hashCode=Bridge.Int.mul(hashCode,397)^System.Single.getHashCode(this.Y),Bridge.Int.mul(hashCode,397)^System.Single.getHashCode(this.Z)},Length:function(){return Math.sqrt(this.X*this.X+this.Y*this.Y+this.Z*this.Z+this.W*this.W)},LengthSquared:function(){return this.X*this.X+this.Y*this.Y+this.Z*this.Z+this.W*this.W},Normalize:function(){var factor=Math.sqrt(this.X*this.X+this.Y*this.Y+this.Z*this.Z+this.W*this.W);factor=1/factor;this.X*=factor;this.Y*=factor;this.Z*=factor;this.W*=factor},toString:function(){return"{X:"+System.Single.format(this.X)+" Y:"+System.Single.format(this.Y)+" Z:"+System.Single.format(this.Z)+" W:"+System.Single.format(this.W)+"}"},Deconstruct:function(x,y,z,w){x.v=this.X;y.v=this.Y;z.v=this.Z;w.v=this.W},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Vector4;return s.X=this.X,s.Y=this.Y,s.Z=this.Z,s.W=this.W,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.VertexBuffer",{inherits:[Microsoft.Xna.Framework.Graphics.GraphicsResource],fields:{_isDynamic:!1,VertexCount:0,VertexDeclaration:null,BufferUsage:0},ctors:{$ctor1:function(graphicsDevice,vertexDeclaration,vertexCount,bufferUsage,dynamic){if(this.$initialize(),Microsoft.Xna.Framework.Graphics.GraphicsResource.ctor.call(this),graphicsDevice==null)throw new System.ArgumentNullException.$ctor3("graphicsDevice",Microsoft.Xna.Framework.FrameworkResources.ResourceCreationWhenDeviceIsNull);this.GraphicsDevice=graphicsDevice;this.VertexDeclaration=vertexDeclaration;this.VertexCount=vertexCount;this.BufferUsage=bufferUsage;Bridge.referenceEquals(vertexDeclaration.GraphicsDevice,graphicsDevice)||(vertexDeclaration.GraphicsDevice=graphicsDevice);this._isDynamic=dynamic;this.PlatformConstruct()},ctor:function(graphicsDevice,vertexDeclaration,vertexCount,bufferUsage){Microsoft.Xna.Framework.Graphics.VertexBuffer.$ctor1.call(this,graphicsDevice,vertexDeclaration,vertexCount,bufferUsage,!1)},$ctor2:function(graphicsDevice,type,vertexCount,bufferUsage){Microsoft.Xna.Framework.Graphics.VertexBuffer.$ctor1.call(this,graphicsDevice,Microsoft.Xna.Framework.Graphics.VertexDeclaration.FromType(type),vertexCount,bufferUsage,!1)}},methods:{GraphicsDeviceResetting:function(){this.PlatformGraphicsDeviceResetting()},GetData$2:function(T,offsetInBytes,data,startIndex,elementCount,vertexStride){var elementSizeInBytes,vertexByteSize;if(vertexStride===void 0&&(vertexStride=0),elementSizeInBytes=Microsoft.Xna.Framework.Utilities.ReflectionHelpers.SizeOf$1(T).Get(),vertexStride===0&&(vertexStride=elementSizeInBytes),vertexByteSize=Bridge.Int.mul(this.VertexCount,this.VertexDeclaration.VertexStride),vertexStride>vertexByteSize)throw new System.ArgumentOutOfRangeException.$ctor4("vertexStride","Vertex stride can not be larger than the vertex buffer size.");if(data==null)throw new System.ArgumentNullException.$ctor1("data");if(data.length<(startIndex+elementCount|0))throw new System.ArgumentOutOfRangeException.$ctor4("elementCount","This parameter must be a valid index within the array.");if(this.BufferUsage===Microsoft.Xna.Framework.Graphics.BufferUsage.WriteOnly)throw new System.NotSupportedException.$ctor1("Calling GetData on a resource that was created with BufferUsage.WriteOnly is not supported.");if(elementCount>1&&Bridge.Int.mul(elementCount,vertexStride)>vertexByteSize)throw new System.InvalidOperationException.$ctor1("The array is not the correct size for the amount of data requested.");this.PlatformGetData(T,offsetInBytes,data,startIndex,elementCount,vertexStride)},GetData$1:function(T,data,startIndex,elementCount){this.GetData$2(T,0,data,startIndex,elementCount,0)},GetData:function(T,data){var elementSizeInByte=Microsoft.Xna.Framework.Utilities.ReflectionHelpers.SizeOf$1(T).Get();this.GetData$2(T,0,data,0,data.length,elementSizeInByte)},SetData$2:function(T,offsetInBytes,data,startIndex,elementCount,vertexStride){this.SetDataInternal(T,offsetInBytes,data,startIndex,elementCount,vertexStride,Microsoft.Xna.Framework.Graphics.SetDataOptions.None)},SetData$1:function(T,data,startIndex,elementCount){var elementSizeInBytes=Microsoft.Xna.Framework.Utilities.ReflectionHelpers.SizeOf$1(T).Get();this.SetDataInternal(T,0,data,startIndex,elementCount,elementSizeInBytes,Microsoft.Xna.Framework.Graphics.SetDataOptions.None)},SetData:function(T,data){var elementSizeInBytes=Microsoft.Xna.Framework.Utilities.ReflectionHelpers.SizeOf$1(T).Get();this.SetDataInternal(T,0,data,0,data.length,elementSizeInBytes,Microsoft.Xna.Framework.Graphics.SetDataOptions.None)},SetDataInternal:function(T,offsetInBytes,data,startIndex,elementCount,vertexStride,options){var elementSizeInBytes,bufferSize,vertexByteSize;if(data==null)throw new System.ArgumentNullException.$ctor1("data");if(elementSizeInBytes=Microsoft.Xna.Framework.Utilities.ReflectionHelpers.SizeOf$1(T).Get(),bufferSize=Bridge.Int.mul(this.VertexCount,this.VertexDeclaration.VertexStride),vertexStride===0&&(vertexStride=elementSizeInBytes),vertexByteSize=Bridge.Int.mul(this.VertexCount,this.VertexDeclaration.VertexStride),vertexStride>vertexByteSize)throw new System.ArgumentOutOfRangeException.$ctor4("vertexStride","Vertex stride can not be larger than the vertex buffer size.");if((startIndex+elementCount|0)>data.length||elementCount<=0)throw new System.ArgumentOutOfRangeException.$ctor4("data","The array specified in the data parameter is not the correct size for the amount of data requested.");if(elementCount>1&&Bridge.Int.mul(elementCount,vertexStride)>bufferSize)throw new System.InvalidOperationException.$ctor1("The vertex stride is larger than the vertex buffer.");if(vertexStride<elementSizeInBytes)throw new System.ArgumentOutOfRangeException.$ctor1("The vertex stride must be greater than or equal to the size of the specified data ("+elementSizeInBytes+").");this.PlatformSetDataInternal(T,offsetInBytes,data,startIndex,elementCount,vertexStride,options,bufferSize,elementSizeInBytes)},PlatformConstruct:function(){throw new System.NotImplementedException.ctor;},PlatformGetData:function(T,offsetInBytes,data,startIndex,elementCount,vertexStride){throw new System.NotImplementedException.ctor;},PlatformSetDataInternal:function(T,offsetInBytes,data,startIndex,elementCount,vertexStride,options,bufferSize,elementSizeInBytes){throw new System.NotImplementedException.ctor;},PlatformGraphicsDeviceResetting:function(){throw new System.NotImplementedException.ctor;}}});Bridge.define("Microsoft.Xna.Framework.Graphics.VertexDeclaration",{inherits:function(){return[Microsoft.Xna.Framework.Graphics.GraphicsResource,System.IEquatable$1(Microsoft.Xna.Framework.Graphics.VertexDeclaration)]},statics:{fields:{_vertexDeclarationCache:null},ctors:{ctor:function(){Microsoft.Xna.Framework.Graphics.VertexDeclaration._vertexDeclarationCache=new(System.Collections.Generic.Dictionary$2(Microsoft.Xna.Framework.Graphics.VertexDeclaration.Data,Microsoft.Xna.Framework.Graphics.VertexDeclaration))}},methods:{GetOrCreate:function(vertexStride,elements){Microsoft.Xna.Framework.Graphics.VertexDeclaration._vertexDeclarationCache;var data=new Microsoft.Xna.Framework.Graphics.VertexDeclaration.Data(vertexStride,elements),vertexDeclaration={};return Microsoft.Xna.Framework.Graphics.VertexDeclaration._vertexDeclarationCache.tryGetValue(data,vertexDeclaration)||(data.Elements=Bridge.cast(System.Array.clone(elements),System.Array.type(Microsoft.Xna.Framework.Graphics.VertexElement)),vertexDeclaration.v=new Microsoft.Xna.Framework.Graphics.VertexDeclaration.ctor(data),Microsoft.Xna.Framework.Graphics.VertexDeclaration._vertexDeclarationCache.set(data,vertexDeclaration.v)),vertexDeclaration.v},GetVertexStride:function(elements){for(var start,max=0,i=0;i<elements.length;i=i+1|0)start=elements[System.Array.index(i,elements)].Offset+Microsoft.Xna.Framework.Graphics.GraphicsExtensions.GetSize$1(elements[System.Array.index(i,elements)].VertexElementFormat)|0,max<start&&(max=start);return max},FromType:function(vertexType){var type,vertexDeclaration;if(vertexType==null)throw new System.ArgumentNullException.$ctor3("vertexType","Cannot be null");if(!Microsoft.Xna.Framework.Utilities.ReflectionHelpers.IsValueType(vertexType))throw new System.ArgumentException.$ctor3("Must be value type","vertexType");if(type=Bridge.as(Bridge.createInstance(vertexType),Microsoft.Xna.Framework.Graphics.IVertexType),type==null)throw new System.ArgumentException.$ctor1("vertexData does not inherit IVertexType");if(vertexDeclaration=type.Microsoft$Xna$Framework$Graphics$IVertexType$VertexDeclaration,Microsoft.Xna.Framework.Graphics.VertexDeclaration.op_Equality(vertexDeclaration,null))throw new System.Exception("VertexDeclaration cannot be null");return vertexDeclaration},op_Equality:function(left,right){return Bridge.equals(left,right)},op_Inequality:function(left,right){return!Bridge.equals(left,right)}}},fields:{_data:null,_shaderAttributeInfo:null},props:{InternalVertexElements:{get:function(){return this._data.Elements}},VertexStride:{get:function(){return this._data.VertexStride}}},alias:["equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Graphics$VertexDeclaration$equalsT"],ctors:{init:function(){this._shaderAttributeInfo=new(System.Collections.Generic.Dictionary$2(System.Int32,Microsoft.Xna.Framework.Graphics.VertexDeclaration.VertexDeclarationAttributeInfo))},ctor:function(data){this.$initialize();Microsoft.Xna.Framework.Graphics.GraphicsResource.ctor.call(this);this._data=data},$ctor1:function(elements){elements===void 0&&(elements=[]);Microsoft.Xna.Framework.Graphics.VertexDeclaration.$ctor2.call(this,Microsoft.Xna.Framework.Graphics.VertexDeclaration.GetVertexStride(elements),elements)},$ctor2:function(vertexStride,elements){if(elements===void 0&&(elements=[]),this.$initialize(),Microsoft.Xna.Framework.Graphics.GraphicsResource.ctor.call(this),elements==null||elements.length===0)throw new System.ArgumentNullException.$ctor3("elements","Elements cannot be empty");Microsoft.Xna.Framework.Graphics.VertexDeclaration._vertexDeclarationCache;var data=new Microsoft.Xna.Framework.Graphics.VertexDeclaration.Data(vertexStride,elements),vertexDeclaration={};Microsoft.Xna.Framework.Graphics.VertexDeclaration._vertexDeclarationCache.tryGetValue(data,vertexDeclaration)?this._data=vertexDeclaration.v._data:(data.Elements=Bridge.cast(System.Array.clone(elements),System.Array.type(Microsoft.Xna.Framework.Graphics.VertexElement)),this._data=data,Microsoft.Xna.Framework.Graphics.VertexDeclaration._vertexDeclarationCache.set(data,this))}},methods:{GetVertexElements:function(){return Bridge.cast(System.Array.clone(this._data.Elements),System.Array.type(Microsoft.Xna.Framework.Graphics.VertexElement))},equals:function(obj){return this.equalsT(Bridge.as(obj,Microsoft.Xna.Framework.Graphics.VertexDeclaration))},equalsT:function(other){return Microsoft.Xna.Framework.Graphics.VertexDeclaration.op_Inequality(other,null)&&Bridge.referenceEquals(this._data,other._data)},getHashCode:function(){return this._data.getHashCode()},GetAttributeInfo:function(shader,programHash){var $t,$t1,attrInfo={},ve,attributeLocation;if(this._shaderAttributeInfo.tryGetValue(programHash,attrInfo))return attrInfo.v;attrInfo.v=new Microsoft.Xna.Framework.Graphics.VertexDeclaration.VertexDeclarationAttributeInfo(this.GraphicsDevice.MaxVertexAttributes);$t=Bridge.getEnumerator(this.InternalVertexElements);try{while($t.moveNext())(ve=$t.Current.$clone(),attributeLocation=shader.GetAttribLocation(ve.VertexElementUsage,ve.UsageIndex),attributeLocation<0)||(attrInfo.v.Elements.add(($t1=new Microsoft.Xna.Framework.Graphics.VertexDeclaration.VertexDeclarationAttributeInfo.Element,$t1.Offset=ve.Offset,$t1.AttributeLocation=attributeLocation,$t1.NumberOfElements=Microsoft.Xna.Framework.Graphics.GraphicsExtensions.OpenGLNumberOfElements(ve.VertexElementFormat),$t1.VertexAttribPointerType=Microsoft.Xna.Framework.Graphics.GraphicsExtensions.OpenGLVertexAttribPointerType(ve.VertexElementFormat),$t1.Normalized=Microsoft.Xna.Framework.Graphics.GraphicsExtensions.OpenGLVertexAttribNormalized(ve),$t1)),attrInfo.v.EnabledAttributes[System.Array.index(attributeLocation,attrInfo.v.EnabledAttributes)]=!0)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return this._shaderAttributeInfo.add(programHash,attrInfo.v),attrInfo.v},Apply:function(shader,offset,programHash){var $t,attrInfo=this.GetAttributeInfo(shader,programHash),element;$t=Bridge.getEnumerator(attrInfo.Elements);try{while($t.moveNext())element=$t.Current,WebHelper.gl.vertexAttribPointer(element.AttributeLocation,element.NumberOfElements,element.VertexAttribPointerType,element.Normalized,this.VertexStride,offset+element.Offset|0)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}this.GraphicsDevice.SetVertexAttributeArray(attrInfo.EnabledAttributes);Microsoft.Xna.Framework.Graphics.GraphicsDevice._attribsDirty=!0}}});Bridge.define("Microsoft.Xna.Framework.Graphics.PackedVector.Alpha8",{inherits:function(){return[Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector$1(System.Byte),System.IEquatable$1(Microsoft.Xna.Framework.Graphics.PackedVector.Alpha8),Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector]},$kind:"struct",statics:{methods:{Pack:function(alpha){return Bridge.Int.clipu8(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(alpha,0,1)*255,0,6))},op_Equality:function(lhs,rhs){return lhs.packedValue===rhs.packedValue},op_Inequality:function(lhs,rhs){return lhs.packedValue!==rhs.packedValue},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.PackedVector.Alpha8}}},fields:{packedValue:0},props:{PackedValue:{get:function(){return this.packedValue},set:function(value){this.packedValue=value}}},alias:["PackedValue","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$1$System$Byte$PackedValue","equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Graphics$PackedVector$Alpha8$equalsT"],ctors:{$ctor1:function(alpha){this.$initialize();this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.Alpha8.Pack(alpha)},ctor:function(){this.$initialize()}},methods:{ToAlpha:function(){return this.packedValue/255},Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$PackFromVector4:function(vector){this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.Alpha8.Pack(vector.W)},Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$ToVector4:function(){return new Microsoft.Xna.Framework.Vector4.$ctor4(0,0,0,this.packedValue/255)},equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Graphics.PackedVector.Alpha8)&&this.equalsT(System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Graphics.PackedVector.Alpha8),Microsoft.Xna.Framework.Graphics.PackedVector.Alpha8)))},equalsT:function(other){return this.packedValue===other.packedValue},toString:function(){return System.Single.format(this.packedValue/255)},getHashCode:function(){return Bridge.getHashCode(this.packedValue)},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.PackedVector.Alpha8;return s.packedValue=this.packedValue,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.PackedVector.Bgr565",{inherits:function(){return[Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector$1(System.UInt16),System.IEquatable$1(Microsoft.Xna.Framework.Graphics.PackedVector.Bgr565),Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector]},$kind:"struct",statics:{methods:{Pack:function(x,y,z){return((Bridge.Int.clip32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(x,0,1)*31,0,6))&31)<<11|(Bridge.Int.clip32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(y,0,1)*63,0,6))&63)<<5|Bridge.Int.clip32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(z,0,1)*31,0,6))&31)&65535},op_Equality:function(lhs,rhs){return lhs._packedValue===rhs._packedValue},op_Inequality:function(lhs,rhs){return lhs._packedValue!==rhs._packedValue},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.PackedVector.Bgr565}}},fields:{_packedValue:0},props:{PackedValue:{get:function(){return this._packedValue},set:function(value){this._packedValue=value}}},alias:["PackedValue","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$1$System$UInt16$PackedValue","equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Graphics$PackedVector$Bgr565$equalsT"],ctors:{$ctor2:function(x,y,z){this.$initialize();this._packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.Bgr565.Pack(x,y,z)},$ctor1:function(vector){this.$initialize();this._packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.Bgr565.Pack(vector.X,vector.Y,vector.Z)},ctor:function(){this.$initialize()}},methods:{ToVector3:function(){return new Microsoft.Xna.Framework.Vector3.$ctor3((this._packedValue>>11&31)*.0322580636,(this._packedValue>>5&63)*.0158730168,(this._packedValue&31)*.0322580636)},Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$PackFromVector4:function(vector){this._packedValue=((Bridge.Int.clip32(vector.X*31)&31)<<11|(Bridge.Int.clip32(vector.Y*63)&63)<<5|Bridge.Int.clip32(vector.Z*31)&31)&65535},Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$ToVector4:function(){return new Microsoft.Xna.Framework.Vector4.$ctor2(this.ToVector3(),1)},equals:function(obj){return obj!=null&&Bridge.is(obj,Microsoft.Xna.Framework.Graphics.PackedVector.Bgr565)?Microsoft.Xna.Framework.Graphics.PackedVector.Bgr565.op_Equality(this,System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Graphics.PackedVector.Bgr565),Microsoft.Xna.Framework.Graphics.PackedVector.Bgr565))):!1},equalsT:function(other){return this._packedValue===other._packedValue},toString:function(){return this.ToVector3().toString()},getHashCode:function(){return Bridge.getHashCode(this._packedValue)},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.PackedVector.Bgr565;return s._packedValue=this._packedValue,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.PackedVector.Bgra4444",{inherits:function(){return[Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector$1(System.UInt16),System.IEquatable$1(Microsoft.Xna.Framework.Graphics.PackedVector.Bgra4444)]},$kind:"struct",statics:{methods:{Pack:function(x,y,z,w){return((Bridge.Int.clip32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(w,0,1)*15,0,6))&15)<<12|(Bridge.Int.clip32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(x,0,1)*15,0,6))&15)<<8|(Bridge.Int.clip32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(y,0,1)*15,0,6))&15)<<4|Bridge.Int.clip32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(z,0,1)*15,0,6))&15)&65535},op_Equality:function(lhs,rhs){return lhs._packedValue===rhs._packedValue},op_Inequality:function(lhs,rhs){return lhs._packedValue!==rhs._packedValue},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.PackedVector.Bgra4444}}},fields:{_packedValue:0},props:{PackedValue:{get:function(){return this._packedValue},set:function(value){this._packedValue=value}}},alias:["PackedValue","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$1$System$UInt16$PackedValue","ToVector4","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$ToVector4","equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Graphics$PackedVector$Bgra4444$equalsT"],ctors:{$ctor2:function(x,y,z,w){this.$initialize();this._packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.Bgra4444.Pack(x,y,z,w)},$ctor1:function(vector){this.$initialize();this._packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.Bgra4444.Pack(vector.X,vector.Y,vector.Z,vector.W)},ctor:function(){this.$initialize()}},methods:{ToVector4:function(){var maxVal=.06666667;return new Microsoft.Xna.Framework.Vector4.$ctor4((this._packedValue>>8&15)*maxVal,(this._packedValue>>4&15)*maxVal,(this._packedValue&15)*maxVal,(this._packedValue>>12&15)*maxVal)},Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$PackFromVector4:function(vector){this._packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.Bgra4444.Pack(vector.X,vector.Y,vector.Z,vector.W)},equals:function(obj){return obj!=null&&Bridge.is(obj,Microsoft.Xna.Framework.Graphics.PackedVector.Bgra4444)?Microsoft.Xna.Framework.Graphics.PackedVector.Bgra4444.op_Equality(this,System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Graphics.PackedVector.Bgra4444),Microsoft.Xna.Framework.Graphics.PackedVector.Bgra4444))):!1},equalsT:function(other){return this._packedValue===other._packedValue},toString:function(){return this.ToVector4().toString()},getHashCode:function(){return Bridge.getHashCode(this._packedValue)},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.PackedVector.Bgra4444;return s._packedValue=this._packedValue,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.PackedVector.Bgra5551",{inherits:function(){return[Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector$1(System.UInt16),System.IEquatable$1(Microsoft.Xna.Framework.Graphics.PackedVector.Bgra5551),Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector]},$kind:"struct",statics:{methods:{Pack:function(x,y,z,w){return((Bridge.Int.clip32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(x,0,1)*31,0,6))&31)<<10|(Bridge.Int.clip32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(y,0,1)*31,0,6))&31)<<5|(Bridge.Int.clip32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(z,0,1)*31,0,6))&31)<<0|(Bridge.Int.clip32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(w,0,1),0,6))&1)<<15)&65535},op_Equality:function(lhs,rhs){return lhs.packedValue===rhs.packedValue},op_Inequality:function(lhs,rhs){return lhs.packedValue!==rhs.packedValue},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.PackedVector.Bgra5551}}},fields:{packedValue:0},props:{PackedValue:{get:function(){return this.packedValue},set:function(value){this.packedValue=value}}},alias:["PackedValue","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$1$System$UInt16$PackedValue","ToVector4","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$ToVector4","equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Graphics$PackedVector$Bgra5551$equalsT"],ctors:{$ctor2:function(x,y,z,w){this.$initialize();this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.Bgra5551.Pack(x,y,z,w)},$ctor1:function(vector){this.$initialize();this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.Bgra5551.Pack(vector.X,vector.Y,vector.Z,vector.W)},ctor:function(){this.$initialize()}},methods:{ToVector4:function(){return new Microsoft.Xna.Framework.Vector4.$ctor4((this.packedValue>>10&31)/31,(this.packedValue>>5&31)/31,(this.packedValue>>0&31)/31,this.packedValue>>15&1)},Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$PackFromVector4:function(vector){this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.Bgra5551.Pack(vector.X,vector.Y,vector.Z,vector.W)},equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Graphics.PackedVector.Bgra5551)&&this.equalsT(System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Graphics.PackedVector.Bgra5551),Microsoft.Xna.Framework.Graphics.PackedVector.Bgra5551)))},equalsT:function(other){return this.packedValue===other.packedValue},toString:function(){return this.ToVector4().toString()},getHashCode:function(){return Bridge.getHashCode(this.packedValue)},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.PackedVector.Bgra5551;return s.packedValue=this.packedValue,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.PackedVector.Byte4",{inherits:function(){return[Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector$1(System.UInt32),System.IEquatable$1(Microsoft.Xna.Framework.Graphics.PackedVector.Byte4),Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector]},$kind:"struct",statics:{methods:{Pack:function(vector){var max=255,min=0,byte4=(Bridge.Int.clipu32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(vector.v.X,min,max),0,6))&255)>>>0,byte3=(Bridge.Int.clipu32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(vector.v.Y,min,max),0,6))&255)>>>0<<8>>>0,byte2=(Bridge.Int.clipu32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(vector.v.Z,min,max),0,6))&255)>>>0<<16>>>0,byte1=(Bridge.Int.clipu32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(vector.v.W,min,max),0,6))&255)>>>0<<24>>>0;return(((byte4|byte3)>>>0|byte2)>>>0|byte1)>>>0},op_Inequality:function(a,b){return a.PackedValue!==b.PackedValue},op_Equality:function(a,b){return a.PackedValue===b.PackedValue},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.PackedVector.Byte4}}},fields:{packedValue:0},props:{PackedValue:{get:function(){return this.packedValue},set:function(value){this.packedValue=value}}},alias:["PackedValue","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$1$System$UInt32$PackedValue","equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Graphics$PackedVector$Byte4$equalsT","ToVector4","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$ToVector4"],ctors:{$ctor1:function(vector){vector={v:vector};this.$initialize();this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.Byte4.Pack(vector)},$ctor2:function(x,y,z,w){this.$initialize();var vector={v:new Microsoft.Xna.Framework.Vector4.$ctor4(x,y,z,w)};this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.Byte4.Pack(vector)},ctor:function(){this.$initialize()}},methods:{equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Graphics.PackedVector.Byte4)?Microsoft.Xna.Framework.Graphics.PackedVector.Byte4.op_Equality(this,System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Graphics.PackedVector.Byte4),Microsoft.Xna.Framework.Graphics.PackedVector.Byte4))):!1},equalsT:function(other){return Microsoft.Xna.Framework.Graphics.PackedVector.Byte4.op_Equality(this,other.$clone())},getHashCode:function(){return Bridge.getHashCode(this.packedValue)},toString:function(){return System.UInt32.format(this.packedValue,"x8")},Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$PackFromVector4:function(vector){vector={v:vector};this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.Byte4.Pack(vector)},ToVector4:function(){return new Microsoft.Xna.Framework.Vector4.$ctor4((this.packedValue&255)>>>0,(this.packedValue>>>8&255)>>>0,(this.packedValue>>>16&255)>>>0,(this.packedValue>>>24&255)>>>0)},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.PackedVector.Byte4;return s.packedValue=this.packedValue,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.PackedVector.HalfSingle",{inherits:function(){return[Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector$1(System.UInt16),System.IEquatable$1(Microsoft.Xna.Framework.Graphics.PackedVector.HalfSingle),Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector]},$kind:"struct",statics:{methods:{op_Equality:function(lhs,rhs){return lhs.packedValue===rhs.packedValue},op_Inequality:function(lhs,rhs){return lhs.packedValue!==rhs.packedValue},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.PackedVector.HalfSingle}}},fields:{packedValue:0},props:{PackedValue:{get:function(){return this.packedValue},set:function(value){this.packedValue=value}}},alias:["PackedValue","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$1$System$UInt16$PackedValue","equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Graphics$PackedVector$HalfSingle$equalsT"],ctors:{$ctor1:function(single){this.$initialize();this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.HalfTypeHelper.Convert$2(single)},ctor:function(){this.$initialize()}},methods:{ToSingle:function(){return Microsoft.Xna.Framework.Graphics.PackedVector.HalfTypeHelper.Convert(this.packedValue)},Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$PackFromVector4:function(vector){this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.HalfTypeHelper.Convert$2(vector.X)},Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$ToVector4:function(){return new Microsoft.Xna.Framework.Vector4.$ctor4(this.ToSingle(),0,0,1)},equals:function(obj){return obj!=null&&Bridge.referenceEquals(Bridge.getType(obj),Microsoft.Xna.Framework.Graphics.PackedVector.HalfSingle)?Microsoft.Xna.Framework.Graphics.PackedVector.HalfSingle.op_Equality(this,System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Graphics.PackedVector.HalfSingle),Microsoft.Xna.Framework.Graphics.PackedVector.HalfSingle))):!1},equalsT:function(other){return this.packedValue===other.packedValue},toString:function(){return System.Single.format(this.ToSingle())},getHashCode:function(){return Bridge.getHashCode(this.packedValue)},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.PackedVector.HalfSingle;return s.packedValue=this.packedValue,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.PackedVector.HalfVector2",{inherits:function(){return[Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector$1(System.UInt32),Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector,System.IEquatable$1(Microsoft.Xna.Framework.Graphics.PackedVector.HalfVector2)]},$kind:"struct",statics:{methods:{PackHelper:function(vectorX,vectorY){var num2=Microsoft.Xna.Framework.Graphics.PackedVector.HalfTypeHelper.Convert$2(vectorX),num=Microsoft.Xna.Framework.Graphics.PackedVector.HalfTypeHelper.Convert$2(vectorY)<<16>>>0;return(num2|num)>>>0},op_Equality:function(a,b){return a.equalsT(b.$clone())},op_Inequality:function(a,b){return!a.equalsT(b.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.PackedVector.HalfVector2}}},fields:{packedValue:0},props:{PackedValue:{get:function(){return this.packedValue},set:function(value){this.packedValue=value}}},alias:["PackedValue","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$1$System$UInt32$PackedValue","equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Graphics$PackedVector$HalfVector2$equalsT"],ctors:{$ctor2:function(x,y){this.$initialize();this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.HalfVector2.PackHelper(x,y)},$ctor1:function(vector){this.$initialize();this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.HalfVector2.PackHelper(vector.X,vector.Y)},ctor:function(){this.$initialize()}},methods:{Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$PackFromVector4:function(vector){this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.HalfVector2.PackHelper(vector.X,vector.Y)},ToVector2:function(){var vector=new Microsoft.Xna.Framework.Vector2;return vector.X=Microsoft.Xna.Framework.Graphics.PackedVector.HalfTypeHelper.Convert(this.packedValue&65535),vector.Y=Microsoft.Xna.Framework.Graphics.PackedVector.HalfTypeHelper.Convert(this.packedValue>>>16&65535),vector.$clone()},Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$ToVector4:function(){var vector=this.ToVector2();return new Microsoft.Xna.Framework.Vector4.$ctor4(vector.X,vector.Y,0,1)},toString:function(){return this.ToVector2().toString()},getHashCode:function(){return Bridge.getHashCode(this.packedValue)},equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Graphics.PackedVector.HalfVector2)&&this.equalsT(System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Graphics.PackedVector.HalfVector2),Microsoft.Xna.Framework.Graphics.PackedVector.HalfVector2)))},equalsT:function(other){return this.packedValue===other.packedValue},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.PackedVector.HalfVector2;return s.packedValue=this.packedValue,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.PackedVector.HalfVector4",{inherits:function(){return[Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector$1(System.UInt64),Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector,System.IEquatable$1(Microsoft.Xna.Framework.Graphics.PackedVector.HalfVector4)]},$kind:"struct",statics:{methods:{PackHelper:function(vector){var num4=System.UInt64(Microsoft.Xna.Framework.Graphics.PackedVector.HalfTypeHelper.Convert$2(vector.v.X)),num3=System.UInt64(Microsoft.Xna.Framework.Graphics.PackedVector.HalfTypeHelper.Convert$2(vector.v.Y)).shl(16),num2=System.UInt64(Microsoft.Xna.Framework.Graphics.PackedVector.HalfTypeHelper.Convert$2(vector.v.Z)).shl(32),num1=System.UInt64(Microsoft.Xna.Framework.Graphics.PackedVector.HalfTypeHelper.Convert$2(vector.v.W)).shl(48);return num4.or(num3).or(num2).or(num1)},op_Equality:function(a,b){return a.equalsT(b.$clone())},op_Inequality:function(a,b){return!a.equalsT(b.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.PackedVector.HalfVector4}}},fields:{packedValue:System.UInt64(0)},props:{PackedValue:{get:function(){return this.packedValue},set:function(value){this.packedValue=value}}},alias:["ToVector4","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$ToVector4","PackedValue","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$1$System$UInt64$PackedValue","equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Graphics$PackedVector$HalfVector4$equalsT"],ctors:{$ctor2:function(x,y,z,w){this.$initialize();var vector={v:new Microsoft.Xna.Framework.Vector4.$ctor4(x,y,z,w)};this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.HalfVector4.PackHelper(vector)},$ctor1:function(vector){vector={v:vector};this.$initialize();this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.HalfVector4.PackHelper(vector)},ctor:function(){this.$initialize()}},methods:{Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$PackFromVector4:function(vector){vector={v:vector};this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.HalfVector4.PackHelper(vector)},ToVector4:function(){return new Microsoft.Xna.Framework.Vector4.$ctor4(Microsoft.Xna.Framework.Graphics.PackedVector.HalfTypeHelper.Convert(System.Int64.clipu16(this.packedValue)),Microsoft.Xna.Framework.Graphics.PackedVector.HalfTypeHelper.Convert(System.Int64.clipu16(this.packedValue.shru(16))),Microsoft.Xna.Framework.Graphics.PackedVector.HalfTypeHelper.Convert(System.Int64.clipu16(this.packedValue.shru(32))),Microsoft.Xna.Framework.Graphics.PackedVector.HalfTypeHelper.Convert(System.Int64.clipu16(this.packedValue.shru(48))))},toString:function(){return this.ToVector4().toString()},getHashCode:function(){return Bridge.getHashCode(this.packedValue)},equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Graphics.PackedVector.HalfVector4)&&this.equalsT(System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Graphics.PackedVector.HalfVector4),Microsoft.Xna.Framework.Graphics.PackedVector.HalfVector4)))},equalsT:function(other){return this.packedValue.equalsT(other.packedValue)},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.PackedVector.HalfVector4;return s.packedValue=this.packedValue,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedByte2",{inherits:function(){return[Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector$1(System.UInt16),System.IEquatable$1(Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedByte2)]},$kind:"struct",statics:{methods:{Pack:function(x,y){var byte2=(Bridge.Int.clipu16(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(x,-1,1)*127,0,6))&255)<<0,byte1=(Bridge.Int.clipu16(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(y,-1,1)*127,0,6))&255)<<8;return(byte2|byte1)&65535},op_Inequality:function(a,b){return a._packed!==b._packed},op_Equality:function(a,b){return a._packed===b._packed},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedByte2}}},fields:{_packed:0},props:{PackedValue:{get:function(){return this._packed},set:function(value){this._packed=value}}},alias:["PackedValue","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$1$System$UInt16$PackedValue","equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Graphics$PackedVector$NormalizedByte2$equalsT"],ctors:{$ctor1:function(vector){this.$initialize();this._packed=Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedByte2.Pack(vector.X,vector.Y)},$ctor2:function(x,y){this.$initialize();this._packed=Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedByte2.Pack(x,y)},ctor:function(){this.$initialize()}},methods:{equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedByte2)&&System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedByte2),Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedByte2))._packed===this._packed},equalsT:function(other){return this._packed===other._packed},getHashCode:function(){return Bridge.getHashCode(this._packed)},toString:function(){return System.UInt16.format(this._packed,"X")},Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$PackFromVector4:function(vector){this._packed=Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedByte2.Pack(vector.X,vector.Y)},Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$ToVector4:function(){return new Microsoft.Xna.Framework.Vector4.$ctor1(this.ToVector2(),0,1)},ToVector2:function(){return new Microsoft.Xna.Framework.Vector2.$ctor2(Bridge.Int.sxb(this._packed>>0&255)/127,Bridge.Int.sxb(this._packed>>8&255)/127)},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedByte2;return s._packed=this._packed,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedByte4",{inherits:function(){return[Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector$1(System.UInt32),System.IEquatable$1(Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedByte4)]},$kind:"struct",statics:{methods:{Pack:function(x,y,z,w){var byte4=(Bridge.Int.clipu32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(x,-1,1)*127,0,6))&255)>>>0<<0>>>0,byte3=(Bridge.Int.clipu32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(y,-1,1)*127,0,6))&255)>>>0<<8>>>0,byte2=(Bridge.Int.clipu32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(z,-1,1)*127,0,6))&255)>>>0<<16>>>0,byte1=(Bridge.Int.clipu32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(w,-1,1)*127,0,6))&255)>>>0<<24>>>0;return(((byte4|byte3)>>>0|byte2)>>>0|byte1)>>>0},op_Inequality:function(a,b){return a._packed!==b._packed},op_Equality:function(a,b){return a._packed===b._packed},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedByte4}}},fields:{_packed:0},props:{PackedValue:{get:function(){return this._packed},set:function(value){this._packed=value}}},alias:["PackedValue","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$1$System$UInt32$PackedValue","equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Graphics$PackedVector$NormalizedByte4$equalsT","ToVector4","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$ToVector4"],ctors:{$ctor1:function(vector){this.$initialize();this._packed=Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedByte4.Pack(vector.X,vector.Y,vector.Z,vector.W)},$ctor2:function(x,y,z,w){this.$initialize();this._packed=Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedByte4.Pack(x,y,z,w)},ctor:function(){this.$initialize()}},methods:{equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedByte4)&&System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedByte4),Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedByte4))._packed===this._packed},equalsT:function(other){return this._packed===other._packed},getHashCode:function(){return Bridge.getHashCode(this._packed)},toString:function(){return System.UInt32.format(this._packed,"X")},Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$PackFromVector4:function(vector){this._packed=Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedByte4.Pack(vector.X,vector.Y,vector.Z,vector.W)},ToVector4:function(){return new Microsoft.Xna.Framework.Vector4.$ctor4(Bridge.Int.sxb((this._packed>>>0&255)>>>0&255)/127,Bridge.Int.sxb((this._packed>>>8&255)>>>0&255)/127,Bridge.Int.sxb((this._packed>>>16&255)>>>0&255)/127,Bridge.Int.sxb((this._packed>>>24&255)>>>0&255)/127)},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedByte4;return s._packed=this._packed,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedShort2",{inherits:function(){return[Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector$1(System.UInt32),System.IEquatable$1(Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedShort2)]},$kind:"struct",statics:{methods:{PackInTwo:function(vectorX,vectorY){var maxPos=32767,minNeg=-32767,word2=(Bridge.Int.clip32(Microsoft.Xna.Framework.MathHelper.Clamp$1(Bridge.Math.round(vectorX*maxPos,0,6),minNeg,maxPos))&65535)>>>0,word1=(Bridge.Int.clip32(Microsoft.Xna.Framework.MathHelper.Clamp$1(Bridge.Math.round(vectorY*maxPos,0,6),minNeg,maxPos))&65535)<<16>>>0;return(word2|word1)>>>0},op_Inequality:function(a,b){return!a.equalsT(b.$clone())},op_Equality:function(a,b){return a.equalsT(b.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedShort2}}},fields:{short2Packed:0},props:{PackedValue:{get:function(){return this.short2Packed},set:function(value){this.short2Packed=value}}},alias:["PackedValue","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$1$System$UInt32$PackedValue","equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Graphics$PackedVector$NormalizedShort2$equalsT"],ctors:{$ctor1:function(vector){this.$initialize();this.short2Packed=Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedShort2.PackInTwo(vector.X,vector.Y)},$ctor2:function(x,y){this.$initialize();this.short2Packed=Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedShort2.PackInTwo(x,y)},ctor:function(){this.$initialize()}},methods:{equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedShort2)&&this.equalsT(System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedShort2),Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedShort2)))},equalsT:function(other){return this.short2Packed===other.short2Packed},getHashCode:function(){return Bridge.getHashCode(this.short2Packed)},toString:function(){return System.UInt32.format(this.short2Packed,"X")},ToVector2:function(){var maxVal=32767,v2=new Microsoft.Xna.Framework.Vector2.ctor;return v2.X=Bridge.Int.sxs((this.short2Packed&65535)>>>0&65535)/maxVal,v2.Y=Bridge.Int.sxs(this.short2Packed>>>16&65535)/maxVal,v2.$clone()},Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$PackFromVector4:function(vector){this.short2Packed=Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedShort2.PackInTwo(vector.X,vector.Y)},Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$ToVector4:function(){var maxVal=32767,v4=new Microsoft.Xna.Framework.Vector4.$ctor4(0,0,0,1);return v4.X=Bridge.Int.sxs((this.short2Packed>>>0&65535)>>>0&65535)/maxVal,v4.Y=Bridge.Int.sxs((this.short2Packed>>>16&65535)>>>0&65535)/maxVal,v4.$clone()},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedShort2;return s.short2Packed=this.short2Packed,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedShort4",{inherits:function(){return[Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector$1(System.UInt64),System.IEquatable$1(Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedShort4)]},$kind:"struct",statics:{methods:{PackInFour:function(vectorX,vectorY,vectorZ,vectorW){var mask=System.Int64(65535),maxPos=System.Int64(32767),minNeg=System.Int64(-32767),word4=System.Int64.clipu64(System.Int64(Bridge.Int.clip32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(vectorX*maxPos,minNeg,maxPos),0,6))).and(mask)),word3=System.Int64.clipu64(System.Int64(Bridge.Int.clip32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(vectorY*maxPos,minNeg,maxPos),0,6))).and(mask)).shl(16),word2=System.Int64.clipu64(System.Int64(Bridge.Int.clip32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(vectorZ*maxPos,minNeg,maxPos),0,6))).and(mask)).shl(32),word1=System.Int64.clipu64(System.Int64(Bridge.Int.clip32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(vectorW*maxPos,minNeg,maxPos),0,6))).and(mask)).shl(48);return word4.or(word3).or(word2).or(word1)},op_Inequality:function(a,b){return!a.equalsT(b.$clone())},op_Equality:function(a,b){return a.equalsT(b.$clone())},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedShort4}}},fields:{short4Packed:System.UInt64(0)},props:{PackedValue:{get:function(){return this.short4Packed},set:function(value){this.short4Packed=value}}},alias:["PackedValue","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$1$System$UInt64$PackedValue","equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Graphics$PackedVector$NormalizedShort4$equalsT","ToVector4","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$ToVector4"],ctors:{$ctor1:function(vector){this.$initialize();this.short4Packed=Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedShort4.PackInFour(vector.X,vector.Y,vector.Z,vector.W)},$ctor2:function(x,y,z,w){this.$initialize();this.short4Packed=Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedShort4.PackInFour(x,y,z,w)},ctor:function(){this.$initialize()}},methods:{equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedShort4)&&this.equalsT(System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedShort4),Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedShort4)))},equalsT:function(other){return this.short4Packed.equalsT(other.short4Packed)},getHashCode:function(){return Bridge.getHashCode(this.short4Packed)},toString:function(){return this.short4Packed.toString("X")},Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$PackFromVector4:function(vector){this.short4Packed=Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedShort4.PackInFour(vector.X,vector.Y,vector.Z,vector.W)},ToVector4:function(){var maxVal=32767,v4=new Microsoft.Xna.Framework.Vector4.ctor;return v4.X=System.Int64.clip16(this.short4Packed.shru(0).and(System.UInt64(65535)))/maxVal,v4.Y=System.Int64.clip16(this.short4Packed.shru(16).and(System.UInt64(65535)))/maxVal,v4.Z=System.Int64.clip16(this.short4Packed.shru(32).and(System.UInt64(65535)))/maxVal,v4.W=System.Int64.clip16(this.short4Packed.shru(48).and(System.UInt64(65535)))/maxVal,v4.$clone()},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.PackedVector.NormalizedShort4;return s.short4Packed=this.short4Packed,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.PackedVector.Rg32",{inherits:function(){return[Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector$1(System.UInt32),System.IEquatable$1(Microsoft.Xna.Framework.Graphics.PackedVector.Rg32),Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector]},$kind:"struct",statics:{methods:{Pack:function(x,y){return(Bridge.Int.clip32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(x,0,1)*65535,0,6))&65535|(Bridge.Int.clip32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(y,0,1)*65535,0,6))&65535)<<16)>>>0},op_Equality:function(lhs,rhs){return lhs.packedValue===rhs.packedValue},op_Inequality:function(lhs,rhs){return lhs.packedValue!==rhs.packedValue},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.PackedVector.Rg32}}},fields:{packedValue:0},props:{PackedValue:{get:function(){return this.packedValue},set:function(value){this.packedValue=value}}},alias:["PackedValue","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$1$System$UInt32$PackedValue","equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Graphics$PackedVector$Rg32$equalsT"],ctors:{$ctor2:function(x,y){this.$initialize();this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.Rg32.Pack(x,y)},$ctor1:function(vector){this.$initialize();this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.Rg32.Pack(vector.X,vector.Y)},ctor:function(){this.$initialize()}},methods:{ToVector2:function(){return new Microsoft.Xna.Framework.Vector2.$ctor2(((this.packedValue&65535)>>>0)/65535,((this.packedValue>>>16&65535)>>>0)/65535)},Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$PackFromVector4:function(vector){this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.Rg32.Pack(vector.X,vector.Y)},Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$ToVector4:function(){return new Microsoft.Xna.Framework.Vector4.$ctor1(this.ToVector2(),0,1)},equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Graphics.PackedVector.Rg32)&&this.equalsT(System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Graphics.PackedVector.Rg32),Microsoft.Xna.Framework.Graphics.PackedVector.Rg32)))},equalsT:function(other){return this.packedValue===other.packedValue},toString:function(){return this.ToVector2().toString()},getHashCode:function(){return Bridge.getHashCode(this.packedValue)},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.PackedVector.Rg32;return s.packedValue=this.packedValue,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.PackedVector.Rgba1010102",{inherits:function(){return[Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector$1(System.UInt32),System.IEquatable$1(Microsoft.Xna.Framework.Graphics.PackedVector.Rgba1010102),Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector]},$kind:"struct",statics:{methods:{Pack:function(x,y,z,w){return((Bridge.Int.clip32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(x,0,1)*1023,0,6))&1023)<<0|(Bridge.Int.clip32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(y,0,1)*1023,0,6))&1023)<<10|(Bridge.Int.clip32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(z,0,1)*1023,0,6))&1023)<<20|(Bridge.Int.clip32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(w,0,1)*3,0,6))&3)<<30)>>>0},op_Equality:function(lhs,rhs){return lhs.packedValue===rhs.packedValue},op_Inequality:function(lhs,rhs){return lhs.packedValue!==rhs.packedValue},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.PackedVector.Rgba1010102}}},fields:{packedValue:0},props:{PackedValue:{get:function(){return this.packedValue},set:function(value){this.packedValue=value}}},alias:["PackedValue","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$1$System$UInt32$PackedValue","ToVector4","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$ToVector4","equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Graphics$PackedVector$Rgba1010102$equalsT"],ctors:{$ctor2:function(x,y,z,w){this.$initialize();this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.Rgba1010102.Pack(x,y,z,w)},$ctor1:function(vector){this.$initialize();this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.Rgba1010102.Pack(vector.X,vector.Y,vector.Z,vector.W)},ctor:function(){this.$initialize()}},methods:{ToVector4:function(){return new Microsoft.Xna.Framework.Vector4.$ctor4(((this.packedValue>>>0&1023)>>>0)/1023,((this.packedValue>>>10&1023)>>>0)/1023,((this.packedValue>>>20&1023)>>>0)/1023,((this.packedValue>>>30&3)>>>0)/3)},Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$PackFromVector4:function(vector){this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.Rgba1010102.Pack(vector.X,vector.Y,vector.Z,vector.W)},equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Graphics.PackedVector.Rgba1010102)&&this.equalsT(System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Graphics.PackedVector.Rgba1010102),Microsoft.Xna.Framework.Graphics.PackedVector.Rgba1010102)))},equalsT:function(other){return this.packedValue===other.packedValue},toString:function(){return this.ToVector4().toString()},getHashCode:function(){return Bridge.getHashCode(this.packedValue)},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.PackedVector.Rgba1010102;return s.packedValue=this.packedValue,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.PackedVector.Rgba64",{inherits:function(){return[Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector$1(System.UInt64),System.IEquatable$1(Microsoft.Xna.Framework.Graphics.PackedVector.Rgba64),Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector]},$kind:"struct",statics:{methods:{Pack:function(x,y,z,w){return Bridge.Int.clipu64(Bridge.Int.clipu64(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(x*65535,0,65535),0,6))).or(Bridge.Int.clipu64(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(y*65535,0,65535),0,6)).shl(16)).or(Bridge.Int.clipu64(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(z*65535,0,65535),0,6)).shl(32)).or(Bridge.Int.clipu64(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(w*65535,0,65535),0,6)).shl(48))},op_Equality:function(lhs,rhs){return lhs.packedValue.equals(rhs.packedValue)},op_Inequality:function(lhs,rhs){return lhs.packedValue.ne(rhs.packedValue)},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.PackedVector.Rgba64}}},fields:{packedValue:System.UInt64(0)},props:{PackedValue:{get:function(){return this.packedValue},set:function(value){this.packedValue=value}}},alias:["PackedValue","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$1$System$UInt64$PackedValue","ToVector4","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$ToVector4","equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Graphics$PackedVector$Rgba64$equalsT"],ctors:{$ctor2:function(x,y,z,w){this.$initialize();this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.Rgba64.Pack(x,y,z,w)},$ctor1:function(vector){this.$initialize();this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.Rgba64.Pack(vector.X,vector.Y,vector.Z,vector.W)},ctor:function(){this.$initialize()}},methods:{ToVector4:function(){return new Microsoft.Xna.Framework.Vector4.$ctor4(this.packedValue.and(System.UInt64(65535))/65535,this.packedValue.shru(16).and(System.UInt64(65535))/65535,this.packedValue.shru(32).and(System.UInt64(65535))/65535,this.packedValue.shru(48).and(System.UInt64(65535))/65535)},Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$PackFromVector4:function(vector){this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.Rgba64.Pack(vector.X,vector.Y,vector.Z,vector.W)},equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Graphics.PackedVector.Rgba64)&&this.equalsT(System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Graphics.PackedVector.Rgba64),Microsoft.Xna.Framework.Graphics.PackedVector.Rgba64)))},equalsT:function(other){return this.packedValue.equals(other.packedValue)},toString:function(){return this.ToVector4().toString()},getHashCode:function(){return Bridge.getHashCode(this.packedValue)},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.PackedVector.Rgba64;return s.packedValue=this.packedValue,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.PackedVector.Short2",{inherits:function(){return[Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector$1(System.UInt32),System.IEquatable$1(Microsoft.Xna.Framework.Graphics.PackedVector.Short2)]},$kind:"struct",statics:{methods:{PackInTwo:function(vectorX,vectorY){var maxPos=32767,minNeg=-32768,word2=(Bridge.Int.clipu32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(vectorX,minNeg,maxPos),0,6))&65535)>>>0,word1=(Bridge.Int.clipu32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(vectorY,minNeg,maxPos),0,6))&65535)>>>0<<16>>>0;return(word2|word1)>>>0},op_Inequality:function(a,b){return a.PackedValue!==b.PackedValue},op_Equality:function(a,b){return a.PackedValue===b.PackedValue},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.PackedVector.Short2}}},fields:{_short2Packed:0},props:{PackedValue:{get:function(){return this._short2Packed},set:function(value){this._short2Packed=value}}},alias:["PackedValue","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$1$System$UInt32$PackedValue","equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Graphics$PackedVector$Short2$equalsT"],ctors:{$ctor1:function(vector){this.$initialize();this._short2Packed=Microsoft.Xna.Framework.Graphics.PackedVector.Short2.PackInTwo(vector.X,vector.Y)},$ctor2:function(x,y){this.$initialize();this._short2Packed=Microsoft.Xna.Framework.Graphics.PackedVector.Short2.PackInTwo(x,y)},ctor:function(){this.$initialize()}},methods:{equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Graphics.PackedVector.Short2)?Microsoft.Xna.Framework.Graphics.PackedVector.Short2.op_Equality(this,System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Graphics.PackedVector.Short2),Microsoft.Xna.Framework.Graphics.PackedVector.Short2))):!1},equalsT:function(other){return Microsoft.Xna.Framework.Graphics.PackedVector.Short2.op_Equality(this,other.$clone())},getHashCode:function(){return Bridge.getHashCode(this._short2Packed)},toString:function(){return System.UInt32.format(this._short2Packed,"x8")},ToVector2:function(){var v2=new Microsoft.Xna.Framework.Vector2.ctor;return v2.X=Bridge.Int.sxs((this._short2Packed&65535)>>>0&65535),v2.Y=Bridge.Int.sxs(this._short2Packed>>>16&65535),v2.$clone()},Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$PackFromVector4:function(vector){this._short2Packed=Microsoft.Xna.Framework.Graphics.PackedVector.Short2.PackInTwo(vector.X,vector.Y)},Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$ToVector4:function(){var v4=new Microsoft.Xna.Framework.Vector4.$ctor4(0,0,0,1);return v4.X=Bridge.Int.sxs((this._short2Packed&65535)>>>0&65535),v4.Y=Bridge.Int.sxs(this._short2Packed>>>16&65535),v4.$clone()},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.PackedVector.Short2;return s._short2Packed=this._short2Packed,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.PackedVector.Short4",{inherits:function(){return[Microsoft.Xna.Framework.Graphics.PackedVector.IPackedVector$1(System.UInt64),System.IEquatable$1(Microsoft.Xna.Framework.Graphics.PackedVector.Short4)]},$kind:"struct",statics:{methods:{Pack:function(vector){var mask=System.Int64(65535),maxPos=System.Int64(32767),minNeg=-32768,word4=Bridge.Int.clipu64(Bridge.Int.clip32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(vector.v.X,minNeg,maxPos),0,6))).and(System.UInt64(mask)),word3=System.Int64.clipu64(System.Int64(Bridge.Int.clip32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(vector.v.Y,minNeg,maxPos),0,6))).and(mask)).shl(16),word2=System.Int64.clipu64(System.Int64(Bridge.Int.clip32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(vector.v.Z,minNeg,maxPos),0,6))).and(mask)).shl(32),word1=System.Int64.clipu64(System.Int64(Bridge.Int.clip32(Bridge.Math.round(Microsoft.Xna.Framework.MathHelper.Clamp$1(vector.v.W,minNeg,maxPos),0,6))).and(mask)).shl(48);return word4.or(word3).or(word2).or(word1)},op_Inequality:function(a,b){return a.PackedValue.ne(b.PackedValue)},op_Equality:function(a,b){return a.PackedValue.equals(b.PackedValue)},getDefaultValue:function(){return new Microsoft.Xna.Framework.Graphics.PackedVector.Short4}}},fields:{packedValue:System.UInt64(0)},props:{PackedValue:{get:function(){return this.packedValue},set:function(value){this.packedValue=value}}},alias:["PackedValue","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$1$System$UInt64$PackedValue","equalsT","System$IEquatable$1$Microsoft$Xna$Framework$Graphics$PackedVector$Short4$equalsT","ToVector4","Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$ToVector4"],ctors:{$ctor1:function(vector){vector={v:vector};this.$initialize();this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.Short4.Pack(vector)},$ctor2:function(x,y,z,w){this.$initialize();var vector={v:new Microsoft.Xna.Framework.Vector4.$ctor4(x,y,z,w)};this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.Short4.Pack(vector)},ctor:function(){this.$initialize()}},methods:{equals:function(obj){return Bridge.is(obj,Microsoft.Xna.Framework.Graphics.PackedVector.Short4)?Microsoft.Xna.Framework.Graphics.PackedVector.Short4.op_Equality(this,System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj,Microsoft.Xna.Framework.Graphics.PackedVector.Short4),Microsoft.Xna.Framework.Graphics.PackedVector.Short4))):!1},equalsT:function(other){return Microsoft.Xna.Framework.Graphics.PackedVector.Short4.op_Equality(this,other.$clone())},getHashCode:function(){return Bridge.getHashCode(this.packedValue)},toString:function(){return this.packedValue.toString("x16")},Microsoft$Xna$Framework$Graphics$PackedVector$IPackedVector$PackFromVector4:function(vector){vector={v:vector};this.packedValue=Microsoft.Xna.Framework.Graphics.PackedVector.Short4.Pack(vector)},ToVector4:function(){return new Microsoft.Xna.Framework.Vector4.$ctor4(System.Int64.clip16(this.packedValue.and(System.UInt64(65535))),System.Int64.clip16(this.packedValue.shru(16).and(System.UInt64(65535))),System.Int64.clip16(this.packedValue.shru(32).and(System.UInt64(65535))),System.Int64.clip16(this.packedValue.shru(48).and(System.UInt64(65535))))},$clone:function(to){var s=to||new Microsoft.Xna.Framework.Graphics.PackedVector.Short4;return s.packedValue=this.packedValue,s}}});Bridge.define("Microsoft.Xna.Framework.Graphics.SpriteFont.CharComparer",{inherits:[System.Collections.Generic.IEqualityComparer$1(System.Char)],$kind:"nested class",statics:{fields:{Default:null},ctors:{init:function(){this.Default=new Microsoft.Xna.Framework.Graphics.SpriteFont.CharComparer}}},alias:["equals2",["System$Collections$Generic$IEqualityComparer$1$System$Char$equals2","System$Collections$Generic$IEqualityComparer$1$equals2"],"getHashCode2",["System$Collections$Generic$IEqualityComparer$1$System$Char$getHashCode2","System$Collections$Generic$IEqualityComparer$1$getHashCode2"]],methods:{equals2:function(x,y){return x===y},getHashCode2:function(b){return b}}});Bridge.define("Microsoft.Xna.Framework.LaunchParameters",{inherits:[System.Collections.Generic.Dictionary$2(System.String,System.String)]});Bridge.define("Microsoft.Xna.Framework.Graphics.AlphaTestEffect",{inherits:[Microsoft.Xna.Framework.Graphics.Effect,Microsoft.Xna.Framework.Graphics.IEffectMatrices,Microsoft.Xna.Framework.Graphics.IEffectFog],fields:{textureParam:null,diffuseColorParam:null,alphaTestParam:null,fogColorParam:null,fogVectorParam:null,worldViewProjParam:null,fogEnabled:!1,vertexColorEnabled:!1,world:null,view:null,projection:null,worldView:null,diffuseColor:null,alpha:0,fogStart:0,fogEnd:0,alphaFunction:0,referenceAlpha:0,isEqNe:!1,dirtyFlags:0},props:{World:{get:function(){return this.world.$clone()},set:function(value){this.world=value.$clone();this.dirtyFlags|=17}},View:{get:function(){return this.view.$clone()},set:function(value){this.view=value.$clone();this.dirtyFlags|=17}},Projection:{get:function(){return this.projection.$clone()},set:function(value){this.projection=value.$clone();this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.WorldViewProj}},DiffuseColor:{get:function(){return this.diffuseColor.$clone()},set:function(value){this.diffuseColor=value.$clone();this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.MaterialColor}},Alpha:{get:function(){return this.alpha},set:function(value){this.alpha=value;this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.MaterialColor}},FogEnabled:{get:function(){return this.fogEnabled},set:function(value){this.fogEnabled!==value&&(this.fogEnabled=value,this.dirtyFlags|=160)}},FogStart:{get:function(){return this.fogStart},set:function(value){this.fogStart=value;this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.Fog}},FogEnd:{get:function(){return this.fogEnd},set:function(value){this.fogEnd=value;this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.Fog}},FogColor:{get:function(){return this.fogColorParam.GetValueVector3()},set:function(value){this.fogColorParam.SetValue$6(value.$clone())}},Texture:{get:function(){return this.textureParam.GetValueTexture2D()},set:function(value){this.textureParam.SetValue(value)}},VertexColorEnabled:{get:function(){return this.vertexColorEnabled},set:function(value){this.vertexColorEnabled!==value&&(this.vertexColorEnabled=value,this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.ShaderIndex)}},AlphaFunction:{get:function(){return this.alphaFunction},set:function(value){this.alphaFunction=value;this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.AlphaTest}},ReferenceAlpha:{get:function(){return this.referenceAlpha},set:function(value){this.referenceAlpha=value;this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.AlphaTest}}},alias:["World","Microsoft$Xna$Framework$Graphics$IEffectMatrices$World","View","Microsoft$Xna$Framework$Graphics$IEffectMatrices$View","Projection","Microsoft$Xna$Framework$Graphics$IEffectMatrices$Projection","FogEnabled","Microsoft$Xna$Framework$Graphics$IEffectFog$FogEnabled","FogStart","Microsoft$Xna$Framework$Graphics$IEffectFog$FogStart","FogEnd","Microsoft$Xna$Framework$Graphics$IEffectFog$FogEnd","FogColor","Microsoft$Xna$Framework$Graphics$IEffectFog$FogColor"],ctors:{init:function(){this.world=new Microsoft.Xna.Framework.Matrix;this.view=new Microsoft.Xna.Framework.Matrix;this.projection=new Microsoft.Xna.Framework.Matrix;this.worldView=new Microsoft.Xna.Framework.Matrix;this.diffuseColor=new Microsoft.Xna.Framework.Vector3;this.world=Microsoft.Xna.Framework.Matrix.Identity.$clone();this.view=Microsoft.Xna.Framework.Matrix.Identity.$clone();this.projection=Microsoft.Xna.Framework.Matrix.Identity.$clone();this.diffuseColor=Microsoft.Xna.Framework.Vector3.One.$clone();this.alpha=1;this.fogStart=0;this.fogEnd=1;this.alphaFunction=Microsoft.Xna.Framework.Graphics.CompareFunction.Greater;this.dirtyFlags=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.All},$ctor1:function(device){this.$initialize();Microsoft.Xna.Framework.Graphics.Effect.$ctor2.call(this,device,Microsoft.Xna.Framework.Graphics.EffectResource.AlphaTestEffect.Bytecode);this.CacheEffectParameters()},ctor:function(cloneSource){this.$initialize();Microsoft.Xna.Framework.Graphics.Effect.ctor.call(this,cloneSource);this.CacheEffectParameters();this.fogEnabled=cloneSource.fogEnabled;this.vertexColorEnabled=cloneSource.vertexColorEnabled;this.world=cloneSource.world.$clone();this.view=cloneSource.view.$clone();this.projection=cloneSource.projection.$clone();this.diffuseColor=cloneSource.diffuseColor.$clone();this.alpha=cloneSource.alpha;this.fogStart=cloneSource.fogStart;this.fogEnd=cloneSource.fogEnd;this.alphaFunction=cloneSource.alphaFunction;this.referenceAlpha=cloneSource.referenceAlpha}},methods:{Clone:function(){return new Microsoft.Xna.Framework.Graphics.AlphaTestEffect.ctor(this)},CacheEffectParameters:function(){this.textureParam=this.Parameters.getItem$1("Texture");this.diffuseColorParam=this.Parameters.getItem$1("DiffuseColor");this.alphaTestParam=this.Parameters.getItem$1("AlphaTest");this.fogColorParam=this.Parameters.getItem$1("FogColor");this.fogVectorParam=this.Parameters.getItem$1("FogVector");this.worldViewProjParam=this.Parameters.getItem$1("WorldViewProj")},OnApply:function(){var shaderIndex;if(this.dirtyFlags=Microsoft.Xna.Framework.Graphics.EffectHelpers.SetWorldViewProjAndFog(this.dirtyFlags,Bridge.ref(this,"world"),Bridge.ref(this,"view"),Bridge.ref(this,"projection"),Bridge.ref(this,"worldView"),this.fogEnabled,this.fogStart,this.fogEnd,this.worldViewProjParam,this.fogVectorParam),(this.dirtyFlags&Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.MaterialColor)!=0&&(this.diffuseColorParam.SetValue$8(new Microsoft.Xna.Framework.Vector4.$ctor2(Microsoft.Xna.Framework.Vector3.op_Multiply$1(this.diffuseColor.$clone(),this.alpha),this.alpha)),this.dirtyFlags&=-9),(this.dirtyFlags&Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.AlphaTest)!=0){var alphaTest=new Microsoft.Xna.Framework.Vector4.ctor,eqNe=!1,reference=this.referenceAlpha/255,threshold=.00196078443;switch(this.alphaFunction){case Microsoft.Xna.Framework.Graphics.CompareFunction.Less:alphaTest.X=reference-threshold;alphaTest.Z=1;alphaTest.W=-1;break;case Microsoft.Xna.Framework.Graphics.CompareFunction.LessEqual:alphaTest.X=reference+threshold;alphaTest.Z=1;alphaTest.W=-1;break;case Microsoft.Xna.Framework.Graphics.CompareFunction.GreaterEqual:alphaTest.X=reference-threshold;alphaTest.Z=-1;alphaTest.W=1;break;case Microsoft.Xna.Framework.Graphics.CompareFunction.Greater:alphaTest.X=reference+threshold;alphaTest.Z=-1;alphaTest.W=1;break;case Microsoft.Xna.Framework.Graphics.CompareFunction.Equal:alphaTest.X=reference;alphaTest.Y=threshold;alphaTest.Z=1;alphaTest.W=-1;eqNe=!0;break;case Microsoft.Xna.Framework.Graphics.CompareFunction.NotEqual:alphaTest.X=reference;alphaTest.Y=threshold;alphaTest.Z=-1;alphaTest.W=1;eqNe=!0;break;case Microsoft.Xna.Framework.Graphics.CompareFunction.Never:alphaTest.Z=-1;alphaTest.W=-1;break;case Microsoft.Xna.Framework.Graphics.CompareFunction.Always:default:alphaTest.Z=1;alphaTest.W=1;break}this.alphaTestParam.SetValue$8(alphaTest.$clone());this.dirtyFlags&=-65;this.isEqNe!==eqNe&&(this.isEqNe=eqNe,this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.ShaderIndex)}(this.dirtyFlags&Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.ShaderIndex)!=0&&(shaderIndex=0,this.fogEnabled||(shaderIndex=shaderIndex+1|0),this.vertexColorEnabled&&(shaderIndex=shaderIndex+2|0),this.isEqNe&&(shaderIndex=shaderIndex+4|0),this.dirtyFlags&=-129,this.CurrentTechnique=this.Techniques.getItem(shaderIndex))}}});Bridge.define("Microsoft.Xna.Framework.Graphics.BasicEffect",{inherits:[Microsoft.Xna.Framework.Graphics.Effect,Microsoft.Xna.Framework.Graphics.IEffectMatrices,Microsoft.Xna.Framework.Graphics.IEffectLights,Microsoft.Xna.Framework.Graphics.IEffectFog],fields:{textureParam:null,diffuseColorParam:null,emissiveColorParam:null,specularColorParam:null,specularPowerParam:null,eyePositionParam:null,fogColorParam:null,fogVectorParam:null,worldParam:null,worldInverseTransposeParam:null,worldViewProjParam:null,lightingEnabled:!1,preferPerPixelLighting:!1,oneLight:!1,fogEnabled:!1,textureEnabled:!1,vertexColorEnabled:!1,world:null,view:null,projection:null,worldView:null,diffuseColor:null,emissiveColor:null,ambientLightColor:null,alpha:0,light0:null,light1:null,light2:null,fogStart:0,fogEnd:0,dirtyFlags:0},props:{World:{get:function(){return this.world.$clone()},set:function(value){this.world=value.$clone();this.dirtyFlags|=19}},View:{get:function(){return this.view.$clone()},set:function(value){this.view=value.$clone();this.dirtyFlags|=21}},Projection:{get:function(){return this.projection.$clone()},set:function(value){this.projection=value.$clone();this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.WorldViewProj}},DiffuseColor:{get:function(){return this.diffuseColor.$clone()},set:function(value){this.diffuseColor=value.$clone();this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.MaterialColor}},EmissiveColor:{get:function(){return this.emissiveColor.$clone()},set:function(value){this.emissiveColor=value.$clone();this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.MaterialColor}},SpecularColor:{get:function(){return this.specularColorParam.GetValueVector3()},set:function(value){this.specularColorParam.SetValue$6(value.$clone())}},SpecularPower:{get:function(){return this.specularPowerParam.GetValueSingle()},set:function(value){this.specularPowerParam.SetValue$12(value)}},Alpha:{get:function(){return this.alpha},set:function(value){this.alpha=value;this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.MaterialColor}},LightingEnabled:{get:function(){return this.lightingEnabled},set:function(value){this.lightingEnabled!==value&&(this.lightingEnabled=value,this.dirtyFlags|=136)}},PreferPerPixelLighting:{get:function(){return this.preferPerPixelLighting},set:function(value){this.preferPerPixelLighting!==value&&(this.preferPerPixelLighting=value,this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.ShaderIndex)}},AmbientLightColor:{get:function(){return this.ambientLightColor.$clone()},set:function(value){this.ambientLightColor=value.$clone();this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.MaterialColor}},DirectionalLight0:{get:function(){return this.light0}},DirectionalLight1:{get:function(){return this.light1}},DirectionalLight2:{get:function(){return this.light2}},FogEnabled:{get:function(){return this.fogEnabled},set:function(value){this.fogEnabled!==value&&(this.fogEnabled=value,this.dirtyFlags|=160)}},FogStart:{get:function(){return this.fogStart},set:function(value){this.fogStart=value;this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.Fog}},FogEnd:{get:function(){return this.fogEnd},set:function(value){this.fogEnd=value;this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.Fog}},FogColor:{get:function(){return this.fogColorParam.GetValueVector3()},set:function(value){this.fogColorParam.SetValue$6(value.$clone())}},TextureEnabled:{get:function(){return this.textureEnabled},set:function(value){this.textureEnabled!==value&&(this.textureEnabled=value,this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.ShaderIndex)}},Texture:{get:function(){return this.textureParam.GetValueTexture2D()},set:function(value){this.textureParam.SetValue(value)}},VertexColorEnabled:{get:function(){return this.vertexColorEnabled},set:function(value){this.vertexColorEnabled!==value&&(this.vertexColorEnabled=value,this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.ShaderIndex)}}},alias:["World","Microsoft$Xna$Framework$Graphics$IEffectMatrices$World","View","Microsoft$Xna$Framework$Graphics$IEffectMatrices$View","Projection","Microsoft$Xna$Framework$Graphics$IEffectMatrices$Projection","LightingEnabled","Microsoft$Xna$Framework$Graphics$IEffectLights$LightingEnabled","AmbientLightColor","Microsoft$Xna$Framework$Graphics$IEffectLights$AmbientLightColor","DirectionalLight0","Microsoft$Xna$Framework$Graphics$IEffectLights$DirectionalLight0","DirectionalLight1","Microsoft$Xna$Framework$Graphics$IEffectLights$DirectionalLight1","DirectionalLight2","Microsoft$Xna$Framework$Graphics$IEffectLights$DirectionalLight2","FogEnabled","Microsoft$Xna$Framework$Graphics$IEffectFog$FogEnabled","FogStart","Microsoft$Xna$Framework$Graphics$IEffectFog$FogStart","FogEnd","Microsoft$Xna$Framework$Graphics$IEffectFog$FogEnd","FogColor","Microsoft$Xna$Framework$Graphics$IEffectFog$FogColor","EnableDefaultLighting","Microsoft$Xna$Framework$Graphics$IEffectLights$EnableDefaultLighting"],ctors:{init:function(){this.world=new Microsoft.Xna.Framework.Matrix;this.view=new Microsoft.Xna.Framework.Matrix;this.projection=new Microsoft.Xna.Framework.Matrix;this.worldView=new Microsoft.Xna.Framework.Matrix;this.diffuseColor=new Microsoft.Xna.Framework.Vector3;this.emissiveColor=new Microsoft.Xna.Framework.Vector3;this.ambientLightColor=new Microsoft.Xna.Framework.Vector3;this.world=Microsoft.Xna.Framework.Matrix.Identity.$clone();this.view=Microsoft.Xna.Framework.Matrix.Identity.$clone();this.projection=Microsoft.Xna.Framework.Matrix.Identity.$clone();this.diffuseColor=Microsoft.Xna.Framework.Vector3.One.$clone();this.emissiveColor=Microsoft.Xna.Framework.Vector3.Zero.$clone();this.ambientLightColor=Microsoft.Xna.Framework.Vector3.Zero.$clone();this.alpha=1;this.fogStart=0;this.fogEnd=1;this.dirtyFlags=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.All},$ctor1:function(device){this.$initialize();Microsoft.Xna.Framework.Graphics.Effect.$ctor2.call(this,device,Microsoft.Xna.Framework.Graphics.EffectResource.BasicEffect.Bytecode);this.CacheEffectParameters(null);this.DirectionalLight0.Enabled=!0;this.SpecularColor=Microsoft.Xna.Framework.Vector3.One.$clone();this.SpecularPower=16},ctor:function(cloneSource){this.$initialize();Microsoft.Xna.Framework.Graphics.Effect.ctor.call(this,cloneSource);this.CacheEffectParameters(cloneSource);this.lightingEnabled=cloneSource.lightingEnabled;this.preferPerPixelLighting=cloneSource.preferPerPixelLighting;this.fogEnabled=cloneSource.fogEnabled;this.textureEnabled=cloneSource.textureEnabled;this.vertexColorEnabled=cloneSource.vertexColorEnabled;this.world=cloneSource.world.$clone();this.view=cloneSource.view.$clone();this.projection=cloneSource.projection.$clone();this.diffuseColor=cloneSource.diffuseColor.$clone();this.emissiveColor=cloneSource.emissiveColor.$clone();this.ambientLightColor=cloneSource.ambientLightColor.$clone();this.alpha=cloneSource.alpha;this.fogStart=cloneSource.fogStart;this.fogEnd=cloneSource.fogEnd}},methods:{Clone:function(){return new Microsoft.Xna.Framework.Graphics.BasicEffect.ctor(this)},EnableDefaultLighting:function(){this.LightingEnabled=!0;this.AmbientLightColor=Microsoft.Xna.Framework.Graphics.EffectHelpers.EnableDefaultLighting(this.light0,this.light1,this.light2)},CacheEffectParameters:function(cloneSource){this.textureParam=this.Parameters.getItem$1("Texture");this.diffuseColorParam=this.Parameters.getItem$1("DiffuseColor");this.emissiveColorParam=this.Parameters.getItem$1("EmissiveColor");this.specularColorParam=this.Parameters.getItem$1("SpecularColor");this.specularPowerParam=this.Parameters.getItem$1("SpecularPower");this.eyePositionParam=this.Parameters.getItem$1("EyePosition");this.fogColorParam=this.Parameters.getItem$1("FogColor");this.fogVectorParam=this.Parameters.getItem$1("FogVector");this.worldParam=this.Parameters.getItem$1("World");this.worldInverseTransposeParam=this.Parameters.getItem$1("WorldInverseTranspose");this.worldViewProjParam=this.Parameters.getItem$1("WorldViewProj");this.light0=new Microsoft.Xna.Framework.Graphics.DirectionalLight(this.Parameters.getItem$1("DirLight0Direction"),this.Parameters.getItem$1("DirLight0DiffuseColor"),this.Parameters.getItem$1("DirLight0SpecularColor"),cloneSource!=null?cloneSource.light0:null);this.light1=new Microsoft.Xna.Framework.Graphics.DirectionalLight(this.Parameters.getItem$1("DirLight1Direction"),this.Parameters.getItem$1("DirLight1DiffuseColor"),this.Parameters.getItem$1("DirLight1SpecularColor"),cloneSource!=null?cloneSource.light1:null);this.light2=new Microsoft.Xna.Framework.Graphics.DirectionalLight(this.Parameters.getItem$1("DirLight2Direction"),this.Parameters.getItem$1("DirLight2DiffuseColor"),this.Parameters.getItem$1("DirLight2SpecularColor"),cloneSource!=null?cloneSource.light2:null)},OnApply:function(){var newOneLight,shaderIndex;this.dirtyFlags=Microsoft.Xna.Framework.Graphics.EffectHelpers.SetWorldViewProjAndFog(this.dirtyFlags,Bridge.ref(this,"world"),Bridge.ref(this,"view"),Bridge.ref(this,"projection"),Bridge.ref(this,"worldView"),this.fogEnabled,this.fogStart,this.fogEnd,this.worldViewProjParam,this.fogVectorParam);(this.dirtyFlags&Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.MaterialColor)!=0&&(Microsoft.Xna.Framework.Graphics.EffectHelpers.SetMaterialColor(this.lightingEnabled,this.alpha,Bridge.ref(this,"diffuseColor"),Bridge.ref(this,"emissiveColor"),Bridge.ref(this,"ambientLightColor"),this.diffuseColorParam,this.emissiveColorParam),this.dirtyFlags&=-9);this.lightingEnabled&&(this.dirtyFlags=Microsoft.Xna.Framework.Graphics.EffectHelpers.SetLightingMatrices(this.dirtyFlags,Bridge.ref(this,"world"),Bridge.ref(this,"view"),this.worldParam,this.worldInverseTransposeParam,this.eyePositionParam),newOneLight=!this.light1.Enabled&&!this.light2.Enabled,this.oneLight!==newOneLight&&(this.oneLight=newOneLight,this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.ShaderIndex));(this.dirtyFlags&Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.ShaderIndex)!=0&&(shaderIndex=0,this.fogEnabled||(shaderIndex=shaderIndex+1|0),this.vertexColorEnabled&&(shaderIndex=shaderIndex+2|0),this.textureEnabled&&(shaderIndex=shaderIndex+4|0),this.lightingEnabled&&(shaderIndex=this.preferPerPixelLighting?shaderIndex+24|0:this.oneLight?shaderIndex+16|0:shaderIndex+8|0),this.dirtyFlags&=-129,this.CurrentTechnique=this.Techniques.getItem(shaderIndex))}}});Bridge.define("Microsoft.Xna.Framework.Content.CurveReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Curve)],methods:{Read$1:function(input,existingInstance){var curve=existingInstance,num6,i;for(curve==null&&(curve=new Microsoft.Xna.Framework.Curve),curve.PreLoop=input.ReadInt32(),curve.PostLoop=input.ReadInt32(),num6=input.ReadInt32(),i=0;i<num6;i=i+1|0){var position=input.ReadSingle(),num4=input.ReadSingle(),tangentIn=input.ReadSingle(),tangentOut=input.ReadSingle(),continuity=input.ReadInt32();curve.Keys.add(new Microsoft.Xna.Framework.CurveKey.$ctor3(position,num4,tangentIn,tangentOut,continuity))}return curve}}});Bridge.define("Microsoft.Xna.Framework.Graphics.DualTextureEffect",{inherits:[Microsoft.Xna.Framework.Graphics.Effect,Microsoft.Xna.Framework.Graphics.IEffectMatrices,Microsoft.Xna.Framework.Graphics.IEffectFog],fields:{textureParam:null,texture2Param:null,diffuseColorParam:null,fogColorParam:null,fogVectorParam:null,worldViewProjParam:null,fogEnabled:!1,vertexColorEnabled:!1,world:null,view:null,projection:null,worldView:null,diffuseColor:null,alpha:0,fogStart:0,fogEnd:0,dirtyFlags:0},props:{World:{get:function(){return this.world.$clone()},set:function(value){this.world=value.$clone();this.dirtyFlags|=17}},View:{get:function(){return this.view.$clone()},set:function(value){this.view=value.$clone();this.dirtyFlags|=17}},Projection:{get:function(){return this.projection.$clone()},set:function(value){this.projection=value.$clone();this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.WorldViewProj}},DiffuseColor:{get:function(){return this.diffuseColor.$clone()},set:function(value){this.diffuseColor=value.$clone();this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.MaterialColor}},Alpha:{get:function(){return this.alpha},set:function(value){this.alpha=value;this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.MaterialColor}},FogEnabled:{get:function(){return this.fogEnabled},set:function(value){this.fogEnabled!==value&&(this.fogEnabled=value,this.dirtyFlags|=160)}},FogStart:{get:function(){return this.fogStart},set:function(value){this.fogStart=value;this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.Fog}},FogEnd:{get:function(){return this.fogEnd},set:function(value){this.fogEnd=value;this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.Fog}},FogColor:{get:function(){return this.fogColorParam.GetValueVector3()},set:function(value){this.fogColorParam.SetValue$6(value.$clone())}},Texture:{get:function(){return this.textureParam.GetValueTexture2D()},set:function(value){this.textureParam.SetValue(value)}},Texture2:{get:function(){return this.texture2Param.GetValueTexture2D()},set:function(value){this.texture2Param.SetValue(value)}},VertexColorEnabled:{get:function(){return this.vertexColorEnabled},set:function(value){this.vertexColorEnabled!==value&&(this.vertexColorEnabled=value,this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.ShaderIndex)}}},alias:["World","Microsoft$Xna$Framework$Graphics$IEffectMatrices$World","View","Microsoft$Xna$Framework$Graphics$IEffectMatrices$View","Projection","Microsoft$Xna$Framework$Graphics$IEffectMatrices$Projection","FogEnabled","Microsoft$Xna$Framework$Graphics$IEffectFog$FogEnabled","FogStart","Microsoft$Xna$Framework$Graphics$IEffectFog$FogStart","FogEnd","Microsoft$Xna$Framework$Graphics$IEffectFog$FogEnd","FogColor","Microsoft$Xna$Framework$Graphics$IEffectFog$FogColor"],ctors:{init:function(){this.world=new Microsoft.Xna.Framework.Matrix;this.view=new Microsoft.Xna.Framework.Matrix;this.projection=new Microsoft.Xna.Framework.Matrix;this.worldView=new Microsoft.Xna.Framework.Matrix;this.diffuseColor=new Microsoft.Xna.Framework.Vector3;this.world=Microsoft.Xna.Framework.Matrix.Identity.$clone();this.view=Microsoft.Xna.Framework.Matrix.Identity.$clone();this.projection=Microsoft.Xna.Framework.Matrix.Identity.$clone();this.diffuseColor=Microsoft.Xna.Framework.Vector3.One.$clone();this.alpha=1;this.fogStart=0;this.fogEnd=1;this.dirtyFlags=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.All},$ctor1:function(device){this.$initialize();Microsoft.Xna.Framework.Graphics.Effect.$ctor2.call(this,device,Microsoft.Xna.Framework.Graphics.EffectResource.DualTextureEffect.Bytecode);this.CacheEffectParameters()},ctor:function(cloneSource){this.$initialize();Microsoft.Xna.Framework.Graphics.Effect.ctor.call(this,cloneSource);this.CacheEffectParameters();this.fogEnabled=cloneSource.fogEnabled;this.vertexColorEnabled=cloneSource.vertexColorEnabled;this.world=cloneSource.world.$clone();this.view=cloneSource.view.$clone();this.projection=cloneSource.projection.$clone();this.diffuseColor=cloneSource.diffuseColor.$clone();this.alpha=cloneSource.alpha;this.fogStart=cloneSource.fogStart;this.fogEnd=cloneSource.fogEnd}},methods:{Clone:function(){return new Microsoft.Xna.Framework.Graphics.DualTextureEffect.ctor(this)},CacheEffectParameters:function(){this.textureParam=this.Parameters.getItem$1("Texture");this.texture2Param=this.Parameters.getItem$1("Texture2");this.diffuseColorParam=this.Parameters.getItem$1("DiffuseColor");this.fogColorParam=this.Parameters.getItem$1("FogColor");this.fogVectorParam=this.Parameters.getItem$1("FogVector");this.worldViewProjParam=this.Parameters.getItem$1("WorldViewProj")},OnApply:function(){if(this.dirtyFlags=Microsoft.Xna.Framework.Graphics.EffectHelpers.SetWorldViewProjAndFog(this.dirtyFlags,Bridge.ref(this,"world"),Bridge.ref(this,"view"),Bridge.ref(this,"projection"),Bridge.ref(this,"worldView"),this.fogEnabled,this.fogStart,this.fogEnd,this.worldViewProjParam,this.fogVectorParam),(this.dirtyFlags&Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.MaterialColor)!=0&&(this.diffuseColorParam.SetValue$8(new Microsoft.Xna.Framework.Vector4.$ctor2(Microsoft.Xna.Framework.Vector3.op_Multiply$1(this.diffuseColor.$clone(),this.alpha),this.alpha)),this.dirtyFlags&=-9),(this.dirtyFlags&Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.ShaderIndex)!=0){var shaderIndex=0;this.fogEnabled||(shaderIndex=shaderIndex+1|0);this.vertexColorEnabled&&(shaderIndex=shaderIndex+2|0);this.dirtyFlags&=-129;this.CurrentTechnique=this.Techniques.getItem(shaderIndex)}}}});Bridge.define("Microsoft.Xna.Framework.Graphics.EffectMaterial",{inherits:[Microsoft.Xna.Framework.Graphics.Effect],ctors:{ctor:function(cloneSource){this.$initialize();Microsoft.Xna.Framework.Graphics.Effect.ctor.call(this,cloneSource)}}});Bridge.define("Microsoft.Xna.Framework.Content.EffectReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Graphics.Effect)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Graphics.Effect).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){var dataSize=input.ReadInt32(),data=input.ContentManager.GetScratchBuffer(dataSize),effect;return input.Read$1(data,0,dataSize),effect=new Microsoft.Xna.Framework.Graphics.Effect.$ctor3(input.GraphicsDevice,data,0,dataSize),effect.Name=input.AssetName,effect}}});Bridge.define("Microsoft.Xna.Framework.Graphics.EnvironmentMapEffect",{inherits:[Microsoft.Xna.Framework.Graphics.Effect,Microsoft.Xna.Framework.Graphics.IEffectMatrices,Microsoft.Xna.Framework.Graphics.IEffectLights,Microsoft.Xna.Framework.Graphics.IEffectFog],fields:{textureParam:null,environmentMapParam:null,environmentMapAmountParam:null,environmentMapSpecularParam:null,fresnelFactorParam:null,diffuseColorParam:null,emissiveColorParam:null,eyePositionParam:null,fogColorParam:null,fogVectorParam:null,worldParam:null,worldInverseTransposeParam:null,worldViewProjParam:null,oneLight:!1,fogEnabled:!1,fresnelEnabled:!1,specularEnabled:!1,world:null,view:null,projection:null,worldView:null,diffuseColor:null,emissiveColor:null,ambientLightColor:null,alpha:0,light0:null,light1:null,light2:null,fogStart:0,fogEnd:0,dirtyFlags:0},props:{World:{get:function(){return this.world.$clone()},set:function(value){this.world=value.$clone();this.dirtyFlags|=19}},View:{get:function(){return this.view.$clone()},set:function(value){this.view=value.$clone();this.dirtyFlags|=21}},Projection:{get:function(){return this.projection.$clone()},set:function(value){this.projection=value.$clone();this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.WorldViewProj}},DiffuseColor:{get:function(){return this.diffuseColor.$clone()},set:function(value){this.diffuseColor=value.$clone();this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.MaterialColor}},EmissiveColor:{get:function(){return this.emissiveColor.$clone()},set:function(value){this.emissiveColor=value.$clone();this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.MaterialColor}},Alpha:{get:function(){return this.alpha},set:function(value){this.alpha=value;this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.MaterialColor}},AmbientLightColor:{get:function(){return this.ambientLightColor.$clone()},set:function(value){this.ambientLightColor=value.$clone();this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.MaterialColor}},DirectionalLight0:{get:function(){return this.light0}},DirectionalLight1:{get:function(){return this.light1}},DirectionalLight2:{get:function(){return this.light2}},FogEnabled:{get:function(){return this.fogEnabled},set:function(value){this.fogEnabled!==value&&(this.fogEnabled=value,this.dirtyFlags|=160)}},FogStart:{get:function(){return this.fogStart},set:function(value){this.fogStart=value;this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.Fog}},FogEnd:{get:function(){return this.fogEnd},set:function(value){this.fogEnd=value;this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.Fog}},FogColor:{get:function(){return this.fogColorParam.GetValueVector3()},set:function(value){this.fogColorParam.SetValue$6(value.$clone())}},Texture:{get:function(){return this.textureParam.GetValueTexture2D()},set:function(value){this.textureParam.SetValue(value)}},EnvironmentMap:{get:function(){return this.environmentMapParam.GetValueTextureCube()},set:function(value){this.environmentMapParam.SetValue(value)}},EnvironmentMapAmount:{get:function(){return this.environmentMapAmountParam.GetValueSingle()},set:function(value){this.environmentMapAmountParam.SetValue$12(value)}},EnvironmentMapSpecular:{get:function(){return this.environmentMapSpecularParam.GetValueVector3()},set:function(value){this.environmentMapSpecularParam.SetValue$6(value.$clone());var enabled=Microsoft.Xna.Framework.Vector3.op_Inequality(value.$clone(),Microsoft.Xna.Framework.Vector3.Zero.$clone());this.specularEnabled!==enabled&&(this.specularEnabled=enabled,this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.ShaderIndex)}},FresnelFactor:{get:function(){return this.fresnelFactorParam.GetValueSingle()},set:function(value){this.fresnelFactorParam.SetValue$12(value);var enabled=value!==0;this.fresnelEnabled!==enabled&&(this.fresnelEnabled=enabled,this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.ShaderIndex)}},Microsoft$Xna$Framework$Graphics$IEffectLights$LightingEnabled:{get:function(){return!0},set:function(value){if(!value)throw new System.NotSupportedException.$ctor1("EnvironmentMapEffect does not support setting LightingEnabled to false.");}}},alias:["World","Microsoft$Xna$Framework$Graphics$IEffectMatrices$World","View","Microsoft$Xna$Framework$Graphics$IEffectMatrices$View","Projection","Microsoft$Xna$Framework$Graphics$IEffectMatrices$Projection","AmbientLightColor","Microsoft$Xna$Framework$Graphics$IEffectLights$AmbientLightColor","DirectionalLight0","Microsoft$Xna$Framework$Graphics$IEffectLights$DirectionalLight0","DirectionalLight1","Microsoft$Xna$Framework$Graphics$IEffectLights$DirectionalLight1","DirectionalLight2","Microsoft$Xna$Framework$Graphics$IEffectLights$DirectionalLight2","FogEnabled","Microsoft$Xna$Framework$Graphics$IEffectFog$FogEnabled","FogStart","Microsoft$Xna$Framework$Graphics$IEffectFog$FogStart","FogEnd","Microsoft$Xna$Framework$Graphics$IEffectFog$FogEnd","FogColor","Microsoft$Xna$Framework$Graphics$IEffectFog$FogColor","EnableDefaultLighting","Microsoft$Xna$Framework$Graphics$IEffectLights$EnableDefaultLighting"],ctors:{init:function(){this.world=new Microsoft.Xna.Framework.Matrix;this.view=new Microsoft.Xna.Framework.Matrix;this.projection=new Microsoft.Xna.Framework.Matrix;this.worldView=new Microsoft.Xna.Framework.Matrix;this.diffuseColor=new Microsoft.Xna.Framework.Vector3;this.emissiveColor=new Microsoft.Xna.Framework.Vector3;this.ambientLightColor=new Microsoft.Xna.Framework.Vector3;this.world=Microsoft.Xna.Framework.Matrix.Identity.$clone();this.view=Microsoft.Xna.Framework.Matrix.Identity.$clone();this.projection=Microsoft.Xna.Framework.Matrix.Identity.$clone();this.diffuseColor=Microsoft.Xna.Framework.Vector3.One.$clone();this.emissiveColor=Microsoft.Xna.Framework.Vector3.Zero.$clone();this.ambientLightColor=Microsoft.Xna.Framework.Vector3.Zero.$clone();this.alpha=1;this.fogStart=0;this.fogEnd=1;this.dirtyFlags=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.All},$ctor1:function(device){this.$initialize();Microsoft.Xna.Framework.Graphics.Effect.$ctor2.call(this,device,Microsoft.Xna.Framework.Graphics.EffectResource.EnvironmentMapEffect.Bytecode);this.CacheEffectParameters(null);this.DirectionalLight0.Enabled=!0;this.EnvironmentMapAmount=1;this.EnvironmentMapSpecular=Microsoft.Xna.Framework.Vector3.Zero.$clone();this.FresnelFactor=1},ctor:function(cloneSource){this.$initialize();Microsoft.Xna.Framework.Graphics.Effect.ctor.call(this,cloneSource);this.CacheEffectParameters(cloneSource);this.fogEnabled=cloneSource.fogEnabled;this.fresnelEnabled=cloneSource.fresnelEnabled;this.specularEnabled=cloneSource.specularEnabled;this.world=cloneSource.world.$clone();this.view=cloneSource.view.$clone();this.projection=cloneSource.projection.$clone();this.diffuseColor=cloneSource.diffuseColor.$clone();this.emissiveColor=cloneSource.emissiveColor.$clone();this.ambientLightColor=cloneSource.ambientLightColor.$clone();this.alpha=cloneSource.alpha;this.fogStart=cloneSource.fogStart;this.fogEnd=cloneSource.fogEnd}},methods:{Clone:function(){return new Microsoft.Xna.Framework.Graphics.EnvironmentMapEffect.ctor(this)},EnableDefaultLighting:function(){this.AmbientLightColor=Microsoft.Xna.Framework.Graphics.EffectHelpers.EnableDefaultLighting(this.light0,this.light1,this.light2)},CacheEffectParameters:function(cloneSource){this.textureParam=this.Parameters.getItem$1("Texture");this.environmentMapParam=this.Parameters.getItem$1("EnvironmentMap");this.environmentMapAmountParam=this.Parameters.getItem$1("EnvironmentMapAmount");this.environmentMapSpecularParam=this.Parameters.getItem$1("EnvironmentMapSpecular");this.fresnelFactorParam=this.Parameters.getItem$1("FresnelFactor");this.diffuseColorParam=this.Parameters.getItem$1("DiffuseColor");this.emissiveColorParam=this.Parameters.getItem$1("EmissiveColor");this.eyePositionParam=this.Parameters.getItem$1("EyePosition");this.fogColorParam=this.Parameters.getItem$1("FogColor");this.fogVectorParam=this.Parameters.getItem$1("FogVector");this.worldParam=this.Parameters.getItem$1("World");this.worldInverseTransposeParam=this.Parameters.getItem$1("WorldInverseTranspose");this.worldViewProjParam=this.Parameters.getItem$1("WorldViewProj");this.light0=new Microsoft.Xna.Framework.Graphics.DirectionalLight(this.Parameters.getItem$1("DirLight0Direction"),this.Parameters.getItem$1("DirLight0DiffuseColor"),null,cloneSource!=null?cloneSource.light0:null);this.light1=new Microsoft.Xna.Framework.Graphics.DirectionalLight(this.Parameters.getItem$1("DirLight1Direction"),this.Parameters.getItem$1("DirLight1DiffuseColor"),null,cloneSource!=null?cloneSource.light1:null);this.light2=new Microsoft.Xna.Framework.Graphics.DirectionalLight(this.Parameters.getItem$1("DirLight2Direction"),this.Parameters.getItem$1("DirLight2DiffuseColor"),null,cloneSource!=null?cloneSource.light2:null)},OnApply:function(){var newOneLight,shaderIndex;this.dirtyFlags=Microsoft.Xna.Framework.Graphics.EffectHelpers.SetWorldViewProjAndFog(this.dirtyFlags,Bridge.ref(this,"world"),Bridge.ref(this,"view"),Bridge.ref(this,"projection"),Bridge.ref(this,"worldView"),this.fogEnabled,this.fogStart,this.fogEnd,this.worldViewProjParam,this.fogVectorParam);this.dirtyFlags=Microsoft.Xna.Framework.Graphics.EffectHelpers.SetLightingMatrices(this.dirtyFlags,Bridge.ref(this,"world"),Bridge.ref(this,"view"),this.worldParam,this.worldInverseTransposeParam,this.eyePositionParam);(this.dirtyFlags&Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.MaterialColor)!=0&&(Microsoft.Xna.Framework.Graphics.EffectHelpers.SetMaterialColor(!0,this.alpha,Bridge.ref(this,"diffuseColor"),Bridge.ref(this,"emissiveColor"),Bridge.ref(this,"ambientLightColor"),this.diffuseColorParam,this.emissiveColorParam),this.dirtyFlags&=-9);newOneLight=!this.light1.Enabled&&!this.light2.Enabled;this.oneLight!==newOneLight&&(this.oneLight=newOneLight,this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.ShaderIndex);(this.dirtyFlags&Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.ShaderIndex)!=0&&(shaderIndex=0,this.fogEnabled||(shaderIndex=shaderIndex+1|0),this.fresnelEnabled&&(shaderIndex=shaderIndex+2|0),this.specularEnabled&&(shaderIndex=shaderIndex+4|0),this.oneLight&&(shaderIndex=shaderIndex+8|0),this.dirtyFlags&=-129,this.CurrentTechnique=this.Techniques.getItem(shaderIndex))}}});Bridge.define("Microsoft.Xna.Framework.Content.IndexBufferReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Graphics.IndexBuffer)],methods:{Read$1:function(input,existingInstance){var indexBuffer=existingInstance,sixteenBits=input.ReadBoolean(),dataSize=input.ReadInt32(),data=input.ContentManager.GetScratchBuffer(dataSize);return input.Read$1(data,0,dataSize),indexBuffer==null&&(indexBuffer=new Microsoft.Xna.Framework.Graphics.IndexBuffer.ctor(input.GraphicsDevice,sixteenBits?Microsoft.Xna.Framework.Graphics.IndexElementSize.SixteenBits:Microsoft.Xna.Framework.Graphics.IndexElementSize.ThirtyTwoBits,Bridge.Int.div(dataSize,sixteenBits?2:4)|0,Microsoft.Xna.Framework.Graphics.BufferUsage.None)),indexBuffer.SetData$1(System.Byte,data,0,dataSize),indexBuffer}}});Bridge.define("Microsoft.Xna.Framework.Content.MatrixReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Matrix)],methods:{Read$1:function(input,existingInstance){var m11=input.ReadSingle(),m12=input.ReadSingle(),m13=input.ReadSingle(),m14=input.ReadSingle(),m21=input.ReadSingle(),m22=input.ReadSingle(),m23=input.ReadSingle(),m24=input.ReadSingle(),m31=input.ReadSingle(),m32=input.ReadSingle(),m33=input.ReadSingle(),m34=input.ReadSingle(),m41=input.ReadSingle(),m42=input.ReadSingle(),m43=input.ReadSingle(),m44=input.ReadSingle();return new Microsoft.Xna.Framework.Matrix.$ctor2(m11,m12,m13,m14,m21,m22,m23,m24,m31,m32,m33,m34,m41,m42,m43,m44)}}});Bridge.define("Microsoft.Xna.Framework.Content.PlaneReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Plane)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Plane).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){return existingInstance.Normal=input.ReadVector3(),existingInstance.D=input.ReadSingle(),existingInstance.$clone()}}});Bridge.define("Microsoft.Xna.Framework.Content.PointReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Point)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Point).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){var X=input.ReadInt32(),Y=input.ReadInt32();return new Microsoft.Xna.Framework.Point.$ctor2(X,Y)}}});Bridge.define("Microsoft.Xna.Framework.Content.QuaternionReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Quaternion)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Quaternion).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){return input.ReadQuaternion()}}});Bridge.define("Microsoft.Xna.Framework.Content.RayReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Ray)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Ray).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){var position=input.ReadVector3(),direction=input.ReadVector3();return new Microsoft.Xna.Framework.Ray.$ctor1(position.$clone(),direction.$clone())}}});Bridge.define("Microsoft.Xna.Framework.Content.RectangleReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Rectangle)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Rectangle).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){var left=input.ReadInt32(),top=input.ReadInt32(),width=input.ReadInt32(),height=input.ReadInt32();return new Microsoft.Xna.Framework.Rectangle.$ctor2(left,top,width,height)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.SkinnedEffect",{inherits:[Microsoft.Xna.Framework.Graphics.Effect,Microsoft.Xna.Framework.Graphics.IEffectMatrices,Microsoft.Xna.Framework.Graphics.IEffectLights,Microsoft.Xna.Framework.Graphics.IEffectFog],statics:{fields:{MaxBones:0},ctors:{init:function(){this.MaxBones=72}}},fields:{textureParam:null,diffuseColorParam:null,emissiveColorParam:null,specularColorParam:null,specularPowerParam:null,eyePositionParam:null,fogColorParam:null,fogVectorParam:null,worldParam:null,worldInverseTransposeParam:null,worldViewProjParam:null,bonesParam:null,preferPerPixelLighting:!1,oneLight:!1,fogEnabled:!1,world:null,view:null,projection:null,worldView:null,diffuseColor:null,emissiveColor:null,ambientLightColor:null,alpha:0,light0:null,light1:null,light2:null,fogStart:0,fogEnd:0,weightsPerVertex:0,dirtyFlags:0},props:{World:{get:function(){return this.world.$clone()},set:function(value){this.world=value.$clone();this.dirtyFlags|=19}},View:{get:function(){return this.view.$clone()},set:function(value){this.view=value.$clone();this.dirtyFlags|=21}},Projection:{get:function(){return this.projection.$clone()},set:function(value){this.projection=value.$clone();this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.WorldViewProj}},DiffuseColor:{get:function(){return this.diffuseColor.$clone()},set:function(value){this.diffuseColor=value.$clone();this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.MaterialColor}},EmissiveColor:{get:function(){return this.emissiveColor.$clone()},set:function(value){this.emissiveColor=value.$clone();this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.MaterialColor}},SpecularColor:{get:function(){return this.specularColorParam.GetValueVector3()},set:function(value){this.specularColorParam.SetValue$6(value.$clone())}},SpecularPower:{get:function(){return this.specularPowerParam.GetValueSingle()},set:function(value){this.specularPowerParam.SetValue$12(value)}},Alpha:{get:function(){return this.alpha},set:function(value){this.alpha=value;this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.MaterialColor}},PreferPerPixelLighting:{get:function(){return this.preferPerPixelLighting},set:function(value){this.preferPerPixelLighting!==value&&(this.preferPerPixelLighting=value,this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.ShaderIndex)}},AmbientLightColor:{get:function(){return this.ambientLightColor.$clone()},set:function(value){this.ambientLightColor=value.$clone();this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.MaterialColor}},DirectionalLight0:{get:function(){return this.light0}},DirectionalLight1:{get:function(){return this.light1}},DirectionalLight2:{get:function(){return this.light2}},FogEnabled:{get:function(){return this.fogEnabled},set:function(value){this.fogEnabled!==value&&(this.fogEnabled=value,this.dirtyFlags|=160)}},FogStart:{get:function(){return this.fogStart},set:function(value){this.fogStart=value;this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.Fog}},FogEnd:{get:function(){return this.fogEnd},set:function(value){this.fogEnd=value;this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.Fog}},FogColor:{get:function(){return this.fogColorParam.GetValueVector3()},set:function(value){this.fogColorParam.SetValue$6(value.$clone())}},Texture:{get:function(){return this.textureParam.GetValueTexture2D()},set:function(value){this.textureParam.SetValue(value)}},WeightsPerVertex:{get:function(){return this.weightsPerVertex},set:function(value){if(value!==1&&value!==2&&value!==4)throw new System.ArgumentOutOfRangeException.$ctor1("value");this.weightsPerVertex=value;this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.ShaderIndex}},Microsoft$Xna$Framework$Graphics$IEffectLights$LightingEnabled:{get:function(){return!0},set:function(value){if(!value)throw new System.NotSupportedException.$ctor1("SkinnedEffect does not support setting LightingEnabled to false.");}}},alias:["World","Microsoft$Xna$Framework$Graphics$IEffectMatrices$World","View","Microsoft$Xna$Framework$Graphics$IEffectMatrices$View","Projection","Microsoft$Xna$Framework$Graphics$IEffectMatrices$Projection","AmbientLightColor","Microsoft$Xna$Framework$Graphics$IEffectLights$AmbientLightColor","DirectionalLight0","Microsoft$Xna$Framework$Graphics$IEffectLights$DirectionalLight0","DirectionalLight1","Microsoft$Xna$Framework$Graphics$IEffectLights$DirectionalLight1","DirectionalLight2","Microsoft$Xna$Framework$Graphics$IEffectLights$DirectionalLight2","FogEnabled","Microsoft$Xna$Framework$Graphics$IEffectFog$FogEnabled","FogStart","Microsoft$Xna$Framework$Graphics$IEffectFog$FogStart","FogEnd","Microsoft$Xna$Framework$Graphics$IEffectFog$FogEnd","FogColor","Microsoft$Xna$Framework$Graphics$IEffectFog$FogColor","EnableDefaultLighting","Microsoft$Xna$Framework$Graphics$IEffectLights$EnableDefaultLighting"],ctors:{init:function(){this.world=new Microsoft.Xna.Framework.Matrix;this.view=new Microsoft.Xna.Framework.Matrix;this.projection=new Microsoft.Xna.Framework.Matrix;this.worldView=new Microsoft.Xna.Framework.Matrix;this.diffuseColor=new Microsoft.Xna.Framework.Vector3;this.emissiveColor=new Microsoft.Xna.Framework.Vector3;this.ambientLightColor=new Microsoft.Xna.Framework.Vector3;this.world=Microsoft.Xna.Framework.Matrix.Identity.$clone();this.view=Microsoft.Xna.Framework.Matrix.Identity.$clone();this.projection=Microsoft.Xna.Framework.Matrix.Identity.$clone();this.diffuseColor=Microsoft.Xna.Framework.Vector3.One.$clone();this.emissiveColor=Microsoft.Xna.Framework.Vector3.Zero.$clone();this.ambientLightColor=Microsoft.Xna.Framework.Vector3.Zero.$clone();this.alpha=1;this.fogStart=0;this.fogEnd=1;this.weightsPerVertex=4;this.dirtyFlags=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.All},ctor:function(device){var identityBones,i;for(this.$initialize(),Microsoft.Xna.Framework.Graphics.Effect.$ctor2.call(this,device,Microsoft.Xna.Framework.Graphics.EffectResource.SkinnedEffect.Bytecode),this.CacheEffectParameters(null),this.DirectionalLight0.Enabled=!0,this.SpecularColor=Microsoft.Xna.Framework.Vector3.One.$clone(),this.SpecularPower=16,identityBones=System.Array.init(Microsoft.Xna.Framework.Graphics.SkinnedEffect.MaxBones,function(){return new Microsoft.Xna.Framework.Matrix},Microsoft.Xna.Framework.Matrix),i=0;i<Microsoft.Xna.Framework.Graphics.SkinnedEffect.MaxBones;i=i+1|0)identityBones[System.Array.index(i,identityBones)]=Microsoft.Xna.Framework.Matrix.Identity.$clone();this.SetBoneTransforms(identityBones)},$ctor1:function(cloneSource){this.$initialize();Microsoft.Xna.Framework.Graphics.Effect.ctor.call(this,cloneSource);this.CacheEffectParameters(cloneSource);this.preferPerPixelLighting=cloneSource.preferPerPixelLighting;this.fogEnabled=cloneSource.fogEnabled;this.world=cloneSource.world.$clone();this.view=cloneSource.view.$clone();this.projection=cloneSource.projection.$clone();this.diffuseColor=cloneSource.diffuseColor.$clone();this.emissiveColor=cloneSource.emissiveColor.$clone();this.ambientLightColor=cloneSource.ambientLightColor.$clone();this.alpha=cloneSource.alpha;this.fogStart=cloneSource.fogStart;this.fogEnd=cloneSource.fogEnd;this.weightsPerVertex=cloneSource.weightsPerVertex}},methods:{SetBoneTransforms:function(boneTransforms){if(boneTransforms==null||boneTransforms.length===0)throw new System.ArgumentNullException.$ctor1("boneTransforms");if(boneTransforms.length>Microsoft.Xna.Framework.Graphics.SkinnedEffect.MaxBones)throw new System.ArgumentException.ctor;this.bonesParam.SetValue$2(boneTransforms)},GetBoneTransforms:function(count){var bones,i;if(count<=0||count>Microsoft.Xna.Framework.Graphics.SkinnedEffect.MaxBones)throw new System.ArgumentOutOfRangeException.$ctor1("count");for(bones=this.bonesParam.GetValueMatrixArray(count),i=0;i<bones.length;i=i+1|0)bones[System.Array.index(i,bones)].M44=1;return bones},Clone:function(){return new Microsoft.Xna.Framework.Graphics.SkinnedEffect.$ctor1(this)},EnableDefaultLighting:function(){this.AmbientLightColor=Microsoft.Xna.Framework.Graphics.EffectHelpers.EnableDefaultLighting(this.light0,this.light1,this.light2)},CacheEffectParameters:function(cloneSource){this.textureParam=this.Parameters.getItem$1("Texture");this.diffuseColorParam=this.Parameters.getItem$1("DiffuseColor");this.emissiveColorParam=this.Parameters.getItem$1("EmissiveColor");this.specularColorParam=this.Parameters.getItem$1("SpecularColor");this.specularPowerParam=this.Parameters.getItem$1("SpecularPower");this.eyePositionParam=this.Parameters.getItem$1("EyePosition");this.fogColorParam=this.Parameters.getItem$1("FogColor");this.fogVectorParam=this.Parameters.getItem$1("FogVector");this.worldParam=this.Parameters.getItem$1("World");this.worldInverseTransposeParam=this.Parameters.getItem$1("WorldInverseTranspose");this.worldViewProjParam=this.Parameters.getItem$1("WorldViewProj");this.bonesParam=this.Parameters.getItem$1("Bones");this.light0=new Microsoft.Xna.Framework.Graphics.DirectionalLight(this.Parameters.getItem$1("DirLight0Direction"),this.Parameters.getItem$1("DirLight0DiffuseColor"),this.Parameters.getItem$1("DirLight0SpecularColor"),cloneSource!=null?cloneSource.light0:null);this.light1=new Microsoft.Xna.Framework.Graphics.DirectionalLight(this.Parameters.getItem$1("DirLight1Direction"),this.Parameters.getItem$1("DirLight1DiffuseColor"),this.Parameters.getItem$1("DirLight1SpecularColor"),cloneSource!=null?cloneSource.light1:null);this.light2=new Microsoft.Xna.Framework.Graphics.DirectionalLight(this.Parameters.getItem$1("DirLight2Direction"),this.Parameters.getItem$1("DirLight2DiffuseColor"),this.Parameters.getItem$1("DirLight2SpecularColor"),cloneSource!=null?cloneSource.light2:null)},OnApply:function(){var newOneLight,shaderIndex;this.dirtyFlags=Microsoft.Xna.Framework.Graphics.EffectHelpers.SetWorldViewProjAndFog(this.dirtyFlags,Bridge.ref(this,"world"),Bridge.ref(this,"view"),Bridge.ref(this,"projection"),Bridge.ref(this,"worldView"),this.fogEnabled,this.fogStart,this.fogEnd,this.worldViewProjParam,this.fogVectorParam);this.dirtyFlags=Microsoft.Xna.Framework.Graphics.EffectHelpers.SetLightingMatrices(this.dirtyFlags,Bridge.ref(this,"world"),Bridge.ref(this,"view"),this.worldParam,this.worldInverseTransposeParam,this.eyePositionParam);(this.dirtyFlags&Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.MaterialColor)!=0&&(Microsoft.Xna.Framework.Graphics.EffectHelpers.SetMaterialColor(!0,this.alpha,Bridge.ref(this,"diffuseColor"),Bridge.ref(this,"emissiveColor"),Bridge.ref(this,"ambientLightColor"),this.diffuseColorParam,this.emissiveColorParam),this.dirtyFlags&=-9);newOneLight=!this.light1.Enabled&&!this.light2.Enabled;this.oneLight!==newOneLight&&(this.oneLight=newOneLight,this.dirtyFlags|=Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.ShaderIndex);(this.dirtyFlags&Microsoft.Xna.Framework.Graphics.EffectDirtyFlags.ShaderIndex)!=0&&(shaderIndex=0,this.fogEnabled||(shaderIndex=shaderIndex+1|0),this.weightsPerVertex===2?shaderIndex=shaderIndex+2|0:this.weightsPerVertex===4&&(shaderIndex=shaderIndex+4|0),this.preferPerPixelLighting?shaderIndex=shaderIndex+12|0:this.oneLight&&(shaderIndex=shaderIndex+6|0),this.dirtyFlags&=-129,this.CurrentTechnique=this.Techniques.getItem(shaderIndex))}}});Bridge.define("Microsoft.Xna.Framework.Content.SongReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Media.Song)],methods:{Read$1:function(input,existingInstance){var path=input.ReadString(),dirPath,durationMs;return System.String.isNullOrEmpty(path)||(dirPath=System.IO.Path.Combine(input.ContentManager.RootDirectoryFullPath,input.AssetName),path=Microsoft.Xna.Framework.Utilities.FileHelpers.ResolveRelativePath(dirPath,path)),durationMs=input.ReadObject(System.Int32),new Microsoft.Xna.Framework.Media.Song.$ctor1(path,durationMs)}}});Bridge.define("Microsoft.Xna.Framework.Content.SpriteFontReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Graphics.SpriteFont)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Graphics.SpriteFont).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){if(existingInstance!=null)return input.ReadObject$1(Microsoft.Xna.Framework.Graphics.Texture2D,existingInstance.Texture),input.ReadObject(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Rectangle)),input.ReadObject(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Rectangle)),input.ReadObject(System.Collections.Generic.List$1(System.Char)),input.ReadInt32(),input.ReadSingle(),input.ReadObject(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Vector3)),input.ReadBoolean()&&input.ReadChar(),existingInstance;else{var texture=input.ReadObject(Microsoft.Xna.Framework.Graphics.Texture2D),glyphs=input.ReadObject(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Rectangle)),cropping=input.ReadObject(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Rectangle)),charMap=input.ReadObject(System.Collections.Generic.List$1(System.Char)),lineSpacing=input.ReadInt32(),spacing=input.ReadSingle(),kerning=input.ReadObject(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Vector3)),defaultCharacter=null;return input.ReadBoolean()&&(defaultCharacter=input.ReadChar()),new Microsoft.Xna.Framework.Graphics.SpriteFont(texture,glyphs,cropping,charMap,lineSpacing,spacing,kerning,defaultCharacter)}}}});Bridge.define("Microsoft.Xna.Framework.Graphics.Texture2D",{inherits:[Microsoft.Xna.Framework.Graphics.Texture],statics:{methods:{FromStream:function(graphicsDevice,stream){if(graphicsDevice==null)throw new System.ArgumentNullException.$ctor1("graphicsDevice");if(stream==null)throw new System.ArgumentNullException.$ctor1("stream");try{return Microsoft.Xna.Framework.Graphics.Texture2D.PlatformFromStream(graphicsDevice,stream)}catch(e){e=System.Exception.create(e);throw new System.InvalidOperationException.$ctor2("This image format is not supported",e);}},ConvertToABGR:function(pixelHeight,pixelWidth,pixels){for(var pixel,pixelCount=Bridge.Int.mul(pixelWidth,pixelHeight),i=0;i<pixelCount;i=i+1|0)pixel=pixels[System.Array.index(i,pixels)]>>>0,pixels[System.Array.index(i,pixels)]=(((pixel&4278255360)>>>0|(pixel&16711680)>>>0>>>16)>>>0|(pixel&255)>>>0<<16>>>0)>>>0|0},PlatformFromStream:function(graphicsDevice,stream){throw new System.NotImplementedException.ctor;},FromURL:function(graphicsDevice,url){var $step=0,$task1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,loaded,image,ret,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1,2,3,4],$step);switch($step){case 0:loaded=!1;image=document.createElement("img");image.onload=Bridge.fn.combine(image.onload,function(e){loaded=!0});image.src=url;$step=1;continue;case 1:if(!loaded){$step=2;continue}$step=4;continue;case 2:$task1=System.Threading.Tasks.Task.delay(10);$step=3;$task1.continueWith($asyncBody);return;case 3:$task1.getAwaitedResult();$step=1;continue;case 4:ret=new Microsoft.Xna.Framework.Graphics.Texture2D.ctor(graphicsDevice,image.width|0,image.height|0);ret.PlatformSetData(image);$tcs.setResult(ret);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}}},fields:{width:0,height:0,ArraySize:0,TexelWidth:0,TexelHeight:0,LastTSize:0},props:{Bounds:{get:function(){return new Microsoft.Xna.Framework.Rectangle.$ctor2(0,0,this.width,this.height)}},Width:{get:function(){return this.width}},Height:{get:function(){return this.height}}},ctors:{ctor:function(graphicsDevice,width,height){Microsoft.Xna.Framework.Graphics.Texture2D.$ctor3.call(this,graphicsDevice,width,height,!1,Microsoft.Xna.Framework.Graphics.SurfaceFormat.Color,Microsoft.Xna.Framework.Graphics.Texture2D.SurfaceType.Texture,!1,1)},$ctor1:function(graphicsDevice,width,height,mipmap,format){Microsoft.Xna.Framework.Graphics.Texture2D.$ctor3.call(this,graphicsDevice,width,height,mipmap,format,Microsoft.Xna.Framework.Graphics.Texture2D.SurfaceType.Texture,!1,1)},$ctor4:function(graphicsDevice,width,height,mipmap,format,arraySize){Microsoft.Xna.Framework.Graphics.Texture2D.$ctor3.call(this,graphicsDevice,width,height,mipmap,format,Microsoft.Xna.Framework.Graphics.Texture2D.SurfaceType.Texture,!1,arraySize)},$ctor2:function(graphicsDevice,width,height,mipmap,format,type){Microsoft.Xna.Framework.Graphics.Texture2D.$ctor3.call(this,graphicsDevice,width,height,mipmap,format,type,!1,1)},$ctor3:function(graphicsDevice,width,height,mipmap,format,type,shared,arraySize){if(this.$initialize(),Microsoft.Xna.Framework.Graphics.Texture.ctor.call(this),graphicsDevice==null)throw new System.ArgumentNullException.$ctor3("graphicsDevice",Microsoft.Xna.Framework.FrameworkResources.ResourceCreationWhenDeviceIsNull);if(width<=0)throw new System.ArgumentOutOfRangeException.$ctor4("width","Texture width must be greater than zero");if(height<=0)throw new System.ArgumentOutOfRangeException.$ctor4("height","Texture height must be greater than zero");if(arraySize>1&&!graphicsDevice.GraphicsCapabilities.SupportsTextureArrays)throw new System.ArgumentException.$ctor3("Texture arrays are not supported on this graphics device","arraySize");(this.GraphicsDevice=graphicsDevice,this.width=width,this.height=height,this.TexelWidth=1/width,this.TexelHeight=1/height,this._format=format,this._levelCount=mipmap?Microsoft.Xna.Framework.Graphics.Texture.CalculateMipLevels(width,height):1,this.ArraySize=arraySize,type!==Microsoft.Xna.Framework.Graphics.Texture2D.SurfaceType.SwapChainRenderTarget)&&this.PlatformConstruct(width,height,mipmap,format,type,shared)}},methods:{SetData$2:function(T,level,arraySlice,rect,data,startIndex,elementCount){var checkedRect={v:new Microsoft.Xna.Framework.Rectangle};this.ValidateParams(T,level,arraySlice,System.Nullable.lift1("$clone",rect),data,startIndex,elementCount,checkedRect);this.PlatformSetData$2(T,level,arraySlice,checkedRect.v.$clone(),data,startIndex,elementCount)},SetData$3:function(T,level,rect,data,startIndex,elementCount){var checkedRect={v:new Microsoft.Xna.Framework.Rectangle};this.ValidateParams(T,level,0,System.Nullable.lift1("$clone",rect),data,startIndex,elementCount,checkedRect);System.Nullable.hasValue(rect)?this.PlatformSetData$2(T,level,0,checkedRect.v.$clone(),data,startIndex,elementCount):this.PlatformSetData$1(T,level,data,startIndex,elementCount)},SetData$1:function(T,data,startIndex,elementCount){var checkedRect={v:new Microsoft.Xna.Framework.Rectangle};this.ValidateParams(T,0,0,null,data,startIndex,elementCount,checkedRect);this.PlatformSetData$1(T,0,data,startIndex,elementCount)},SetData:function(T,data){var checkedRect={v:new Microsoft.Xna.Framework.Rectangle};this.ValidateParams(T,0,0,null,data,0,data.length,checkedRect);this.PlatformSetData$1(T,0,data,0,data.length)},GetData$2:function(T,level,arraySlice,rect,data,startIndex,elementCount){var checkedRect={v:new Microsoft.Xna.Framework.Rectangle};this.ValidateParams(T,level,arraySlice,System.Nullable.lift1("$clone",rect),data,startIndex,elementCount,checkedRect);this.PlatformGetData(T,level,arraySlice,checkedRect.v.$clone(),data,startIndex,elementCount)},GetData$3:function(T,level,rect,data,startIndex,elementCount){this.GetData$2(T,level,0,System.Nullable.lift1("$clone",rect),data,startIndex,elementCount)},GetData$1:function(T,data,startIndex,elementCount){this.GetData$3(T,0,null,data,startIndex,elementCount)},GetData:function(T,data){if(data==null)throw new System.ArgumentNullException.$ctor1("data");this.GetData$3(T,0,null,data,0,data.length)},SaveAsJpeg:function(stream,width,height){this.PlatformSaveAsJpeg(stream,width,height)},SaveAsPng:function(stream,width,height){this.PlatformSaveAsPng(stream,width,height)},Reload:function(textureStream){this.PlatformReload(textureStream)},ValidateParams:function(T,level,arraySlice,rect,data,startIndex,elementCount,checkedRect){var $t,textureBounds=new Microsoft.Xna.Framework.Rectangle.$ctor2(0,0,Math.max(this.width>>level,1),Math.max(this.height>>level,1)),tSize,fSize,dataByteSize,blockWidth,blockHeight;if(checkedRect.v=($t=rect,$t!=null?$t:textureBounds),level<0||level>=this.LevelCount)throw new System.ArgumentException.$ctor3("level must be smaller than the number of levels in this texture.","level");if(arraySlice>0&&!this.GraphicsDevice.GraphicsCapabilities.SupportsTextureArrays)throw new System.ArgumentException.$ctor3("Texture arrays are not supported on this graphics device","arraySlice");if(arraySlice<0||arraySlice>=this.ArraySize)throw new System.ArgumentException.$ctor3("arraySlice must be smaller than the ArraySize of this texture and larger than 0.","arraySlice");if(!textureBounds.Contains$1(checkedRect.v.$clone())||checkedRect.v.Width<=0||checkedRect.v.Height<=0)throw new System.ArgumentException.$ctor3("Rectangle must be inside the texture bounds","rect");if(data==null)throw new System.ArgumentNullException.$ctor1("data");if(tSize=Microsoft.Xna.Framework.Utilities.ReflectionHelpers.SizeOf$1(T).Get(),fSize=Microsoft.Xna.Framework.Graphics.GraphicsExtensions.GetSize(this.Format),tSize>fSize||fSize%tSize!=0)throw new System.ArgumentException.$ctor3("Type T is of an invalid size for the format of this texture.","T");if(startIndex<0||startIndex>=data.length)throw new System.ArgumentException.$ctor3("startIndex must be at least zero and smaller than data.Length.","startIndex");if(data.length<(startIndex+elementCount|0))throw new System.ArgumentException.$ctor1("The data array is too small.");if(Microsoft.Xna.Framework.Graphics.GraphicsExtensions.IsCompressedFormat(this.Format)){blockWidth={};blockHeight={};Microsoft.Xna.Framework.Graphics.GraphicsExtensions.GetBlockSize(this.Format,blockWidth,blockHeight);var blockWidthMinusOne=blockWidth.v-1|0,blockHeightMinusOne=blockHeight.v-1|0,roundedWidth=(checkedRect.v.Width+blockWidthMinusOne|0)&~blockWidthMinusOne,roundedHeight=(checkedRect.v.Height+blockHeightMinusOne|0)&~blockHeightMinusOne;checkedRect.v=new Microsoft.Xna.Framework.Rectangle.$ctor2(checkedRect.v.X&~blockWidthMinusOne,checkedRect.v.Y&~blockHeightMinusOne,roundedWidth,roundedHeight);dataByteSize=this.Format===Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbPvrtc2Bpp||this.Format===Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbaPvrtc2Bpp?Bridge.Int.div(Bridge.Int.mul(Bridge.Int.mul(Math.max(checkedRect.v.Width,16),Math.max(checkedRect.v.Height,8)),2)+7|0,8)|0:this.Format===Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbPvrtc4Bpp||this.Format===Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbaPvrtc4Bpp?Bridge.Int.div(Bridge.Int.mul(Bridge.Int.mul(Math.max(checkedRect.v.Width,8),Math.max(checkedRect.v.Height,8)),4)+7|0,8)|0:Bridge.Int.div(Bridge.Int.mul(Bridge.Int.mul(roundedWidth,roundedHeight),fSize),Bridge.Int.mul(blockWidth.v,blockHeight.v))|0}else dataByteSize=Bridge.Int.mul(Bridge.Int.mul(checkedRect.v.Width,checkedRect.v.Height),fSize);this.LastTSize=Bridge.Int.div(dataByteSize,elementCount)|0},PlatformConstruct:function(width,height,mipmap,format,type,shared){var imageSize,wBlocks,hBlocks;this.glTarget=WebGL2RenderingContext.TEXTURE_2D;Microsoft.Xna.Framework.Graphics.GraphicsExtensions.GetGLFormat(format,this.GraphicsDevice,Bridge.ref(this,"glInternalFormat"),Bridge.ref(this,"glFormat"),Bridge.ref(this,"glType"));this.GenerateGLTextureIfRequired();for(var w=width,h=height,level=0;;){if(this.glFormat===WebGL2RenderingContext.COMPRESSED_TEXTURE_FORMATS)if(imageSize=0,format===Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbPvrtc2Bpp||format===Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbaPvrtc2Bpp)imageSize=Bridge.Int.div(Bridge.Int.mul(Bridge.Int.mul(Math.max(w,16),Math.max(h,8)),2)+7|0,8)|0;else if(format===Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbPvrtc4Bpp||format===Microsoft.Xna.Framework.Graphics.SurfaceFormat.RgbaPvrtc4Bpp)imageSize=Bridge.Int.div(Bridge.Int.mul(Bridge.Int.mul(Math.max(w,8),Math.max(h,8)),4)+7|0,8)|0;else{var blockSize=Microsoft.Xna.Framework.Graphics.GraphicsExtensions.GetSize(format),blockWidth={},blockHeight={};Microsoft.Xna.Framework.Graphics.GraphicsExtensions.GetBlockSize(format,blockWidth,blockHeight);wBlocks=Bridge.Int.div(w+(blockWidth.v-1|0)|0,blockWidth.v)|0;hBlocks=Bridge.Int.div(h+(blockHeight.v-1|0)|0,blockHeight.v)|0;imageSize=Bridge.Int.mul(Bridge.Int.mul(wBlocks,hBlocks),blockSize)}if(WebHelper.gl.texImage2D(WebGL2RenderingContext.TEXTURE_2D,level,this.glInternalFormat,this.glFormat,this.glType,new ImageData(w,h)),w===1&&h===1||!mipmap)break;w>1&&(w=Bridge.Int.div(w,2)|0);h>1&&(h=Bridge.Int.div(h,2)|0);level=level+1|0}},GenerateGLTextureIfRequired:function(){if(this.glTexture==null){this.glTexture=WebHelper.gl.createTexture();var wrap=WebGL2RenderingContext.REPEAT;((this.width&(this.width-1|0))!=0||(this.height&(this.height-1|0))!=0)&&(wrap=WebGL2RenderingContext.CLAMP_TO_EDGE);WebHelper.gl.bindTexture(WebGL2RenderingContext.TEXTURE_2D,this.glTexture);WebHelper.gl.texParameteri(WebGL2RenderingContext.TEXTURE_2D,WebGL2RenderingContext.TEXTURE_MIN_FILTER,this._levelCount>1?WebGL2RenderingContext.LINEAR_MIPMAP_LINEAR:WebGL2RenderingContext.LINEAR);WebHelper.gl.texParameteri(WebGL2RenderingContext.TEXTURE_2D,WebGL2RenderingContext.TEXTURE_MAG_FILTER,WebGL2RenderingContext.LINEAR);WebHelper.gl.texParameteri(WebGL2RenderingContext.TEXTURE_2D,WebGL2RenderingContext.TEXTURE_WRAP_S,wrap);WebHelper.gl.texParameteri(WebGL2RenderingContext.TEXTURE_2D,WebGL2RenderingContext.TEXTURE_WRAP_T,wrap)}},PlatformSetData$1:function(T,level,data,startIndex,elementCount){var w={},h={},prevTexture,i,arr21,i1,arr22,i2,arr,i3,arr1,i4,arr2,i5;if(Microsoft.Xna.Framework.Graphics.Texture.GetSizeForLevel$1(this.Width,this.Height,level,w,h),prevTexture=Microsoft.Xna.Framework.Graphics.GraphicsExtensions.GetBoundTexture2D(),Bridge.referenceEquals(prevTexture,this.glTexture)||WebHelper.gl.bindTexture(WebGL2RenderingContext.TEXTURE_2D,this.glTexture),this.GenerateGLTextureIfRequired(),WebHelper.gl.pixelStorei(WebGL2RenderingContext.UNPACK_ALIGNMENT,Math.min(Microsoft.Xna.Framework.Graphics.GraphicsExtensions.GetSize(this._format),8)),this.glFormat===WebGL2RenderingContext.COMPRESSED_TEXTURE_FORMATS){if(this.LastTSize===1){for(arr2=new Uint8Array(elementCount>>>0),i=0;System.Int64(i).lt(System.Int64(elementCount));i=i+1>>>0)arr2[i]=data[System.Array.index(System.Int64.toNumber(System.Int64(i).add(System.Int64(startIndex))),data)];WebHelper.gl.compressedTexImage2D(WebGL2RenderingContext.TEXTURE_2D,level,this.glInternalFormat,w.v,h.v,0,arr2)}else if(this.LastTSize===2){for(arr21=new Uint16Array(elementCount>>>0),i1=0;System.Int64(i1).lt(System.Int64(elementCount));i1=i1+1>>>0)arr21[i1]=data[System.Array.index(System.Int64.toNumber(System.Int64(i1).add(System.Int64(startIndex))),data)];WebHelper.gl.compressedTexImage2D(WebGL2RenderingContext.TEXTURE_2D,level,this.glInternalFormat,w.v,h.v,0,arr21)}else if(this.LastTSize===4){for(arr22=new Uint32Array(elementCount>>>0),i2=0;System.Int64(i2).lt(System.Int64(elementCount));i2=i2+1>>>0)arr22[i2]=data[System.Array.index(System.Int64.toNumber(System.Int64(i2).add(System.Int64(startIndex))),data)];WebHelper.gl.compressedTexImage2D(WebGL2RenderingContext.TEXTURE_2D,level,this.glInternalFormat,w.v,h.v,0,arr22)}}else if(this.LastTSize===1){for(arr=new Uint8Array(elementCount>>>0),i3=0;System.Int64(i3).lt(System.Int64(elementCount));i3=i3+1>>>0)arr[i3]=data[System.Array.index(System.Int64.toNumber(System.Int64(i3).add(System.Int64(startIndex))),data)];WebHelper.gl.texImage2D(WebGL2RenderingContext.TEXTURE_2D,level,this.glInternalFormat,w.v,h.v,0,this.glFormat,this.glType,arr)}else if(this.LastTSize===2){for(arr1=new Uint16Array(elementCount>>>0),i4=0;System.Int64(i4).lt(System.Int64(elementCount));i4=i4+1>>>0)arr1[i4]=data[System.Array.index(System.Int64.toNumber(System.Int64(i4).add(System.Int64(startIndex))),data)];WebHelper.gl.texImage2D(WebGL2RenderingContext.TEXTURE_2D,level,this.glInternalFormat,w.v,h.v,0,this.glFormat,this.glType,arr1)}else if(this.LastTSize===4){for(arr2=new Uint32Array(elementCount>>>0),i5=0;System.Int64(i5).lt(System.Int64(elementCount));i5=i5+1>>>0)arr2[i5]=data[System.Array.index(System.Int64.toNumber(System.Int64(i5).add(System.Int64(startIndex))),data)];WebHelper.gl.texImage2D(WebGL2RenderingContext.TEXTURE_2D,level,this.glInternalFormat,w.v,h.v,0,this.glFormat,this.glType,arr2)}Bridge.referenceEquals(prevTexture,this.glTexture)||WebHelper.gl.bindTexture(WebGL2RenderingContext.TEXTURE_2D,prevTexture)},PlatformSetData$2:function(T,level,arraySlice,rect,data,startIndex,elementCount){throw new System.NotImplementedException.ctor;},PlatformSetData:function(image){var prevTexture=Microsoft.Xna.Framework.Graphics.GraphicsExtensions.GetBoundTexture2D();Bridge.referenceEquals(prevTexture,this.glTexture)||WebHelper.gl.bindTexture(WebGL2RenderingContext.TEXTURE_2D,this.glTexture);WebHelper.gl.texImage2D(WebGL2RenderingContext.TEXTURE_2D,0,WebGL2RenderingContext.RGBA,WebGL2RenderingContext.RGBA,WebGL2RenderingContext.UNSIGNED_BYTE,image);Bridge.referenceEquals(prevTexture,this.glTexture)||WebHelper.gl.bindTexture(WebGL2RenderingContext.TEXTURE_2D,prevTexture)},PlatformGetData:function(T,level,arraySlice,rect,data,startIndex,elementCount){throw new System.NotImplementedException.ctor;},PlatformSaveAsJpeg:function(stream,width,height){throw new System.NotImplementedException.ctor;},PlatformSaveAsPng:function(stream,width,height){throw new System.NotImplementedException.ctor;},PlatformReload:function(textureStream){throw new System.NotImplementedException.ctor;}}});Bridge.define("Microsoft.Xna.Framework.Graphics.Texture3D",{inherits:[Microsoft.Xna.Framework.Graphics.Texture],fields:{_width:0,_height:0,_depth:0},props:{Width:{get:function(){return this._width}},Height:{get:function(){return this._height}},Depth:{get:function(){return this._depth}}},ctors:{ctor:function(graphicsDevice,width,height,depth,mipMap,format){Microsoft.Xna.Framework.Graphics.Texture3D.$ctor1.call(this,graphicsDevice,width,height,depth,mipMap,format,!1)},$ctor1:function(graphicsDevice,width,height,depth,mipMap,format,renderTarget){if(this.$initialize(),Microsoft.Xna.Framework.Graphics.Texture.ctor.call(this),graphicsDevice==null)throw new System.ArgumentNullException.$ctor3("graphicsDevice",Microsoft.Xna.Framework.FrameworkResources.ResourceCreationWhenDeviceIsNull);if(width<=0)throw new System.ArgumentOutOfRangeException.$ctor4("width","Texture width must be greater than zero");if(height<=0)throw new System.ArgumentOutOfRangeException.$ctor4("height","Texture height must be greater than zero");if(depth<=0)throw new System.ArgumentOutOfRangeException.$ctor4("depth","Texture depth must be greater than zero");this.GraphicsDevice=graphicsDevice;this._width=width;this._height=height;this._depth=depth;this._levelCount=1;this._format=format;this.PlatformConstruct(graphicsDevice,width,height,depth,mipMap,format,renderTarget)}},methods:{SetData:function(T,data){if(data==null)throw new System.ArgumentNullException.$ctor1("data");this.SetData$1(T,data,0,data.length)},SetData$1:function(T,data,startIndex,elementCount){this.SetData$2(T,0,0,0,this.Width,this.Height,0,this.Depth,data,startIndex,elementCount)},SetData$2:function(T,level,left,top,right,bottom,front,back,data,startIndex,elementCount){this.ValidateParams(T,level,left,top,right,bottom,front,back,data,startIndex,elementCount);var width=right-left|0,height=bottom-top|0,depth=back-front|0;this.PlatformSetData(T,level,left,top,right,bottom,front,back,data,startIndex,elementCount,width,height,depth)},GetData$2:function(T,level,left,top,right,bottom,front,back,data,startIndex,elementCount){this.ValidateParams(T,level,left,top,right,bottom,front,back,data,startIndex,elementCount);this.PlatformGetData(T,level,left,top,right,bottom,front,back,data,startIndex,elementCount)},GetData$1:function(T,data,startIndex,elementCount){this.GetData$2(T,0,0,0,this._width,this._height,0,this._depth,data,startIndex,elementCount)},GetData:function(T,data){if(data==null)throw new System.ArgumentNullException.$ctor1("data");this.GetData$1(T,data,0,data.length)},ValidateParams:function(T,level,left,top,right,bottom,front,back,data,startIndex,elementCount){var texWidth=Math.max(this.Width>>level,1),texHeight=Math.max(this.Height>>level,1),texDepth=Math.max(this.Depth>>level,1),width=right-left|0,height=bottom-top|0,depth=back-front|0,tSize,fSize,dataByteSize;if(left<0||top<0||back<0||right>texWidth||bottom>texHeight||front>texDepth)throw new System.ArgumentException.$ctor1("Area must remain inside texture bounds");if(left>=right||top>=bottom||front>=back)throw new System.ArgumentException.$ctor1("Neither box size nor box position can be negative");if(level<0||level>=this.LevelCount)throw new System.ArgumentException.$ctor1("level must be smaller than the number of levels in this texture.");if(data==null)throw new System.ArgumentNullException.$ctor1("data");if(tSize=Microsoft.Xna.Framework.Utilities.ReflectionHelpers.SizeOf$1(T).Get(),fSize=Microsoft.Xna.Framework.Graphics.GraphicsExtensions.GetSize(this.Format),tSize>fSize||fSize%tSize!=0)throw new System.ArgumentException.$ctor3("Type T is of an invalid size for the format of this texture.","T");if(startIndex<0||startIndex>=data.length)throw new System.ArgumentException.$ctor3("startIndex must be at least zero and smaller than data.Length.","startIndex");if(data.length<(startIndex+elementCount|0))throw new System.ArgumentException.$ctor1("The data array is too small.");if(dataByteSize=Bridge.Int.mul(Bridge.Int.mul(Bridge.Int.mul(width,height),depth),fSize),Bridge.Int.mul(elementCount,tSize)!==dataByteSize)throw new System.ArgumentException.$ctor3(System.String.format("elementCount is not the right size, elementCount * sizeof(T) is {0}, but data size is {1}.",Bridge.box(Bridge.Int.mul(elementCount,tSize),System.Int32),Bridge.box(dataByteSize,System.Int32)),"elementCount");},PlatformConstruct:function(graphicsDevice,width,height,depth,mipMap,format,renderTarget){throw new System.NotImplementedException.ctor;},PlatformSetData:function(T,level,left,top,right,bottom,front,back,data,startIndex,elementCount,width,height,depth){throw new System.NotImplementedException.ctor;},PlatformGetData:function(T,level,left,top,right,bottom,front,back,data,startIndex,elementCount){throw new System.NotImplementedException.ctor;}}});Bridge.define("Microsoft.Xna.Framework.Graphics.TextureCube",{inherits:[Microsoft.Xna.Framework.Graphics.Texture],fields:{size:0},props:{Size:{get:function(){return this.size}}},ctors:{ctor:function(graphicsDevice,size,mipMap,format){Microsoft.Xna.Framework.Graphics.TextureCube.$ctor1.call(this,graphicsDevice,size,mipMap,format,!1)},$ctor1:function(graphicsDevice,size,mipMap,format,renderTarget){if(this.$initialize(),Microsoft.Xna.Framework.Graphics.Texture.ctor.call(this),graphicsDevice==null)throw new System.ArgumentNullException.$ctor3("graphicsDevice",Microsoft.Xna.Framework.FrameworkResources.ResourceCreationWhenDeviceIsNull);if(size<=0)throw new System.ArgumentOutOfRangeException.$ctor4("size","Cube size must be greater than zero");this.GraphicsDevice=graphicsDevice;this.size=size;this._format=format;this._levelCount=mipMap?Microsoft.Xna.Framework.Graphics.Texture.CalculateMipLevels(size):1;this.PlatformConstruct(graphicsDevice,size,mipMap,format,renderTarget)}},methods:{GetData:function(T,cubeMapFace,data){if(data==null)throw new System.ArgumentNullException.$ctor1("data");this.GetData$2(T,cubeMapFace,0,null,data,0,data.length)},GetData$1:function(T,cubeMapFace,data,startIndex,elementCount){this.GetData$2(T,cubeMapFace,0,null,data,startIndex,elementCount)},GetData$2:function(T,cubeMapFace,level,rect,data,startIndex,elementCount){var checkedRect={v:new Microsoft.Xna.Framework.Rectangle};this.ValidateParams(T,level,System.Nullable.lift1("$clone",rect),data,startIndex,elementCount,checkedRect);this.PlatformGetData(T,cubeMapFace,level,checkedRect.v.$clone(),data,startIndex,elementCount)},SetData:function(T,face,data){if(data==null)throw new System.ArgumentNullException.$ctor1("data");this.SetData$2(T,face,0,null,data,0,data.length)},SetData$1:function(T,face,data,startIndex,elementCount){this.SetData$2(T,face,0,null,data,startIndex,elementCount)},SetData$2:function(T,face,level,rect,data,startIndex,elementCount){var checkedRect={v:new Microsoft.Xna.Framework.Rectangle};this.ValidateParams(T,level,System.Nullable.lift1("$clone",rect),data,startIndex,elementCount,checkedRect);this.PlatformSetData(T,face,level,checkedRect.v.$clone(),data,startIndex,elementCount)},ValidateParams:function(T,level,rect,data,startIndex,elementCount,checkedRect){var $t,textureBounds=new Microsoft.Xna.Framework.Rectangle.$ctor2(0,0,Math.max(this.Size>>level,1),Math.max(this.Size>>level,1)),tSize,fSize,dataByteSize,roundedWidth,roundedHeight;if(checkedRect.v=($t=rect,$t!=null?$t:textureBounds),level<0||level>=this.LevelCount)throw new System.ArgumentException.$ctor1("level must be smaller than the number of levels in this texture.");if(!textureBounds.Contains$1(checkedRect.v.$clone())||checkedRect.v.Width<=0||checkedRect.v.Height<=0)throw new System.ArgumentException.$ctor3("Rectangle must be inside the texture bounds","rect");if(data==null)throw new System.ArgumentNullException.$ctor1("data");if(tSize=Microsoft.Xna.Framework.Utilities.ReflectionHelpers.SizeOf$1(T).Get(),fSize=Microsoft.Xna.Framework.Graphics.GraphicsExtensions.GetSize(this.Format),tSize>fSize||fSize%tSize!=0)throw new System.ArgumentException.$ctor3("Type T is of an invalid size for the format of this texture.","T");if(startIndex<0||startIndex>=data.length)throw new System.ArgumentException.$ctor3("startIndex must be at least zero and smaller than data.Length.","startIndex");if(data.length<(startIndex+elementCount|0))throw new System.ArgumentException.$ctor1("The data array is too small.");if(Microsoft.Xna.Framework.Graphics.GraphicsExtensions.IsCompressedFormat(this.Format)?(roundedWidth=(checkedRect.v.Width+3|0)&-4,roundedHeight=(checkedRect.v.Height+3|0)&-4,checkedRect.v=new Microsoft.Xna.Framework.Rectangle.$ctor2(checkedRect.v.X&-4,checkedRect.v.Y&-4,roundedWidth,roundedHeight),dataByteSize=Bridge.Int.div(Bridge.Int.mul(Bridge.Int.mul(roundedWidth,roundedHeight),fSize),16)|0):dataByteSize=Bridge.Int.mul(Bridge.Int.mul(checkedRect.v.Width,checkedRect.v.Height),fSize),Bridge.Int.mul(elementCount,tSize)!==dataByteSize)throw new System.ArgumentException.$ctor3(System.String.format("elementCount is not the right size, elementCount * sizeof(T) is {0}, but data size is {1}.",Bridge.box(Bridge.Int.mul(elementCount,tSize),System.Int32),Bridge.box(dataByteSize,System.Int32)),"elementCount");},PlatformConstruct:function(graphicsDevice,size,mipMap,format,renderTarget){throw new System.NotImplementedException.ctor;},PlatformGetData:function(T,cubeMapFace,level,rect,data,startIndex,elementCount){throw new System.NotImplementedException.ctor;},PlatformSetData:function(T,face,level,rect,data,startIndex,elementCount){throw new System.NotImplementedException.ctor;}}});Bridge.define("Microsoft.Xna.Framework.Content.TextureReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Graphics.Texture)],methods:{Read$1:function(reader,existingInstance){return existingInstance}}});Bridge.define("Microsoft.Xna.Framework.Content.Vector2Reader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Vector2)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Vector2).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){return input.ReadVector2()}}});Bridge.define("Microsoft.Xna.Framework.Content.Vector3Reader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Vector3)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Vector3).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){return input.ReadVector3()}}});Bridge.define("Microsoft.Xna.Framework.Content.Vector4Reader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Vector4)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Vector4).ctor.call(this)}},methods:{Read$1:function(input,existingInstance){return input.ReadVector4()}}});Bridge.define("Microsoft.Xna.Framework.Content.VertexBufferReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Graphics.VertexBuffer)],methods:{Read$1:function(input,existingInstance){var declaration=input.ReadRawObject(Microsoft.Xna.Framework.Graphics.VertexDeclaration),vertexCount=input.ReadUInt32()|0,dataSize=Bridge.Int.mul(vertexCount,declaration.VertexStride),data=input.ContentManager.GetScratchBuffer(dataSize),buffer;return input.Read$1(data,0,dataSize),buffer=new Microsoft.Xna.Framework.Graphics.VertexBuffer.ctor(input.GraphicsDevice,declaration,vertexCount,Microsoft.Xna.Framework.Graphics.BufferUsage.None),buffer.SetData$1(System.Byte,data,0,dataSize),buffer}}});Bridge.define("Microsoft.Xna.Framework.Content.VertexDeclarationReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Graphics.VertexDeclaration)],methods:{Read$1:function(reader,existingInstance){for(var vertexStride=reader.ReadInt32(),elementCount=reader.ReadInt32(),elements=System.Array.init(elementCount,function(){return new Microsoft.Xna.Framework.Graphics.VertexElement},Microsoft.Xna.Framework.Graphics.VertexElement),i=0;i<elementCount;i=i+1|0){var offset=reader.ReadInt32(),elementFormat=reader.ReadInt32(),elementUsage=reader.ReadInt32(),usageIndex=reader.ReadInt32();elements[System.Array.index(i,elements)]=new Microsoft.Xna.Framework.Graphics.VertexElement.$ctor1(offset,elementFormat,elementUsage,usageIndex)}return Microsoft.Xna.Framework.Graphics.VertexDeclaration.GetOrCreate(vertexStride,elements)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.DynamicIndexBuffer",{inherits:[Microsoft.Xna.Framework.Graphics.IndexBuffer],fields:{UserOffset:0},props:{IsContentLost:{get:function(){return!1}}},ctors:{ctor:function(graphicsDevice,indexElementSize,indexCount,usage){this.$initialize();Microsoft.Xna.Framework.Graphics.IndexBuffer.$ctor1.call(this,graphicsDevice,indexElementSize,indexCount,usage,!0)},$ctor1:function(graphicsDevice,indexType,indexCount,usage){this.$initialize();Microsoft.Xna.Framework.Graphics.IndexBuffer.$ctor3.call(this,graphicsDevice,indexType,indexCount,usage,!0)}},methods:{SetData$4:function(T,offsetInBytes,data,startIndex,elementCount,options){this.SetDataInternal(T,offsetInBytes,data,startIndex,elementCount,options)},SetData$3:function(T,data,startIndex,elementCount,options){this.SetDataInternal(T,0,data,startIndex,elementCount,options)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.DynamicVertexBuffer",{inherits:[Microsoft.Xna.Framework.Graphics.VertexBuffer],fields:{UserOffset:0},props:{IsContentLost:{get:function(){return!1}}},ctors:{ctor:function(graphicsDevice,vertexDeclaration,vertexCount,bufferUsage){this.$initialize();Microsoft.Xna.Framework.Graphics.VertexBuffer.$ctor1.call(this,graphicsDevice,vertexDeclaration,vertexCount,bufferUsage,!0)},$ctor1:function(graphicsDevice,type,vertexCount,bufferUsage){this.$initialize();Microsoft.Xna.Framework.Graphics.VertexBuffer.$ctor1.call(this,graphicsDevice,Microsoft.Xna.Framework.Graphics.VertexDeclaration.FromType(type),vertexCount,bufferUsage,!0)}},methods:{SetData$4:function(T,offsetInBytes,data,startIndex,elementCount,vertexStride,options){this.SetDataInternal(T,offsetInBytes,data,startIndex,elementCount,vertexStride,options)},SetData$3:function(T,data,startIndex,elementCount,options){var elementSizeInBytes=Microsoft.Xna.Framework.Utilities.ReflectionHelpers.SizeOf$1(T).Get();this.SetDataInternal(T,0,data,startIndex,elementCount,elementSizeInBytes,options)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.SpriteEffect",{inherits:[Microsoft.Xna.Framework.Graphics.Effect],fields:{matrixParam:null},ctors:{ctor:function(device){this.$initialize();Microsoft.Xna.Framework.Graphics.Effect.$ctor2.call(this,device,Microsoft.Xna.Framework.Graphics.EffectResource.SpriteEffect.Bytecode);this.CacheEffectParameters()},$ctor1:function(cloneSource){this.$initialize();Microsoft.Xna.Framework.Graphics.Effect.ctor.call(this,cloneSource);this.CacheEffectParameters()}},methods:{Clone:function(){return new Microsoft.Xna.Framework.Graphics.SpriteEffect.$ctor1(this)},CacheEffectParameters:function(){this.matrixParam=this.Parameters.getItem$1("MatrixTransform")},OnApply:function(){var viewport=this.GraphicsDevice.Viewport.$clone(),projection=Microsoft.Xna.Framework.Matrix.CreateOrthographicOffCenter$1(0,viewport.Width,viewport.Height,0,0,1),halfPixelOffset=Microsoft.Xna.Framework.Matrix.CreateTranslation$1(0,0,0);Microsoft.Xna.Framework.Graphics.SpriteBatch.NeedsHalfPixelOffset&&(halfPixelOffset=Microsoft.Xna.Framework.Matrix.op_Addition(halfPixelOffset.$clone(),Microsoft.Xna.Framework.Matrix.CreateTranslation$1(-.5,-.5,0)));this.matrixParam.SetValue$1(Microsoft.Xna.Framework.Matrix.op_Multiply(halfPixelOffset.$clone(),projection.$clone()))}}});Bridge.define("Microsoft.Xna.Framework.Media.SongCollection",{inherits:[System.Collections.Generic.ICollection$1(Microsoft.Xna.Framework.Media.Song),System.Collections.Generic.IEnumerable$1(Microsoft.Xna.Framework.Media.Song),System.Collections.IEnumerable,System.IDisposable],fields:{isReadOnly:!1,innerlist:null},props:{Count:{get:function(){return this.innerlist.Count}},IsReadOnly:{get:function(){return this.isReadOnly}}},alias:["Dispose","System$IDisposable$Dispose","GetEnumerator",["System$Collections$Generic$IEnumerable$1$Microsoft$Xna$Framework$Media$Song$GetEnumerator","System$Collections$Generic$IEnumerable$1$GetEnumerator"],"Count","System$Collections$Generic$ICollection$1$Microsoft$Xna$Framework$Media$Song$Count","IsReadOnly","System$Collections$Generic$ICollection$1$Microsoft$Xna$Framework$Media$Song$IsReadOnly","add","System$Collections$Generic$ICollection$1$Microsoft$Xna$Framework$Media$Song$add","clear","System$Collections$Generic$ICollection$1$Microsoft$Xna$Framework$Media$Song$clear","contains","System$Collections$Generic$ICollection$1$Microsoft$Xna$Framework$Media$Song$contains","copyTo","System$Collections$Generic$ICollection$1$Microsoft$Xna$Framework$Media$Song$copyTo","remove","System$Collections$Generic$ICollection$1$Microsoft$Xna$Framework$Media$Song$remove"],ctors:{init:function(){this.isReadOnly=!1;this.innerlist=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Media.Song).ctor)},ctor:function(){this.$initialize()},$ctor1:function(songs){this.$initialize();this.innerlist=songs}},methods:{getItem:function(index){return this.innerlist.getItem(index)},Dispose:function(){},GetEnumerator:function(){return this.innerlist.GetEnumerator().$clone()},System$Collections$IEnumerable$GetEnumerator:function(){return this.innerlist.GetEnumerator().$clone()},add:function(item){if(Microsoft.Xna.Framework.Media.Song.op_Equality(item,null))throw new System.ArgumentNullException.ctor;if(this.innerlist.Count===0){this.innerlist.add(item);return}for(var i=0;i<this.innerlist.Count;i=i+1|0)if(item.TrackNumber<this.innerlist.getItem(i).TrackNumber){this.innerlist.insert(i,item);return}this.innerlist.add(item)},clear:function(){this.innerlist.clear()},Clone:function(){var $t,sc=new Microsoft.Xna.Framework.Media.SongCollection.ctor,song;$t=Bridge.getEnumerator(this.innerlist);try{while($t.moveNext())song=$t.Current,sc.add(song)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return sc},contains:function(item){return this.innerlist.contains(item)},copyTo:function(array,arrayIndex){this.innerlist.copyTo(array,arrayIndex)},IndexOf:function(item){return this.innerlist.indexOf(item)},remove:function(item){return this.innerlist.remove(item)}}});Bridge.define("Microsoft.Xna.Framework.Content.AlphaTestEffectReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Graphics.AlphaTestEffect)],methods:{Read$1:function(input,existingInstance){var effect=new Microsoft.Xna.Framework.Graphics.AlphaTestEffect.$ctor1(input.GraphicsDevice);return effect.Texture=Bridge.as(input.ReadExternalReference(Microsoft.Xna.Framework.Graphics.Texture),Microsoft.Xna.Framework.Graphics.Texture2D),effect.AlphaFunction=input.ReadInt32(),effect.ReferenceAlpha=input.ReadUInt32()|0,effect.DiffuseColor=input.ReadVector3(),effect.Alpha=input.ReadSingle(),effect.VertexColorEnabled=input.ReadBoolean(),effect}}});Bridge.define("Microsoft.Xna.Framework.Content.BasicEffectReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Graphics.BasicEffect)],methods:{Read$1:function(input,existingInstance){var effect=new Microsoft.Xna.Framework.Graphics.BasicEffect.$ctor1(input.GraphicsDevice),texture=Bridge.as(input.ReadExternalReference(Microsoft.Xna.Framework.Graphics.Texture),Microsoft.Xna.Framework.Graphics.Texture2D);return texture!=null&&(effect.Texture=texture,effect.TextureEnabled=!0),effect.DiffuseColor=input.ReadVector3(),effect.EmissiveColor=input.ReadVector3(),effect.SpecularColor=input.ReadVector3(),effect.SpecularPower=input.ReadSingle(),effect.Alpha=input.ReadSingle(),effect.VertexColorEnabled=input.ReadBoolean(),effect}}});Bridge.define("Microsoft.Xna.Framework.Content.DualTextureEffectReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Graphics.DualTextureEffect)],methods:{Read$1:function(input,existingInstance){var effect=new Microsoft.Xna.Framework.Graphics.DualTextureEffect.$ctor1(input.GraphicsDevice);return effect.Texture=Bridge.as(input.ReadExternalReference(Microsoft.Xna.Framework.Graphics.Texture),Microsoft.Xna.Framework.Graphics.Texture2D),effect.Texture2=Bridge.as(input.ReadExternalReference(Microsoft.Xna.Framework.Graphics.Texture),Microsoft.Xna.Framework.Graphics.Texture2D),effect.DiffuseColor=input.ReadVector3(),effect.Alpha=input.ReadSingle(),effect.VertexColorEnabled=input.ReadBoolean(),effect}}});Bridge.define("Microsoft.Xna.Framework.Content.EffectMaterialReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Graphics.EffectMaterial)],methods:{Read$1:function(input,existingInstance){var $t,effect=input.ReadExternalReference(Microsoft.Xna.Framework.Graphics.Effect),effectMaterial=new Microsoft.Xna.Framework.Graphics.EffectMaterial(effect),dict=input.ReadObject(System.Collections.Generic.Dictionary$2(System.String,System.Object)),item,parameter,itemType;$t=Bridge.getEnumerator(dict);try{while($t.moveNext())if(item=$t.Current,parameter=effectMaterial.Parameters.getItem$1(item.key),parameter!=null)if(itemType=Bridge.getType(item.value),Microsoft.Xna.Framework.Utilities.ReflectionHelpers.IsAssignableFromType(Microsoft.Xna.Framework.Graphics.Texture,itemType))parameter.SetValue(Bridge.cast(item.value,Microsoft.Xna.Framework.Graphics.Texture));else if(Microsoft.Xna.Framework.Utilities.ReflectionHelpers.IsAssignableFromType(System.Int32,itemType))parameter.SetValue$11(System.Nullable.getValue(Bridge.cast(Bridge.unbox(item.value,System.Int32),System.Int32)));else if(Microsoft.Xna.Framework.Utilities.ReflectionHelpers.IsAssignableFromType(System.Boolean,itemType))parameter.SetValue$10(System.Nullable.getValue(Bridge.cast(Bridge.unbox(item.value,System.Boolean),System.Boolean)));else if(Microsoft.Xna.Framework.Utilities.ReflectionHelpers.IsAssignableFromType(System.Single,itemType))parameter.SetValue$12(System.Nullable.getValue(Bridge.cast(Bridge.unbox(item.value,System.Single),System.Single)));else if(Microsoft.Xna.Framework.Utilities.ReflectionHelpers.IsAssignableFromType(System.Array.type(System.Single),itemType))parameter.SetValue$13(Bridge.cast(item.value,System.Array.type(System.Single)));else if(Microsoft.Xna.Framework.Utilities.ReflectionHelpers.IsAssignableFromType(Microsoft.Xna.Framework.Vector2,itemType))parameter.SetValue$4(System.Nullable.getValue(Bridge.cast(Bridge.unbox(item.value,Microsoft.Xna.Framework.Vector2),Microsoft.Xna.Framework.Vector2)));else if(Microsoft.Xna.Framework.Utilities.ReflectionHelpers.IsAssignableFromType(System.Array.type(Microsoft.Xna.Framework.Vector2),itemType))parameter.SetValue$5(Bridge.cast(item.value,System.Array.type(Microsoft.Xna.Framework.Vector2)));else if(Microsoft.Xna.Framework.Utilities.ReflectionHelpers.IsAssignableFromType(Microsoft.Xna.Framework.Vector3,itemType))parameter.SetValue$6(System.Nullable.getValue(Bridge.cast(Bridge.unbox(item.value,Microsoft.Xna.Framework.Vector3),Microsoft.Xna.Framework.Vector3)));else if(Microsoft.Xna.Framework.Utilities.ReflectionHelpers.IsAssignableFromType(System.Array.type(Microsoft.Xna.Framework.Vector3),itemType))parameter.SetValue$7(Bridge.cast(item.value,System.Array.type(Microsoft.Xna.Framework.Vector3)));else if(Microsoft.Xna.Framework.Utilities.ReflectionHelpers.IsAssignableFromType(Microsoft.Xna.Framework.Vector4,itemType))parameter.SetValue$8(System.Nullable.getValue(Bridge.cast(Bridge.unbox(item.value,Microsoft.Xna.Framework.Vector4),Microsoft.Xna.Framework.Vector4)));else if(Microsoft.Xna.Framework.Utilities.ReflectionHelpers.IsAssignableFromType(System.Array.type(Microsoft.Xna.Framework.Vector4),itemType))parameter.SetValue$9(Bridge.cast(item.value,System.Array.type(Microsoft.Xna.Framework.Vector4)));else if(Microsoft.Xna.Framework.Utilities.ReflectionHelpers.IsAssignableFromType(Microsoft.Xna.Framework.Matrix,itemType))parameter.SetValue$1(System.Nullable.getValue(Bridge.cast(Bridge.unbox(item.value,Microsoft.Xna.Framework.Matrix),Microsoft.Xna.Framework.Matrix)));else if(Microsoft.Xna.Framework.Utilities.ReflectionHelpers.IsAssignableFromType(System.Array.type(Microsoft.Xna.Framework.Matrix),itemType))parameter.SetValue$2(Bridge.cast(item.value,System.Array.type(Microsoft.Xna.Framework.Matrix)));else if(Microsoft.Xna.Framework.Utilities.ReflectionHelpers.IsAssignableFromType(Microsoft.Xna.Framework.Quaternion,itemType))parameter.SetValue$3(System.Nullable.getValue(Bridge.cast(Bridge.unbox(item.value,Microsoft.Xna.Framework.Quaternion),Microsoft.Xna.Framework.Quaternion)));else throw new System.NotSupportedException.$ctor1("Parameter type is not supported");}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return effectMaterial}}});Bridge.define("Microsoft.Xna.Framework.Content.EnvironmentMapEffectReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Graphics.EnvironmentMapEffect)],methods:{Read$1:function(input,existingInstance){var effect=new Microsoft.Xna.Framework.Graphics.EnvironmentMapEffect.$ctor1(input.GraphicsDevice);return effect.Texture=Bridge.as(input.ReadExternalReference(Microsoft.Xna.Framework.Graphics.Texture),Microsoft.Xna.Framework.Graphics.Texture2D),effect.EnvironmentMap=input.ReadExternalReference(Microsoft.Xna.Framework.Graphics.TextureCube),effect.EnvironmentMapAmount=input.ReadSingle(),effect.EnvironmentMapSpecular=input.ReadVector3(),effect.FresnelFactor=input.ReadSingle(),effect.DiffuseColor=input.ReadVector3(),effect.EmissiveColor=input.ReadVector3(),effect.Alpha=input.ReadSingle(),effect}}});Bridge.define("Microsoft.Xna.Framework.Content.SkinnedEffectReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Graphics.SkinnedEffect)],methods:{Read$1:function(input,existingInstance){var effect=new Microsoft.Xna.Framework.Graphics.SkinnedEffect.ctor(input.GraphicsDevice);return effect.Texture=Bridge.as(input.ReadExternalReference(Microsoft.Xna.Framework.Graphics.Texture),Microsoft.Xna.Framework.Graphics.Texture2D),effect.WeightsPerVertex=input.ReadInt32(),effect.DiffuseColor=input.ReadVector3(),effect.EmissiveColor=input.ReadVector3(),effect.SpecularColor=input.ReadVector3(),effect.SpecularPower=input.ReadSingle(),effect.Alpha=input.ReadSingle(),effect}}});Bridge.define("Microsoft.Xna.Framework.Content.Texture2DReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Graphics.Texture2D)],ctors:{ctor:function(){this.$initialize();Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Graphics.Texture2D).ctor.call(this)}},methods:{Read$1:function(reader,existingInstance){var texture=null,surfaceFormat=reader.ReadInt32(),width=reader.ReadInt32(),height=reader.ReadInt32(),levelCount=reader.ReadInt32(),levelCountOutput=levelCount,convertedFormat,level,levelDataSizeInBytes,levelData,levelWidth,levelHeight,bytesPerPixel,pitch,y,x,color;levelCount>1&&!reader.GraphicsDevice.GraphicsCapabilities.SupportsNonPowerOfTwo&&(!Microsoft.Xna.Framework.MathHelper.IsPowerOfTwo(width)||!Microsoft.Xna.Framework.MathHelper.IsPowerOfTwo(height))&&(levelCountOutput=1);convertedFormat=surfaceFormat;switch(surfaceFormat){case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt1:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt1a:reader.GraphicsDevice.GraphicsCapabilities.SupportsDxt1||(convertedFormat=Microsoft.Xna.Framework.Graphics.SurfaceFormat.Color);break;case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt1SRgb:reader.GraphicsDevice.GraphicsCapabilities.SupportsDxt1||(convertedFormat=Microsoft.Xna.Framework.Graphics.SurfaceFormat.ColorSRgb);break;case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt3:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt5:reader.GraphicsDevice.GraphicsCapabilities.SupportsS3tc||(convertedFormat=Microsoft.Xna.Framework.Graphics.SurfaceFormat.Color);break;case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt3SRgb:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt5SRgb:reader.GraphicsDevice.GraphicsCapabilities.SupportsS3tc||(convertedFormat=Microsoft.Xna.Framework.Graphics.SurfaceFormat.ColorSRgb);break;case Microsoft.Xna.Framework.Graphics.SurfaceFormat.NormalizedByte4:convertedFormat=Microsoft.Xna.Framework.Graphics.SurfaceFormat.Color;break}for(texture=existingInstance||new Microsoft.Xna.Framework.Graphics.Texture2D.$ctor1(reader.GraphicsDevice,width,height,levelCountOutput>1,convertedFormat),level=0;level<levelCount;level=level+1|0)if(levelDataSizeInBytes=reader.ReadInt32(),levelData=reader.ContentManager.GetScratchBuffer(levelDataSizeInBytes),reader.Read$1(levelData,0,levelDataSizeInBytes),levelWidth=Math.max(width>>level,1),levelHeight=Math.max(height>>level,1),!(level>=levelCountOutput)){switch(surfaceFormat){case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt1:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt1SRgb:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt1a:reader.GraphicsDevice.GraphicsCapabilities.SupportsDxt1||convertedFormat!==Microsoft.Xna.Framework.Graphics.SurfaceFormat.Color||(levelData=Microsoft.Xna.Framework.Graphics.DxtUtil.DecompressDxt1(levelData,levelWidth,levelHeight),levelDataSizeInBytes=levelData.length);break;case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt3:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt3SRgb:reader.GraphicsDevice.GraphicsCapabilities.SupportsS3tc||reader.GraphicsDevice.GraphicsCapabilities.SupportsS3tc||convertedFormat!==Microsoft.Xna.Framework.Graphics.SurfaceFormat.Color||(levelData=Microsoft.Xna.Framework.Graphics.DxtUtil.DecompressDxt3(levelData,levelWidth,levelHeight),levelDataSizeInBytes=levelData.length);break;case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt5:case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Dxt5SRgb:reader.GraphicsDevice.GraphicsCapabilities.SupportsS3tc||reader.GraphicsDevice.GraphicsCapabilities.SupportsS3tc||convertedFormat!==Microsoft.Xna.Framework.Graphics.SurfaceFormat.Color||(levelData=Microsoft.Xna.Framework.Graphics.DxtUtil.DecompressDxt5(levelData,levelWidth,levelHeight),levelDataSizeInBytes=levelData.length);break;case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Bgra5551:break;case Microsoft.Xna.Framework.Graphics.SurfaceFormat.Bgra4444:break;case Microsoft.Xna.Framework.Graphics.SurfaceFormat.NormalizedByte4:for(bytesPerPixel=Microsoft.Xna.Framework.Graphics.GraphicsExtensions.GetSize(surfaceFormat),pitch=Bridge.Int.mul(levelWidth,bytesPerPixel),y=0;y<levelHeight;y=y+1|0)for(x=0;x<levelWidth;x=x+1|0)color=System.BitConverter.toInt32(levelData,Bridge.Int.mul(y,pitch)+Bridge.Int.mul(x,bytesPerPixel)|0),levelData[System.Array.index(Bridge.Int.mul(y,pitch)+Bridge.Int.mul(x,4)|0,levelData)]=color>>16&255,levelData[System.Array.index((Bridge.Int.mul(y,pitch)+Bridge.Int.mul(x,4)|0)+1|0,levelData)]=color>>8&255,levelData[System.Array.index((Bridge.Int.mul(y,pitch)+Bridge.Int.mul(x,4)|0)+2|0,levelData)]=color&255,levelData[System.Array.index((Bridge.Int.mul(y,pitch)+Bridge.Int.mul(x,4)|0)+3|0,levelData)]=color>>24&255;break}texture.SetData$3(System.Byte,level,null,levelData,0,levelDataSizeInBytes)}return texture}}});Bridge.define("Microsoft.Xna.Framework.Content.Texture3DReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Graphics.Texture3D)],methods:{Read$1:function(reader,existingInstance){for(var texture=null,format=reader.ReadInt32(),width=reader.ReadInt32(),height=reader.ReadInt32(),depth=reader.ReadInt32(),levelCount=reader.ReadInt32(),dataSize,data,texture=existingInstance==null?new Microsoft.Xna.Framework.Graphics.Texture3D.ctor(reader.GraphicsDevice,width,height,depth,levelCount>1,format):existingInstance,i=0;i<levelCount;i=i+1|0)dataSize=reader.ReadInt32(),data=reader.ContentManager.GetScratchBuffer(dataSize),reader.Read$1(data,0,dataSize),texture.SetData$2(System.Byte,i,0,0,width,height,0,depth,data,0,dataSize),width=Math.max(width>>1,1),height=Math.max(height>>1,1),depth=Math.max(depth>>1,1);return texture}}});Bridge.define("Microsoft.Xna.Framework.Content.TextureCubeReader",{inherits:[Microsoft.Xna.Framework.Content.ContentTypeReader$1(Microsoft.Xna.Framework.Graphics.TextureCube)],methods:{Read$1:function(reader,existingInstance){for(var textureCube=null,surfaceFormat=reader.ReadInt32(),size=reader.ReadInt32(),levels=reader.ReadInt32(),i,faceSize,faceData,textureCube=existingInstance==null?new Microsoft.Xna.Framework.Graphics.TextureCube.ctor(reader.GraphicsDevice,size,levels>1,surfaceFormat):existingInstance,face=0;face<6;face=face+1|0)for(i=0;i<levels;i=i+1|0)faceSize=reader.ReadInt32(),faceData=reader.ContentManager.GetScratchBuffer(faceSize),reader.Read$1(faceData,0,faceSize),textureCube.SetData$2(System.Byte,face,i,null,faceData,0,faceSize);return textureCube}}});Bridge.define("Microsoft.Xna.Framework.Graphics.RenderTarget2D",{inherits:[Microsoft.Xna.Framework.Graphics.Texture2D,Microsoft.Xna.Framework.Graphics.IRenderTarget],statics:{methods:{QuerySelectedFormat:function(graphicsDevice,preferredFormat){var selectedFormat={v:new Microsoft.Xna.Framework.Graphics.SurfaceFormat},selectedDepthFormat={v:new Microsoft.Xna.Framework.Graphics.DepthFormat},selectedMultiSampleCount={};return graphicsDevice.Adapter.QueryRenderTargetFormat(graphicsDevice.GraphicsProfile,preferredFormat,Microsoft.Xna.Framework.Graphics.DepthFormat.None,0,selectedFormat,selectedDepthFormat,selectedMultiSampleCount),selectedFormat.v}}},fields:{DepthStencilFormat:0,MultiSampleCount:0,RenderTargetUsage:0,Microsoft$Xna$Framework$Graphics$IRenderTarget$GLColorBuffer:null,Microsoft$Xna$Framework$Graphics$IRenderTarget$GLDepthBuffer:null,Microsoft$Xna$Framework$Graphics$IRenderTarget$GLStencilBuffer:null},events:{ContentLost:null},props:{IsContentLost:{get:function(){return!1}},Microsoft$Xna$Framework$Graphics$IRenderTarget$GLTexture:{get:function(){return this.glTexture}},Microsoft$Xna$Framework$Graphics$IRenderTarget$GLTarget:{get:function(){return this.glTarget}}},alias:["MultiSampleCount","Microsoft$Xna$Framework$Graphics$IRenderTarget$MultiSampleCount","RenderTargetUsage","Microsoft$Xna$Framework$Graphics$IRenderTarget$RenderTargetUsage","Width","Microsoft$Xna$Framework$Graphics$IRenderTarget$Width","Height","Microsoft$Xna$Framework$Graphics$IRenderTarget$Height","LevelCount","Microsoft$Xna$Framework$Graphics$IRenderTarget$LevelCount","Width","Microsoft$Xna$Framework$Graphics$IRenderTarget$Width","Height","Microsoft$Xna$Framework$Graphics$IRenderTarget$Height","LevelCount","Microsoft$Xna$Framework$Graphics$IRenderTarget$LevelCount"],ctors:{$ctor5:function(graphicsDevice,width,height,mipMap,preferredFormat,preferredDepthFormat,preferredMultiSampleCount,usage,shared,arraySize){this.$initialize();Microsoft.Xna.Framework.Graphics.Texture2D.$ctor3.call(this,graphicsDevice,width,height,mipMap,Microsoft.Xna.Framework.Graphics.RenderTarget2D.QuerySelectedFormat(graphicsDevice,preferredFormat),Microsoft.Xna.Framework.Graphics.Texture2D.SurfaceType.RenderTarget,shared,arraySize);this.DepthStencilFormat=preferredDepthFormat;this.MultiSampleCount=graphicsDevice.GetClampedMultisampleCount(preferredMultiSampleCount);this.RenderTargetUsage=usage;this.PlatformConstruct$1(graphicsDevice,width,height,mipMap,preferredDepthFormat,preferredMultiSampleCount,usage,shared)},$ctor4:function(graphicsDevice,width,height,mipMap,preferredFormat,preferredDepthFormat,preferredMultiSampleCount,usage,shared){Microsoft.Xna.Framework.Graphics.RenderTarget2D.$ctor5.call(this,graphicsDevice,width,height,mipMap,preferredFormat,preferredDepthFormat,preferredMultiSampleCount,usage,shared,1)},$ctor2:function(graphicsDevice,width,height,mipMap,preferredFormat,preferredDepthFormat,preferredMultiSampleCount,usage){Microsoft.Xna.Framework.Graphics.RenderTarget2D.$ctor4.call(this,graphicsDevice,width,height,mipMap,preferredFormat,preferredDepthFormat,preferredMultiSampleCount,usage,!1)},$ctor1:function(graphicsDevice,width,height,mipMap,preferredFormat,preferredDepthFormat){Microsoft.Xna.Framework.Graphics.RenderTarget2D.$ctor2.call(this,graphicsDevice,width,height,mipMap,preferredFormat,preferredDepthFormat,0,Microsoft.Xna.Framework.Graphics.RenderTargetUsage.DiscardContents)},ctor:function(graphicsDevice,width,height){Microsoft.Xna.Framework.Graphics.RenderTarget2D.$ctor2.call(this,graphicsDevice,width,height,!1,Microsoft.Xna.Framework.Graphics.SurfaceFormat.Color,Microsoft.Xna.Framework.Graphics.DepthFormat.None,0,Microsoft.Xna.Framework.Graphics.RenderTargetUsage.DiscardContents)},$ctor3:function(graphicsDevice,width,height,mipMap,format,depthFormat,preferredMultiSampleCount,usage,surfaceType){this.$initialize();Microsoft.Xna.Framework.Graphics.Texture2D.$ctor2.call(this,graphicsDevice,width,height,mipMap,format,surfaceType);this.DepthStencilFormat=depthFormat;this.MultiSampleCount=preferredMultiSampleCount;this.RenderTargetUsage=usage}},methods:{SuppressEventHandlerWarningsUntilEventsAreProperlyImplemented:function(){return!Bridge.staticEquals(this.ContentLost,null)},GraphicsDeviceResetting:function(){this.PlatformGraphicsDeviceResetting$1();Microsoft.Xna.Framework.Graphics.Texture2D.prototype.GraphicsDeviceResetting.call(this)},Microsoft$Xna$Framework$Graphics$IRenderTarget$GetFramebufferTarget:function(renderTargetBinding){return this.glTarget},PlatformConstruct$1:function(graphicsDevice,width,height,mipMap,preferredDepthFormat,preferredMultiSampleCount,usage,shared){graphicsDevice.PlatformCreateRenderTarget(this,width,height,mipMap,this.Format,preferredDepthFormat,preferredMultiSampleCount,usage)},PlatformGraphicsDeviceResetting$1:function(){},Dispose$1:function(disposing){this.IsDisposed||this.GraphicsDevice.PlatformDeleteRenderTarget(this);Microsoft.Xna.Framework.Graphics.Texture2D.prototype.Dispose$1.call(this,disposing)}}});Bridge.define("Microsoft.Xna.Framework.Graphics.RenderTargetCube",{inherits:[Microsoft.Xna.Framework.Graphics.TextureCube,Microsoft.Xna.Framework.Graphics.IRenderTarget],statics:{methods:{QuerySelectedFormat:function(graphicsDevice,preferredFormat){var selectedFormat={v:new Microsoft.Xna.Framework.Graphics.SurfaceFormat},selectedDepthFormat={v:new Microsoft.Xna.Framework.Graphics.DepthFormat},selectedMultiSampleCount={};return graphicsDevice.Adapter.QueryRenderTargetFormat(graphicsDevice.GraphicsProfile,preferredFormat,Microsoft.Xna.Framework.Graphics.DepthFormat.None,0,selectedFormat,selectedDepthFormat,selectedMultiSampleCount),selectedFormat.v}}},fields:{DepthStencilFormat:0,MultiSampleCount:0,RenderTargetUsage:0,Microsoft$Xna$Framework$Graphics$IRenderTarget$GLColorBuffer:null,Microsoft$Xna$Framework$Graphics$IRenderTarget$GLDepthBuffer:null,Microsoft$Xna$Framework$Graphics$IRenderTarget$GLStencilBuffer:null},events:{ContentLost:null},props:{Microsoft$Xna$Framework$Graphics$IRenderTarget$Width:{get:function(){return this.size}},Microsoft$Xna$Framework$Graphics$IRenderTarget$Height:{get:function(){return this.size}},IsContentLost:{get:function(){return!1}},Microsoft$Xna$Framework$Graphics$IRenderTarget$GLTexture:{get:function(){return this.glTexture}},Microsoft$Xna$Framework$Graphics$IRenderTarget$GLTarget:{get:function(){return this.glTarget}}},alias:["MultiSampleCount","Microsoft$Xna$Framework$Graphics$IRenderTarget$MultiSampleCount","RenderTargetUsage","Microsoft$Xna$Framework$Graphics$IRenderTarget$RenderTargetUsage","LevelCount","Microsoft$Xna$Framework$Graphics$IRenderTarget$LevelCount","LevelCount","Microsoft$Xna$Framework$Graphics$IRenderTarget$LevelCount"],ctors:{ctor:function(graphicsDevice,size,mipMap,preferredFormat,preferredDepthFormat){Microsoft.Xna.Framework.Graphics.RenderTargetCube.$ctor1.call(this,graphicsDevice,size,mipMap,preferredFormat,preferredDepthFormat,0,Microsoft.Xna.Framework.Graphics.RenderTargetUsage.DiscardContents)},$ctor1:function(graphicsDevice,size,mipMap,preferredFormat,preferredDepthFormat,preferredMultiSampleCount,usage){this.$initialize();Microsoft.Xna.Framework.Graphics.TextureCube.$ctor1.call(this,graphicsDevice,size,mipMap,Microsoft.Xna.Framework.Graphics.RenderTargetCube.QuerySelectedFormat(graphicsDevice,preferredFormat),!0);this.DepthStencilFormat=preferredDepthFormat;this.MultiSampleCount=preferredMultiSampleCount;this.RenderTargetUsage=usage;this.PlatformConstruct$1(graphicsDevice,mipMap,preferredDepthFormat,preferredMultiSampleCount,usage)}},methods:{Microsoft$Xna$Framework$Graphics$IRenderTarget$GetFramebufferTarget:function(renderTargetBinding){return WebGL2RenderingContext.TEXTURE_CUBE_MAP_POSITIVE_X+renderTargetBinding.ArraySlice},PlatformConstruct$1:function(graphicsDevice,mipMap,preferredDepthFormat,preferredMultiSampleCount,usage){graphicsDevice.PlatformCreateRenderTarget(this,this.size,this.size,mipMap,this.Format,preferredDepthFormat,preferredMultiSampleCount,usage)},Dispose$1:function(disposing){this.IsDisposed||this.GraphicsDevice.PlatformDeleteRenderTarget(this);Microsoft.Xna.Framework.Graphics.TextureCube.prototype.Dispose$1.call(this,disposing)}}})});